const p$3=function(){const Q=document.createElement("link").relList;if(Q&&Q.supports&&Q.supports("modulepreload"))return;for(const B of document.querySelectorAll('link[rel="modulepreload"]'))X(B);new MutationObserver(B=>{for(const j of B)if(j.type==="childList")for(const U of j.addedNodes)U.tagName==="LINK"&&U.rel==="modulepreload"&&X(U)}).observe(document,{childList:!0,subtree:!0});function q(B){const j={};return B.integrity&&(j.integrity=B.integrity),B.referrerpolicy&&(j.referrerPolicy=B.referrerpolicy),B.crossorigin==="use-credentials"?j.credentials="include":B.crossorigin==="anonymous"?j.credentials="omit":j.credentials="same-origin",j}function X(B){if(B.ep)return;B.ep=!0;const j=q(B);fetch(B.href,j)}};p$3();const light="";/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$6=window,e$8=t$6.ShadowRoot&&(t$6.ShadyCSS===void 0||t$6.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$7=Symbol(),n$7=new WeakMap;class o$7{constructor(Q,q,X){if(this._$cssResult$=!0,X!==s$7)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=Q,this.t=q}get styleSheet(){let Q=this.o;const q=this.t;if(e$8&&Q===void 0){const X=q!==void 0&&q.length===1;X&&(Q=n$7.get(q)),Q===void 0&&((this.o=Q=new CSSStyleSheet).replaceSync(this.cssText),X&&n$7.set(q,Q))}return Q}toString(){return this.cssText}}const r$5=D=>new o$7(typeof D=="string"?D:D+"",void 0,s$7),i$6=(D,...Q)=>{const q=D.length===1?D[0]:Q.reduce((X,B,j)=>X+(U=>{if(U._$cssResult$===!0)return U.cssText;if(typeof U=="number")return U;throw Error("Value passed to 'css' function must be a 'css' function result: "+U+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(B)+D[j+1],D[0]);return new o$7(q,D,s$7)},S$3=(D,Q)=>{e$8?D.adoptedStyleSheets=Q.map(q=>q instanceof CSSStyleSheet?q:q.styleSheet):Q.forEach(q=>{const X=document.createElement("style"),B=t$6.litNonce;B!==void 0&&X.setAttribute("nonce",B),X.textContent=q.cssText,D.appendChild(X)})},c$3=e$8?D=>D:D=>D instanceof CSSStyleSheet?(Q=>{let q="";for(const X of Q.cssRules)q+=X.cssText;return r$5(q)})(D):D;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var s$6;const e$7=window,r$4=e$7.trustedTypes,h$3=r$4?r$4.emptyScript:"",o$6=e$7.reactiveElementPolyfillSupport,n$6={toAttribute(D,Q){switch(Q){case Boolean:D=D?h$3:null;break;case Object:case Array:D=D==null?D:JSON.stringify(D)}return D},fromAttribute(D,Q){let q=D;switch(Q){case Boolean:q=D!==null;break;case Number:q=D===null?null:Number(D);break;case Object:case Array:try{q=JSON.parse(D)}catch{q=null}}return q}},a$4=(D,Q)=>Q!==D&&(Q==Q||D==D),l$7={attribute:!0,type:String,converter:n$6,reflect:!1,hasChanged:a$4};class d$3 extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(Q){var q;(q=this.h)!==null&&q!==void 0||(this.h=[]),this.h.push(Q)}static get observedAttributes(){this.finalize();const Q=[];return this.elementProperties.forEach((q,X)=>{const B=this._$Ep(X,q);B!==void 0&&(this._$Ev.set(B,X),Q.push(B))}),Q}static createProperty(Q,q=l$7){if(q.state&&(q.attribute=!1),this.finalize(),this.elementProperties.set(Q,q),!q.noAccessor&&!this.prototype.hasOwnProperty(Q)){const X=typeof Q=="symbol"?Symbol():"__"+Q,B=this.getPropertyDescriptor(Q,X,q);B!==void 0&&Object.defineProperty(this.prototype,Q,B)}}static getPropertyDescriptor(Q,q,X){return{get(){return this[q]},set(B){const j=this[Q];this[q]=B,this.requestUpdate(Q,j,X)},configurable:!0,enumerable:!0}}static getPropertyOptions(Q){return this.elementProperties.get(Q)||l$7}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const Q=Object.getPrototypeOf(this);if(Q.finalize(),this.elementProperties=new Map(Q.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const q=this.properties,X=[...Object.getOwnPropertyNames(q),...Object.getOwnPropertySymbols(q)];for(const B of X)this.createProperty(B,q[B])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(Q){const q=[];if(Array.isArray(Q)){const X=new Set(Q.flat(1/0).reverse());for(const B of X)q.unshift(c$3(B))}else Q!==void 0&&q.push(c$3(Q));return q}static _$Ep(Q,q){const X=q.attribute;return X===!1?void 0:typeof X=="string"?X:typeof Q=="string"?Q.toLowerCase():void 0}u(){var Q;this._$E_=new Promise(q=>this.enableUpdating=q),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(Q=this.constructor.h)===null||Q===void 0||Q.forEach(q=>q(this))}addController(Q){var q,X;((q=this._$ES)!==null&&q!==void 0?q:this._$ES=[]).push(Q),this.renderRoot!==void 0&&this.isConnected&&((X=Q.hostConnected)===null||X===void 0||X.call(Q))}removeController(Q){var q;(q=this._$ES)===null||q===void 0||q.splice(this._$ES.indexOf(Q)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((Q,q)=>{this.hasOwnProperty(q)&&(this._$Ei.set(q,this[q]),delete this[q])})}createRenderRoot(){var Q;const q=(Q=this.shadowRoot)!==null&&Q!==void 0?Q:this.attachShadow(this.constructor.shadowRootOptions);return S$3(q,this.constructor.elementStyles),q}connectedCallback(){var Q;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(Q=this._$ES)===null||Q===void 0||Q.forEach(q=>{var X;return(X=q.hostConnected)===null||X===void 0?void 0:X.call(q)})}enableUpdating(Q){}disconnectedCallback(){var Q;(Q=this._$ES)===null||Q===void 0||Q.forEach(q=>{var X;return(X=q.hostDisconnected)===null||X===void 0?void 0:X.call(q)})}attributeChangedCallback(Q,q,X){this._$AK(Q,X)}_$EO(Q,q,X=l$7){var B;const j=this.constructor._$Ep(Q,X);if(j!==void 0&&X.reflect===!0){const U=(((B=X.converter)===null||B===void 0?void 0:B.toAttribute)!==void 0?X.converter:n$6).toAttribute(q,X.type);this._$El=Q,U==null?this.removeAttribute(j):this.setAttribute(j,U),this._$El=null}}_$AK(Q,q){var X;const B=this.constructor,j=B._$Ev.get(Q);if(j!==void 0&&this._$El!==j){const U=B.getPropertyOptions(j),Y=typeof U.converter=="function"?{fromAttribute:U.converter}:((X=U.converter)===null||X===void 0?void 0:X.fromAttribute)!==void 0?U.converter:n$6;this._$El=j,this[j]=Y.fromAttribute(q,U.type),this._$El=null}}requestUpdate(Q,q,X){let B=!0;Q!==void 0&&(((X=X||this.constructor.getPropertyOptions(Q)).hasChanged||a$4)(this[Q],q)?(this._$AL.has(Q)||this._$AL.set(Q,q),X.reflect===!0&&this._$El!==Q&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(Q,X))):B=!1),!this.isUpdatePending&&B&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(q){Promise.reject(q)}const Q=this.scheduleUpdate();return Q!=null&&await Q,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var Q;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((B,j)=>this[j]=B),this._$Ei=void 0);let q=!1;const X=this._$AL;try{q=this.shouldUpdate(X),q?(this.willUpdate(X),(Q=this._$ES)===null||Q===void 0||Q.forEach(B=>{var j;return(j=B.hostUpdate)===null||j===void 0?void 0:j.call(B)}),this.update(X)):this._$Ek()}catch(B){throw q=!1,this._$Ek(),B}q&&this._$AE(X)}willUpdate(Q){}_$AE(Q){var q;(q=this._$ES)===null||q===void 0||q.forEach(X=>{var B;return(B=X.hostUpdated)===null||B===void 0?void 0:B.call(X)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(Q)),this.updated(Q)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(Q){return!0}update(Q){this._$EC!==void 0&&(this._$EC.forEach((q,X)=>this._$EO(X,this[X],q)),this._$EC=void 0),this._$Ek()}updated(Q){}firstUpdated(Q){}}d$3.finalized=!0,d$3.elementProperties=new Map,d$3.elementStyles=[],d$3.shadowRootOptions={mode:"open"},o$6==null||o$6({ReactiveElement:d$3}),((s$6=e$7.reactiveElementVersions)!==null&&s$6!==void 0?s$6:e$7.reactiveElementVersions=[]).push("1.4.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t$5;const i$5=window,s$5=i$5.trustedTypes,e$6=s$5?s$5.createPolicy("lit-html",{createHTML:D=>D}):void 0,o$5=`lit$${(Math.random()+"").slice(9)}$`,n$5="?"+o$5,l$6=`<${n$5}>`,h$2=document,r$3=(D="")=>h$2.createComment(D),d$2=D=>D===null||typeof D!="object"&&typeof D!="function",u$2=Array.isArray,c$2=D=>u$2(D)||typeof(D==null?void 0:D[Symbol.iterator])=="function",v$1=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,a$3=/-->/g,f$3=/>/g,_$1=RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),m$2=/'/g,p$2=/"/g,$$1=/^(?:script|style|textarea|title)$/i,g$2=D=>(Q,...q)=>({_$litType$:D,strings:Q,values:q}),y$1=g$2(1),x$2=Symbol.for("lit-noChange"),b$2=Symbol.for("lit-nothing"),T$2=new WeakMap,A$1=h$2.createTreeWalker(h$2,129,null,!1),E$1=(D,Q)=>{const q=D.length-1,X=[];let B,j=Q===2?"<svg>":"",U=v$1;for(let G=0;G<q;G++){const F=D[G];let K,J,ee=-1,te=0;for(;te<F.length&&(U.lastIndex=te,J=U.exec(F),J!==null);)te=U.lastIndex,U===v$1?J[1]==="!--"?U=a$3:J[1]!==void 0?U=f$3:J[2]!==void 0?($$1.test(J[2])&&(B=RegExp("</"+J[2],"g")),U=_$1):J[3]!==void 0&&(U=_$1):U===_$1?J[0]===">"?(U=B!=null?B:v$1,ee=-1):J[1]===void 0?ee=-2:(ee=U.lastIndex-J[2].length,K=J[1],U=J[3]===void 0?_$1:J[3]==='"'?p$2:m$2):U===p$2||U===m$2?U=_$1:U===a$3||U===f$3?U=v$1:(U=_$1,B=void 0);const ne=U===_$1&&D[G+1].startsWith("/>")?" ":"";j+=U===v$1?F+l$6:ee>=0?(X.push(K),F.slice(0,ee)+"$lit$"+F.slice(ee)+o$5+ne):F+o$5+(ee===-2?(X.push(void 0),G):ne)}const Y=j+(D[q]||"<?>")+(Q===2?"</svg>":"");if(!Array.isArray(D)||!D.hasOwnProperty("raw"))throw Error("invalid template strings array");return[e$6!==void 0?e$6.createHTML(Y):Y,X]};class C$3{constructor({strings:Q,_$litType$:q},X){let B;this.parts=[];let j=0,U=0;const Y=Q.length-1,G=this.parts,[F,K]=E$1(Q,q);if(this.el=C$3.createElement(F,X),A$1.currentNode=this.el.content,q===2){const J=this.el.content,ee=J.firstChild;ee.remove(),J.append(...ee.childNodes)}for(;(B=A$1.nextNode())!==null&&G.length<Y;){if(B.nodeType===1){if(B.hasAttributes()){const J=[];for(const ee of B.getAttributeNames())if(ee.endsWith("$lit$")||ee.startsWith(o$5)){const te=K[U++];if(J.push(ee),te!==void 0){const ne=B.getAttribute(te.toLowerCase()+"$lit$").split(o$5),re=/([.?@])?(.*)/.exec(te);G.push({type:1,index:j,name:re[2],strings:ne,ctor:re[1]==="."?M$1:re[1]==="?"?k$2:re[1]==="@"?H$2:S$2})}else G.push({type:6,index:j})}for(const ee of J)B.removeAttribute(ee)}if($$1.test(B.tagName)){const J=B.textContent.split(o$5),ee=J.length-1;if(ee>0){B.textContent=s$5?s$5.emptyScript:"";for(let te=0;te<ee;te++)B.append(J[te],r$3()),A$1.nextNode(),G.push({type:2,index:++j});B.append(J[ee],r$3())}}}else if(B.nodeType===8)if(B.data===n$5)G.push({type:2,index:j});else{let J=-1;for(;(J=B.data.indexOf(o$5,J+1))!==-1;)G.push({type:7,index:j}),J+=o$5.length-1}j++}}static createElement(Q,q){const X=h$2.createElement("template");return X.innerHTML=Q,X}}function P$1(D,Q,q=D,X){var B,j,U,Y;if(Q===x$2)return Q;let G=X!==void 0?(B=q._$Co)===null||B===void 0?void 0:B[X]:q._$Cl;const F=d$2(Q)?void 0:Q._$litDirective$;return(G==null?void 0:G.constructor)!==F&&((j=G==null?void 0:G._$AO)===null||j===void 0||j.call(G,!1),F===void 0?G=void 0:(G=new F(D),G._$AT(D,q,X)),X!==void 0?((U=(Y=q)._$Co)!==null&&U!==void 0?U:Y._$Co=[])[X]=G:q._$Cl=G),G!==void 0&&(Q=P$1(D,G._$AS(D,Q.values),G,X)),Q}class V$1{constructor(Q,q){this.u=[],this._$AN=void 0,this._$AD=Q,this._$AM=q}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(Q){var q;const{el:{content:X},parts:B}=this._$AD,j=((q=Q==null?void 0:Q.creationScope)!==null&&q!==void 0?q:h$2).importNode(X,!0);A$1.currentNode=j;let U=A$1.nextNode(),Y=0,G=0,F=B[0];for(;F!==void 0;){if(Y===F.index){let K;F.type===2?K=new N$2(U,U.nextSibling,this,Q):F.type===1?K=new F.ctor(U,F.name,F.strings,this,Q):F.type===6&&(K=new I$1(U,this,Q)),this.u.push(K),F=B[++G]}Y!==(F==null?void 0:F.index)&&(U=A$1.nextNode(),Y++)}return j}p(Q){let q=0;for(const X of this.u)X!==void 0&&(X.strings!==void 0?(X._$AI(Q,X,q),q+=X.strings.length-2):X._$AI(Q[q])),q++}}class N$2{constructor(Q,q,X,B){var j;this.type=2,this._$AH=b$2,this._$AN=void 0,this._$AA=Q,this._$AB=q,this._$AM=X,this.options=B,this._$Cm=(j=B==null?void 0:B.isConnected)===null||j===void 0||j}get _$AU(){var Q,q;return(q=(Q=this._$AM)===null||Q===void 0?void 0:Q._$AU)!==null&&q!==void 0?q:this._$Cm}get parentNode(){let Q=this._$AA.parentNode;const q=this._$AM;return q!==void 0&&Q.nodeType===11&&(Q=q.parentNode),Q}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(Q,q=this){Q=P$1(this,Q,q),d$2(Q)?Q===b$2||Q==null||Q===""?(this._$AH!==b$2&&this._$AR(),this._$AH=b$2):Q!==this._$AH&&Q!==x$2&&this.g(Q):Q._$litType$!==void 0?this.$(Q):Q.nodeType!==void 0?this.T(Q):c$2(Q)?this.k(Q):this.g(Q)}O(Q,q=this._$AB){return this._$AA.parentNode.insertBefore(Q,q)}T(Q){this._$AH!==Q&&(this._$AR(),this._$AH=this.O(Q))}g(Q){this._$AH!==b$2&&d$2(this._$AH)?this._$AA.nextSibling.data=Q:this.T(h$2.createTextNode(Q)),this._$AH=Q}$(Q){var q;const{values:X,_$litType$:B}=Q,j=typeof B=="number"?this._$AC(Q):(B.el===void 0&&(B.el=C$3.createElement(B.h,this.options)),B);if(((q=this._$AH)===null||q===void 0?void 0:q._$AD)===j)this._$AH.p(X);else{const U=new V$1(j,this),Y=U.v(this.options);U.p(X),this.T(Y),this._$AH=U}}_$AC(Q){let q=T$2.get(Q.strings);return q===void 0&&T$2.set(Q.strings,q=new C$3(Q)),q}k(Q){u$2(this._$AH)||(this._$AH=[],this._$AR());const q=this._$AH;let X,B=0;for(const j of Q)B===q.length?q.push(X=new N$2(this.O(r$3()),this.O(r$3()),this,this.options)):X=q[B],X._$AI(j),B++;B<q.length&&(this._$AR(X&&X._$AB.nextSibling,B),q.length=B)}_$AR(Q=this._$AA.nextSibling,q){var X;for((X=this._$AP)===null||X===void 0||X.call(this,!1,!0,q);Q&&Q!==this._$AB;){const B=Q.nextSibling;Q.remove(),Q=B}}setConnected(Q){var q;this._$AM===void 0&&(this._$Cm=Q,(q=this._$AP)===null||q===void 0||q.call(this,Q))}}class S$2{constructor(Q,q,X,B,j){this.type=1,this._$AH=b$2,this._$AN=void 0,this.element=Q,this.name=q,this._$AM=B,this.options=j,X.length>2||X[0]!==""||X[1]!==""?(this._$AH=Array(X.length-1).fill(new String),this.strings=X):this._$AH=b$2}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(Q,q=this,X,B){const j=this.strings;let U=!1;if(j===void 0)Q=P$1(this,Q,q,0),U=!d$2(Q)||Q!==this._$AH&&Q!==x$2,U&&(this._$AH=Q);else{const Y=Q;let G,F;for(Q=j[0],G=0;G<j.length-1;G++)F=P$1(this,Y[X+G],q,G),F===x$2&&(F=this._$AH[G]),U||(U=!d$2(F)||F!==this._$AH[G]),F===b$2?Q=b$2:Q!==b$2&&(Q+=(F!=null?F:"")+j[G+1]),this._$AH[G]=F}U&&!B&&this.j(Q)}j(Q){Q===b$2?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,Q!=null?Q:"")}}class M$1 extends S$2{constructor(){super(...arguments),this.type=3}j(Q){this.element[this.name]=Q===b$2?void 0:Q}}const R$1=s$5?s$5.emptyScript:"";class k$2 extends S$2{constructor(){super(...arguments),this.type=4}j(Q){Q&&Q!==b$2?this.element.setAttribute(this.name,R$1):this.element.removeAttribute(this.name)}}class H$2 extends S$2{constructor(Q,q,X,B,j){super(Q,q,X,B,j),this.type=5}_$AI(Q,q=this){var X;if((Q=(X=P$1(this,Q,q,0))!==null&&X!==void 0?X:b$2)===x$2)return;const B=this._$AH,j=Q===b$2&&B!==b$2||Q.capture!==B.capture||Q.once!==B.once||Q.passive!==B.passive,U=Q!==b$2&&(B===b$2||j);j&&this.element.removeEventListener(this.name,this,B),U&&this.element.addEventListener(this.name,this,Q),this._$AH=Q}handleEvent(Q){var q,X;typeof this._$AH=="function"?this._$AH.call((X=(q=this.options)===null||q===void 0?void 0:q.host)!==null&&X!==void 0?X:this.element,Q):this._$AH.handleEvent(Q)}}class I$1{constructor(Q,q,X){this.element=Q,this.type=6,this._$AN=void 0,this._$AM=q,this.options=X}get _$AU(){return this._$AM._$AU}_$AI(Q){P$1(this,Q)}}const z$2=i$5.litHtmlPolyfillSupport;z$2==null||z$2(C$3,N$2),((t$5=i$5.litHtmlVersions)!==null&&t$5!==void 0?t$5:i$5.litHtmlVersions=[]).push("2.4.0");const Z=(D,Q,q)=>{var X,B;const j=(X=q==null?void 0:q.renderBefore)!==null&&X!==void 0?X:Q;let U=j._$litPart$;if(U===void 0){const Y=(B=q==null?void 0:q.renderBefore)!==null&&B!==void 0?B:null;j._$litPart$=U=new N$2(Q.insertBefore(r$3(),Y),Y,void 0,q!=null?q:{})}return U._$AI(D),U};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var l$5,o$4;class s$4 extends d$3{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var Q,q;const X=super.createRenderRoot();return(Q=(q=this.renderOptions).renderBefore)!==null&&Q!==void 0||(q.renderBefore=X.firstChild),X}update(Q){const q=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(Q),this._$Do=Z(q,this.renderRoot,this.renderOptions)}connectedCallback(){var Q;super.connectedCallback(),(Q=this._$Do)===null||Q===void 0||Q.setConnected(!0)}disconnectedCallback(){var Q;super.disconnectedCallback(),(Q=this._$Do)===null||Q===void 0||Q.setConnected(!1)}render(){return x$2}}s$4.finalized=!0,s$4._$litElement$=!0,(l$5=globalThis.litElementHydrateSupport)===null||l$5===void 0||l$5.call(globalThis,{LitElement:s$4});const n$4=globalThis.litElementPolyfillSupport;n$4==null||n$4({LitElement:s$4});((o$4=globalThis.litElementVersions)!==null&&o$4!==void 0?o$4:globalThis.litElementVersions=[]).push("3.2.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$5=D=>Q=>typeof Q=="function"?((q,X)=>(customElements.define(q,X),X))(D,Q):((q,X)=>{const{kind:B,elements:j}=X;return{kind:B,elements:j,finisher(U){customElements.define(q,U)}}})(D,Q);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const i$4=(D,Q)=>Q.kind==="method"&&Q.descriptor&&!("value"in Q.descriptor)?{...Q,finisher(q){q.createProperty(Q.key,D)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:Q.key,initializer(){typeof Q.initializer=="function"&&(this[Q.key]=Q.initializer.call(this))},finisher(q){q.createProperty(Q.key,D)}};function e$4(D){return(Q,q)=>q!==void 0?((X,B,j)=>{B.constructor.createProperty(j,X)})(D,Q,q):i$4(D,Q)}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var n$3;((n$3=window.HTMLSlotElement)===null||n$3===void 0?void 0:n$3.prototype.assignedElements)!=null;const appliedClassMixins=new WeakMap;function wasMixinPreviouslyApplied(D,Q){let q=Q;for(;q;){if(appliedClassMixins.get(q)===D)return!0;q=Object.getPrototypeOf(q)}return!1}function dedupeMixin(D){return Q=>{if(wasMixinPreviouslyApplied(D,Q))return Q;const q=D(Q);return appliedClassMixins.set(q,D),q}}const supportsScopedRegistry=!!ShadowRoot.prototype.createElement,ScopedElementsMixinImplementation=D=>class extends D{static get scopedElements(){return{}}static get shadowRootOptions(){return this.__shadowRootOptions}static set shadowRootOptions(q){this.__shadowRootOptions=q}static get elementStyles(){return this.__elementStyles}static set elementStyles(q){this.__elementStyles=q}constructor(...q){super(),this.renderOptions=this.renderOptions||void 0}get registry(){return this.constructor.__registry}set registry(q){this.constructor.__registry=q}createRenderRoot(){const{scopedElements:q,shadowRootOptions:X,elementStyles:B}=this.constructor;if(!this.registry||this.registry===this.constructor.__registry&&!Object.prototype.hasOwnProperty.call(this.constructor,"__registry")){this.registry=supportsScopedRegistry?new CustomElementRegistry:customElements;for(const[G,F]of Object.entries(q))this.defineScopedElement(G,F)}const U={mode:"open",...X,customElements:this.registry},Y=this.attachShadow(U);return supportsScopedRegistry&&(this.renderOptions.creationScope=Y),Y instanceof ShadowRoot&&(S$3(Y,B),this.renderOptions.renderBefore=this.renderOptions.renderBefore||Y.firstChild),Y}createScopedElement(q){return(supportsScopedRegistry?this.shadowRoot:document).createElement(q)}defineScopedElement(q,X){const B=this.registry.get(q);return B&&supportsScopedRegistry===!1&&B!==X&&console.error([`You are trying to re-register the "${q}" custom element with a different class via ScopedElementsMixin.`,"This is only possible with a CustomElementRegistry.","Your browser does not support this feature so you will need to load a polyfill for it.",'Load "@webcomponents/scoped-custom-element-registry" before you register ANY web component to the global customElements registry.','e.g. add "<script src="/node_modules/@webcomponents/scoped-custom-element-registry/scoped-custom-element-registry.min.js"><\/script>" as your first script tag.',"For more details you can visit https://open-wc.org/docs/development/scoped-elements/"].join(`
`)),B?this.registry.get(q):this.registry.define(q,X)}getScopedTagName(q){return q}static getScopedTagName(q){return q}},ScopedElementsMixin=dedupeMixin(ScopedElementsMixinImplementation);var __defProp$2=Object.defineProperty,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__decorateClass$2=(D,Q,q,X)=>{for(var B=X>1?void 0:X?__getOwnPropDesc$2(Q,q):Q,j=D.length-1,U;j>=0;j--)(U=D[j])&&(B=(X?U(Q,q,B):U(B))||B);return X&&B&&__defProp$2(Q,q,B),B};class LitElementWw extends ScopedElementsMixin(s$4){connectedCallback(){super.connectedCallback(),this.getAttributeNames().forEach(Q=>this.setAttribute(Q,this.getAttribute(Q)))}}LitElementWw.shadowRootOptions={...ScopedElementsMixin(s$4).shadowRootOptions,delegatesFocus:!0};__decorateClass$2([e$4({type:Boolean,attribute:!0,reflect:!0})],LitElementWw.prototype,"printable",2);__decorateClass$2([e$4({type:Boolean,attribute:!0,reflect:!0})],LitElementWw.prototype,"editable",2);__decorateClass$2([e$4({type:Boolean,attribute:!0,reflect:!0})],LitElementWw.prototype,"analyzable",2);class Text{constructor(){}lineAt(Q){if(Q<0||Q>this.length)throw new RangeError(`Invalid position ${Q} in document of length ${this.length}`);return this.lineInner(Q,!1,1,0)}line(Q){if(Q<1||Q>this.lines)throw new RangeError(`Invalid line number ${Q} in ${this.lines}-line document`);return this.lineInner(Q,!0,1,0)}replace(Q,q,X){let B=[];return this.decompose(0,Q,B,2),X.length&&X.decompose(0,X.length,B,3),this.decompose(q,this.length,B,1),TextNode.from(B,this.length-(q-Q)+X.length)}append(Q){return this.replace(this.length,this.length,Q)}slice(Q,q=this.length){let X=[];return this.decompose(Q,q,X,0),TextNode.from(X,q-Q)}eq(Q){if(Q==this)return!0;if(Q.length!=this.length||Q.lines!=this.lines)return!1;let q=this.scanIdentical(Q,1),X=this.length-this.scanIdentical(Q,-1),B=new RawTextCursor(this),j=new RawTextCursor(Q);for(let U=q,Y=q;;){if(B.next(U),j.next(U),U=0,B.lineBreak!=j.lineBreak||B.done!=j.done||B.value!=j.value)return!1;if(Y+=B.value.length,B.done||Y>=X)return!0}}iter(Q=1){return new RawTextCursor(this,Q)}iterRange(Q,q=this.length){return new PartialTextCursor(this,Q,q)}iterLines(Q,q){let X;if(Q==null)X=this.iter();else{q==null&&(q=this.lines+1);let B=this.line(Q).from;X=this.iterRange(B,Math.max(B,q==this.lines+1?this.length:q<=1?0:this.line(q-1).to))}return new LineCursor(X)}toString(){return this.sliceString(0)}toJSON(){let Q=[];return this.flatten(Q),Q}static of(Q){if(Q.length==0)throw new RangeError("A document must have at least one line");return Q.length==1&&!Q[0]?Text.empty:Q.length<=32?new TextLeaf(Q):TextNode.from(TextLeaf.split(Q,[]))}}class TextLeaf extends Text{constructor(Q,q=textLength(Q)){super(),this.text=Q,this.length=q}get lines(){return this.text.length}get children(){return null}lineInner(Q,q,X,B){for(let j=0;;j++){let U=this.text[j],Y=B+U.length;if((q?X:Y)>=Q)return new Line(B,Y,X,U);B=Y+1,X++}}decompose(Q,q,X,B){let j=Q<=0&&q>=this.length?this:new TextLeaf(sliceText(this.text,Q,q),Math.min(q,this.length)-Math.max(0,Q));if(B&1){let U=X.pop(),Y=appendText(j.text,U.text.slice(),0,j.length);if(Y.length<=32)X.push(new TextLeaf(Y,U.length+j.length));else{let G=Y.length>>1;X.push(new TextLeaf(Y.slice(0,G)),new TextLeaf(Y.slice(G)))}}else X.push(j)}replace(Q,q,X){if(!(X instanceof TextLeaf))return super.replace(Q,q,X);let B=appendText(this.text,appendText(X.text,sliceText(this.text,0,Q)),q),j=this.length+X.length-(q-Q);return B.length<=32?new TextLeaf(B,j):TextNode.from(TextLeaf.split(B,[]),j)}sliceString(Q,q=this.length,X=`
`){let B="";for(let j=0,U=0;j<=q&&U<this.text.length;U++){let Y=this.text[U],G=j+Y.length;j>Q&&U&&(B+=X),Q<G&&q>j&&(B+=Y.slice(Math.max(0,Q-j),q-j)),j=G+1}return B}flatten(Q){for(let q of this.text)Q.push(q)}scanIdentical(){return 0}static split(Q,q){let X=[],B=-1;for(let j of Q)X.push(j),B+=j.length+1,X.length==32&&(q.push(new TextLeaf(X,B)),X=[],B=-1);return B>-1&&q.push(new TextLeaf(X,B)),q}}class TextNode extends Text{constructor(Q,q){super(),this.children=Q,this.length=q,this.lines=0;for(let X of Q)this.lines+=X.lines}lineInner(Q,q,X,B){for(let j=0;;j++){let U=this.children[j],Y=B+U.length,G=X+U.lines-1;if((q?G:Y)>=Q)return U.lineInner(Q,q,X,B);B=Y+1,X=G+1}}decompose(Q,q,X,B){for(let j=0,U=0;U<=q&&j<this.children.length;j++){let Y=this.children[j],G=U+Y.length;if(Q<=G&&q>=U){let F=B&((U<=Q?1:0)|(G>=q?2:0));U>=Q&&G<=q&&!F?X.push(Y):Y.decompose(Q-U,q-U,X,F)}U=G+1}}replace(Q,q,X){if(X.lines<this.lines)for(let B=0,j=0;B<this.children.length;B++){let U=this.children[B],Y=j+U.length;if(Q>=j&&q<=Y){let G=U.replace(Q-j,q-j,X),F=this.lines-U.lines+G.lines;if(G.lines<F>>5-1&&G.lines>F>>5+1){let K=this.children.slice();return K[B]=G,new TextNode(K,this.length-(q-Q)+X.length)}return super.replace(j,Y,G)}j=Y+1}return super.replace(Q,q,X)}sliceString(Q,q=this.length,X=`
`){let B="";for(let j=0,U=0;j<this.children.length&&U<=q;j++){let Y=this.children[j],G=U+Y.length;U>Q&&j&&(B+=X),Q<G&&q>U&&(B+=Y.sliceString(Q-U,q-U,X)),U=G+1}return B}flatten(Q){for(let q of this.children)q.flatten(Q)}scanIdentical(Q,q){if(!(Q instanceof TextNode))return 0;let X=0,[B,j,U,Y]=q>0?[0,0,this.children.length,Q.children.length]:[this.children.length-1,Q.children.length-1,-1,-1];for(;;B+=q,j+=q){if(B==U||j==Y)return X;let G=this.children[B],F=Q.children[j];if(G!=F)return X+G.scanIdentical(F,q);X+=G.length+1}}static from(Q,q=Q.reduce((X,B)=>X+B.length+1,-1)){let X=0;for(let te of Q)X+=te.lines;if(X<32){let te=[];for(let ne of Q)ne.flatten(te);return new TextLeaf(te,q)}let B=Math.max(32,X>>5),j=B<<1,U=B>>1,Y=[],G=0,F=-1,K=[];function J(te){let ne;if(te.lines>j&&te instanceof TextNode)for(let re of te.children)J(re);else te.lines>U&&(G>U||!G)?(ee(),Y.push(te)):te instanceof TextLeaf&&G&&(ne=K[K.length-1])instanceof TextLeaf&&te.lines+ne.lines<=32?(G+=te.lines,F+=te.length+1,K[K.length-1]=new TextLeaf(ne.text.concat(te.text),ne.length+1+te.length)):(G+te.lines>B&&ee(),G+=te.lines,F+=te.length+1,K.push(te))}function ee(){G!=0&&(Y.push(K.length==1?K[0]:TextNode.from(K,F)),F=-1,G=K.length=0)}for(let te of Q)J(te);return ee(),Y.length==1?Y[0]:new TextNode(Y,q)}}Text.empty=new TextLeaf([""],0);function textLength(D){let Q=-1;for(let q of D)Q+=q.length+1;return Q}function appendText(D,Q,q=0,X=1e9){for(let B=0,j=0,U=!0;j<D.length&&B<=X;j++){let Y=D[j],G=B+Y.length;G>=q&&(G>X&&(Y=Y.slice(0,X-B)),B<q&&(Y=Y.slice(q-B)),U?(Q[Q.length-1]+=Y,U=!1):Q.push(Y)),B=G+1}return Q}function sliceText(D,Q,q){return appendText(D,[""],Q,q)}class RawTextCursor{constructor(Q,q=1){this.dir=q,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[Q],this.offsets=[q>0?1:(Q instanceof TextLeaf?Q.text.length:Q.children.length)<<1]}nextInner(Q,q){for(this.done=this.lineBreak=!1;;){let X=this.nodes.length-1,B=this.nodes[X],j=this.offsets[X],U=j>>1,Y=B instanceof TextLeaf?B.text.length:B.children.length;if(U==(q>0?Y:0)){if(X==0)return this.done=!0,this.value="",this;q>0&&this.offsets[X-1]++,this.nodes.pop(),this.offsets.pop()}else if((j&1)==(q>0?0:1)){if(this.offsets[X]+=q,Q==0)return this.lineBreak=!0,this.value=`
`,this;Q--}else if(B instanceof TextLeaf){let G=B.text[U+(q<0?-1:0)];if(this.offsets[X]+=q,G.length>Math.max(0,Q))return this.value=Q==0?G:q>0?G.slice(Q):G.slice(0,G.length-Q),this;Q-=G.length}else{let G=B.children[U+(q<0?-1:0)];Q>G.length?(Q-=G.length,this.offsets[X]+=q):(q<0&&this.offsets[X]--,this.nodes.push(G),this.offsets.push(q>0?1:(G instanceof TextLeaf?G.text.length:G.children.length)<<1))}}}next(Q=0){return Q<0&&(this.nextInner(-Q,-this.dir),Q=this.value.length),this.nextInner(Q,this.dir)}}class PartialTextCursor{constructor(Q,q,X){this.value="",this.done=!1,this.cursor=new RawTextCursor(Q,q>X?-1:1),this.pos=q>X?Q.length:0,this.from=Math.min(q,X),this.to=Math.max(q,X)}nextInner(Q,q){if(q<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;Q+=Math.max(0,q<0?this.pos-this.to:this.from-this.pos);let X=q<0?this.pos-this.from:this.to-this.pos;Q>X&&(Q=X),X-=Q;let{value:B}=this.cursor.next(Q);return this.pos+=(B.length+Q)*q,this.value=B.length<=X?B:q<0?B.slice(B.length-X):B.slice(0,X),this.done=!this.value,this}next(Q=0){return Q<0?Q=Math.max(Q,this.from-this.pos):Q>0&&(Q=Math.min(Q,this.to-this.pos)),this.nextInner(Q,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(Q){this.inner=Q,this.afterBreak=!0,this.value="",this.done=!1}next(Q=0){let{done:q,lineBreak:X,value:B}=this.inner.next(Q);return q?(this.done=!0,this.value=""):X?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=B,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(Q,q,X,B){this.from=Q,this.to=q,this.number=X,this.text=B}get length(){return this.to-this.from}}let extend="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(D=>D?parseInt(D,36):1);for(let D=1;D<extend.length;D++)extend[D]+=extend[D-1];function isExtendingChar(D){for(let Q=1;Q<extend.length;Q+=2)if(extend[Q]>D)return extend[Q-1]<=D;return!1}function isRegionalIndicator(D){return D>=127462&&D<=127487}const ZWJ=8205;function findClusterBreak(D,Q,q=!0,X=!0){return(q?nextClusterBreak:prevClusterBreak)(D,Q,X)}function nextClusterBreak(D,Q,q){if(Q==D.length)return Q;Q&&surrogateLow(D.charCodeAt(Q))&&surrogateHigh(D.charCodeAt(Q-1))&&Q--;let X=codePointAt(D,Q);for(Q+=codePointSize(X);Q<D.length;){let B=codePointAt(D,Q);if(X==ZWJ||B==ZWJ||q&&isExtendingChar(B))Q+=codePointSize(B),X=B;else if(isRegionalIndicator(B)){let j=0,U=Q-2;for(;U>=0&&isRegionalIndicator(codePointAt(D,U));)j++,U-=2;if(j%2==0)break;Q+=2}else break}return Q}function prevClusterBreak(D,Q,q){for(;Q>0;){let X=nextClusterBreak(D,Q-2,q);if(X<Q)return X;Q--}return 0}function surrogateLow(D){return D>=56320&&D<57344}function surrogateHigh(D){return D>=55296&&D<56320}function codePointAt(D,Q){let q=D.charCodeAt(Q);if(!surrogateHigh(q)||Q+1==D.length)return q;let X=D.charCodeAt(Q+1);return surrogateLow(X)?(q-55296<<10)+(X-56320)+65536:q}function fromCodePoint(D){return D<=65535?String.fromCharCode(D):(D-=65536,String.fromCharCode((D>>10)+55296,(D&1023)+56320))}function codePointSize(D){return D<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(D){return D[D.Simple=0]="Simple",D[D.TrackDel=1]="TrackDel",D[D.TrackBefore=2]="TrackBefore",D[D.TrackAfter=3]="TrackAfter",D}(MapMode||(MapMode={}));class ChangeDesc{constructor(Q){this.sections=Q}get length(){let Q=0;for(let q=0;q<this.sections.length;q+=2)Q+=this.sections[q];return Q}get newLength(){let Q=0;for(let q=0;q<this.sections.length;q+=2){let X=this.sections[q+1];Q+=X<0?this.sections[q]:X}return Q}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(Q){for(let q=0,X=0,B=0;q<this.sections.length;){let j=this.sections[q++],U=this.sections[q++];U<0?(Q(X,B,j),B+=j):B+=U,X+=j}}iterChangedRanges(Q,q=!1){iterChanges(this,Q,q)}get invertedDesc(){let Q=[];for(let q=0;q<this.sections.length;){let X=this.sections[q++],B=this.sections[q++];B<0?Q.push(X,B):Q.push(B,X)}return new ChangeDesc(Q)}composeDesc(Q){return this.empty?Q:Q.empty?this:composeSets(this,Q)}mapDesc(Q,q=!1){return Q.empty?this:mapSet(this,Q,q)}mapPos(Q,q=-1,X=MapMode.Simple){let B=0,j=0;for(let U=0;U<this.sections.length;){let Y=this.sections[U++],G=this.sections[U++],F=B+Y;if(G<0){if(F>Q)return j+(Q-B);j+=Y}else{if(X!=MapMode.Simple&&F>=Q&&(X==MapMode.TrackDel&&B<Q&&F>Q||X==MapMode.TrackBefore&&B<Q||X==MapMode.TrackAfter&&F>Q))return null;if(F>Q||F==Q&&q<0&&!Y)return Q==B||q<0?j:j+G;j+=G}B=F}if(Q>B)throw new RangeError(`Position ${Q} is out of range for changeset of length ${B}`);return j}touchesRange(Q,q=Q){for(let X=0,B=0;X<this.sections.length&&B<=q;){let j=this.sections[X++],U=this.sections[X++],Y=B+j;if(U>=0&&B<=q&&Y>=Q)return B<Q&&Y>q?"cover":!0;B=Y}return!1}toString(){let Q="";for(let q=0;q<this.sections.length;){let X=this.sections[q++],B=this.sections[q++];Q+=(Q?" ":"")+X+(B>=0?":"+B:"")}return Q}toJSON(){return this.sections}static fromJSON(Q){if(!Array.isArray(Q)||Q.length%2||Q.some(q=>typeof q!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(Q)}static create(Q){return new ChangeDesc(Q)}}class ChangeSet extends ChangeDesc{constructor(Q,q){super(Q),this.inserted=q}apply(Q){if(this.length!=Q.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(q,X,B,j,U)=>Q=Q.replace(B,B+(X-q),U),!1),Q}mapDesc(Q,q=!1){return mapSet(this,Q,q,!0)}invert(Q){let q=this.sections.slice(),X=[];for(let B=0,j=0;B<q.length;B+=2){let U=q[B],Y=q[B+1];if(Y>=0){q[B]=Y,q[B+1]=U;let G=B>>1;for(;X.length<G;)X.push(Text.empty);X.push(U?Q.slice(j,j+U):Text.empty)}j+=U}return new ChangeSet(q,X)}compose(Q){return this.empty?Q:Q.empty?this:composeSets(this,Q,!0)}map(Q,q=!1){return Q.empty?this:mapSet(this,Q,q,!0)}iterChanges(Q,q=!1){iterChanges(this,Q,q)}get desc(){return ChangeDesc.create(this.sections)}filter(Q){let q=[],X=[],B=[],j=new SectionIter(this);e:for(let U=0,Y=0;;){let G=U==Q.length?1e9:Q[U++];for(;Y<G||Y==G&&j.len==0;){if(j.done)break e;let K=Math.min(j.len,G-Y);addSection(B,K,-1);let J=j.ins==-1?-1:j.off==0?j.ins:0;addSection(q,K,J),J>0&&addInsert(X,q,j.text),j.forward(K),Y+=K}let F=Q[U++];for(;Y<F;){if(j.done)break e;let K=Math.min(j.len,F-Y);addSection(q,K,-1),addSection(B,K,j.ins==-1?-1:j.off==0?j.ins:0),j.forward(K),Y+=K}}return{changes:new ChangeSet(q,X),filtered:ChangeDesc.create(B)}}toJSON(){let Q=[];for(let q=0;q<this.sections.length;q+=2){let X=this.sections[q],B=this.sections[q+1];B<0?Q.push(X):B==0?Q.push([X]):Q.push([X].concat(this.inserted[q>>1].toJSON()))}return Q}static of(Q,q,X){let B=[],j=[],U=0,Y=null;function G(K=!1){if(!K&&!B.length)return;U<q&&addSection(B,q-U,-1);let J=new ChangeSet(B,j);Y=Y?Y.compose(J.map(Y)):J,B=[],j=[],U=0}function F(K){if(Array.isArray(K))for(let J of K)F(J);else if(K instanceof ChangeSet){if(K.length!=q)throw new RangeError(`Mismatched change set length (got ${K.length}, expected ${q})`);G(),Y=Y?Y.compose(K.map(Y)):K}else{let{from:J,to:ee=J,insert:te}=K;if(J>ee||J<0||ee>q)throw new RangeError(`Invalid change range ${J} to ${ee} (in doc of length ${q})`);let ne=te?typeof te=="string"?Text.of(te.split(X||DefaultSplit)):te:Text.empty,re=ne.length;if(J==ee&&re==0)return;J<U&&G(),J>U&&addSection(B,J-U,-1),addSection(B,ee-J,re),addInsert(j,B,ne),U=ee}}return F(Q),G(!Y),Y}static empty(Q){return new ChangeSet(Q?[Q,-1]:[],[])}static fromJSON(Q){if(!Array.isArray(Q))throw new RangeError("Invalid JSON representation of ChangeSet");let q=[],X=[];for(let B=0;B<Q.length;B++){let j=Q[B];if(typeof j=="number")q.push(j,-1);else{if(!Array.isArray(j)||typeof j[0]!="number"||j.some((U,Y)=>Y&&typeof U!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(j.length==1)q.push(j[0],0);else{for(;X.length<B;)X.push(Text.empty);X[B]=Text.of(j.slice(1)),q.push(j[0],X[B].length)}}}return new ChangeSet(q,X)}static createSet(Q,q){return new ChangeSet(Q,q)}}function addSection(D,Q,q,X=!1){if(Q==0&&q<=0)return;let B=D.length-2;B>=0&&q<=0&&q==D[B+1]?D[B]+=Q:Q==0&&D[B]==0?D[B+1]+=q:X?(D[B]+=Q,D[B+1]+=q):D.push(Q,q)}function addInsert(D,Q,q){if(q.length==0)return;let X=Q.length-2>>1;if(X<D.length)D[D.length-1]=D[D.length-1].append(q);else{for(;D.length<X;)D.push(Text.empty);D.push(q)}}function iterChanges(D,Q,q){let X=D.inserted;for(let B=0,j=0,U=0;U<D.sections.length;){let Y=D.sections[U++],G=D.sections[U++];if(G<0)B+=Y,j+=Y;else{let F=B,K=j,J=Text.empty;for(;F+=Y,K+=G,G&&X&&(J=J.append(X[U-2>>1])),!(q||U==D.sections.length||D.sections[U+1]<0);)Y=D.sections[U++],G=D.sections[U++];Q(B,F,j,K,J),B=F,j=K}}}function mapSet(D,Q,q,X=!1){let B=[],j=X?[]:null,U=new SectionIter(D),Y=new SectionIter(Q);for(let G=-1;;)if(U.ins==-1&&Y.ins==-1){let F=Math.min(U.len,Y.len);addSection(B,F,-1),U.forward(F),Y.forward(F)}else if(Y.ins>=0&&(U.ins<0||G==U.i||U.off==0&&(Y.len<U.len||Y.len==U.len&&!q))){let F=Y.len;for(addSection(B,Y.ins,-1);F;){let K=Math.min(U.len,F);U.ins>=0&&G<U.i&&U.len<=K&&(addSection(B,0,U.ins),j&&addInsert(j,B,U.text),G=U.i),U.forward(K),F-=K}Y.next()}else if(U.ins>=0){let F=0,K=U.len;for(;K;)if(Y.ins==-1){let J=Math.min(K,Y.len);F+=J,K-=J,Y.forward(J)}else if(Y.ins==0&&Y.len<K)K-=Y.len,Y.next();else break;addSection(B,F,G<U.i?U.ins:0),j&&G<U.i&&addInsert(j,B,U.text),G=U.i,U.forward(U.len-K)}else{if(U.done&&Y.done)return j?ChangeSet.createSet(B,j):ChangeDesc.create(B);throw new Error("Mismatched change set lengths")}}function composeSets(D,Q,q=!1){let X=[],B=q?[]:null,j=new SectionIter(D),U=new SectionIter(Q);for(let Y=!1;;){if(j.done&&U.done)return B?ChangeSet.createSet(X,B):ChangeDesc.create(X);if(j.ins==0)addSection(X,j.len,0,Y),j.next();else if(U.len==0&&!U.done)addSection(X,0,U.ins,Y),B&&addInsert(B,X,U.text),U.next();else{if(j.done||U.done)throw new Error("Mismatched change set lengths");{let G=Math.min(j.len2,U.len),F=X.length;if(j.ins==-1){let K=U.ins==-1?-1:U.off?0:U.ins;addSection(X,G,K,Y),B&&K&&addInsert(B,X,U.text)}else U.ins==-1?(addSection(X,j.off?0:j.len,G,Y),B&&addInsert(B,X,j.textBit(G))):(addSection(X,j.off?0:j.len,U.off?0:U.ins,Y),B&&!U.off&&addInsert(B,X,U.text));Y=(j.ins>G||U.ins>=0&&U.len>G)&&(Y||X.length>F),j.forward2(G),U.forward(G)}}}}class SectionIter{constructor(Q){this.set=Q,this.i=0,this.next()}next(){let{sections:Q}=this.set;this.i<Q.length?(this.len=Q[this.i++],this.ins=Q[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:Q}=this.set,q=this.i-2>>1;return q>=Q.length?Text.empty:Q[q]}textBit(Q){let{inserted:q}=this.set,X=this.i-2>>1;return X>=q.length&&!Q?Text.empty:q[X].slice(this.off,Q==null?void 0:this.off+Q)}forward(Q){Q==this.len?this.next():(this.len-=Q,this.off+=Q)}forward2(Q){this.ins==-1?this.forward(Q):Q==this.ins?this.next():(this.ins-=Q,this.off+=Q)}}class SelectionRange{constructor(Q,q,X){this.from=Q,this.to=q,this.flags=X}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let Q=this.flags&3;return Q==3?null:Q}get goalColumn(){let Q=this.flags>>5;return Q==33554431?void 0:Q}map(Q,q=-1){let X,B;return this.empty?X=B=Q.mapPos(this.from,q):(X=Q.mapPos(this.from,1),B=Q.mapPos(this.to,-1)),X==this.from&&B==this.to?this:new SelectionRange(X,B,this.flags)}extend(Q,q=Q){if(Q<=this.anchor&&q>=this.anchor)return EditorSelection.range(Q,q);let X=Math.abs(Q-this.anchor)>Math.abs(q-this.anchor)?Q:q;return EditorSelection.range(this.anchor,X)}eq(Q){return this.anchor==Q.anchor&&this.head==Q.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(Q){if(!Q||typeof Q.anchor!="number"||typeof Q.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(Q.anchor,Q.head)}static create(Q,q,X){return new SelectionRange(Q,q,X)}}class EditorSelection{constructor(Q,q){this.ranges=Q,this.mainIndex=q}map(Q,q=-1){return Q.empty?this:EditorSelection.create(this.ranges.map(X=>X.map(Q,q)),this.mainIndex)}eq(Q){if(this.ranges.length!=Q.ranges.length||this.mainIndex!=Q.mainIndex)return!1;for(let q=0;q<this.ranges.length;q++)if(!this.ranges[q].eq(Q.ranges[q]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(Q,q=!0){return EditorSelection.create([Q].concat(this.ranges),q?0:this.mainIndex+1)}replaceRange(Q,q=this.mainIndex){let X=this.ranges.slice();return X[q]=Q,EditorSelection.create(X,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(Q=>Q.toJSON()),main:this.mainIndex}}static fromJSON(Q){if(!Q||!Array.isArray(Q.ranges)||typeof Q.main!="number"||Q.main>=Q.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(Q.ranges.map(q=>SelectionRange.fromJSON(q)),Q.main)}static single(Q,q=Q){return new EditorSelection([EditorSelection.range(Q,q)],0)}static create(Q,q=0){if(Q.length==0)throw new RangeError("A selection needs at least one range");for(let X=0,B=0;B<Q.length;B++){let j=Q[B];if(j.empty?j.from<=X:j.from<X)return EditorSelection.normalized(Q.slice(),q);X=j.to}return new EditorSelection(Q,q)}static cursor(Q,q=0,X,B){return SelectionRange.create(Q,Q,(q==0?0:q<0?4:8)|(X==null?3:Math.min(2,X))|(B!=null?B:33554431)<<5)}static range(Q,q,X){let B=(X!=null?X:33554431)<<5;return q<Q?SelectionRange.create(q,Q,16|B|8):SelectionRange.create(Q,q,B|(q>Q?4:0))}static normalized(Q,q=0){let X=Q[q];Q.sort((B,j)=>B.from-j.from),q=Q.indexOf(X);for(let B=1;B<Q.length;B++){let j=Q[B],U=Q[B-1];if(j.empty?j.from<=U.to:j.from<U.to){let Y=U.from,G=Math.max(j.to,U.to);B<=q&&q--,Q.splice(--B,2,j.anchor>j.head?EditorSelection.range(G,Y):EditorSelection.range(Y,G))}}return new EditorSelection(Q,q)}}function checkSelection(D,Q){for(let q of D.ranges)if(q.to>Q)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(Q,q,X,B,j){this.combine=Q,this.compareInput=q,this.compare=X,this.isStatic=B,this.id=nextID++,this.default=Q([]),this.extensions=typeof j=="function"?j(this):j}static define(Q={}){return new Facet(Q.combine||(q=>q),Q.compareInput||((q,X)=>q===X),Q.compare||(Q.combine?(q,X)=>q===X:sameArray$1),!!Q.static,Q.enables)}of(Q){return new FacetProvider([],this,0,Q)}compute(Q,q){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(Q,this,1,q)}computeN(Q,q){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(Q,this,2,q)}from(Q,q){return q||(q=X=>X),this.compute([Q],X=>q(X.field(Q)))}}function sameArray$1(D,Q){return D==Q||D.length==Q.length&&D.every((q,X)=>q===Q[X])}class FacetProvider{constructor(Q,q,X,B){this.dependencies=Q,this.facet=q,this.type=X,this.value=B,this.id=nextID++}dynamicSlot(Q){var q;let X=this.value,B=this.facet.compareInput,j=this.id,U=Q[j]>>1,Y=this.type==2,G=!1,F=!1,K=[];for(let J of this.dependencies)J=="doc"?G=!0:J=="selection"?F=!0:(((q=Q[J.id])!==null&&q!==void 0?q:1)&1)==0&&K.push(Q[J.id]);return{create(J){return J.values[U]=X(J),1},update(J,ee){if(G&&ee.docChanged||F&&(ee.docChanged||ee.selection)||ensureAll(J,K)){let te=X(J);if(Y?!compareArray(te,J.values[U],B):!B(te,J.values[U]))return J.values[U]=te,1}return 0},reconfigure:(J,ee)=>{let te=X(J),ne=ee.config.address[j];if(ne!=null){let re=getAddr(ee,ne);if(this.dependencies.every(se=>se instanceof Facet?ee.facet(se)===J.facet(se):se instanceof StateField?ee.field(se,!1)==J.field(se,!1):!0)||(Y?compareArray(te,re,B):B(te,re)))return J.values[U]=re,0}return J.values[U]=te,1}}}}function compareArray(D,Q,q){if(D.length!=Q.length)return!1;for(let X=0;X<D.length;X++)if(!q(D[X],Q[X]))return!1;return!0}function ensureAll(D,Q){let q=!1;for(let X of Q)ensureAddr(D,X)&1&&(q=!0);return q}function dynamicFacetSlot(D,Q,q){let X=q.map(G=>D[G.id]),B=q.map(G=>G.type),j=X.filter(G=>!(G&1)),U=D[Q.id]>>1;function Y(G){let F=[];for(let K=0;K<X.length;K++){let J=getAddr(G,X[K]);if(B[K]==2)for(let ee of J)F.push(ee);else F.push(J)}return Q.combine(F)}return{create(G){for(let F of X)ensureAddr(G,F);return G.values[U]=Y(G),1},update(G,F){if(!ensureAll(G,j))return 0;let K=Y(G);return Q.compare(K,G.values[U])?0:(G.values[U]=K,1)},reconfigure(G,F){let K=ensureAll(G,X),J=F.config.facets[Q.id],ee=F.facet(Q);if(J&&!K&&sameArray$1(q,J))return G.values[U]=ee,0;let te=Y(G);return Q.compare(te,ee)?(G.values[U]=ee,0):(G.values[U]=te,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(Q,q,X,B,j){this.id=Q,this.createF=q,this.updateF=X,this.compareF=B,this.spec=j,this.provides=void 0}static define(Q){let q=new StateField(nextID++,Q.create,Q.update,Q.compare||((X,B)=>X===B),Q);return Q.provide&&(q.provides=Q.provide(q)),q}create(Q){let q=Q.facet(initField).find(X=>X.field==this);return((q==null?void 0:q.create)||this.createF)(Q)}slot(Q){let q=Q[this.id]>>1;return{create:X=>(X.values[q]=this.create(X),1),update:(X,B)=>{let j=X.values[q],U=this.updateF(j,B);return this.compareF(j,U)?0:(X.values[q]=U,1)},reconfigure:(X,B)=>B.config.address[this.id]!=null?(X.values[q]=B.field(this),0):(X.values[q]=this.create(X),1)}}init(Q){return[this,initField.of({field:this,create:Q})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(D){return Q=>new PrecExtension(Q,D)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(Q,q){this.inner=Q,this.prec=q}}class Compartment{of(Q){return new CompartmentInstance(this,Q)}reconfigure(Q){return Compartment.reconfigure.of({compartment:this,extension:Q})}get(Q){return Q.config.compartments.get(this)}}class CompartmentInstance{constructor(Q,q){this.compartment=Q,this.inner=q}}class Configuration{constructor(Q,q,X,B,j,U){for(this.base=Q,this.compartments=q,this.dynamicSlots=X,this.address=B,this.staticValues=j,this.facets=U,this.statusTemplate=[];this.statusTemplate.length<X.length;)this.statusTemplate.push(0)}staticFacet(Q){let q=this.address[Q.id];return q==null?Q.default:this.staticValues[q>>1]}static resolve(Q,q,X){let B=[],j=Object.create(null),U=new Map;for(let ee of flatten(Q,q,U))ee instanceof StateField?B.push(ee):(j[ee.facet.id]||(j[ee.facet.id]=[])).push(ee);let Y=Object.create(null),G=[],F=[];for(let ee of B)Y[ee.id]=F.length<<1,F.push(te=>ee.slot(te));let K=X==null?void 0:X.config.facets;for(let ee in j){let te=j[ee],ne=te[0].facet,re=K&&K[ee]||[];if(te.every(se=>se.type==0))if(Y[ne.id]=G.length<<1|1,sameArray$1(re,te))G.push(X.facet(ne));else{let se=ne.combine(te.map(oe=>oe.value));G.push(X&&ne.compare(se,X.facet(ne))?X.facet(ne):se)}else{for(let se of te)se.type==0?(Y[se.id]=G.length<<1|1,G.push(se.value)):(Y[se.id]=F.length<<1,F.push(oe=>se.dynamicSlot(oe)));Y[ne.id]=F.length<<1,F.push(se=>dynamicFacetSlot(se,ne,te))}}let J=F.map(ee=>ee(Y));return new Configuration(Q,U,J,Y,G,j)}}function flatten(D,Q,q){let X=[[],[],[],[],[]],B=new Map;function j(U,Y){let G=B.get(U);if(G!=null){if(G<=Y)return;let F=X[G].indexOf(U);F>-1&&X[G].splice(F,1),U instanceof CompartmentInstance&&q.delete(U.compartment)}if(B.set(U,Y),Array.isArray(U))for(let F of U)j(F,Y);else if(U instanceof CompartmentInstance){if(q.has(U.compartment))throw new RangeError("Duplicate use of compartment in extensions");let F=Q.get(U.compartment)||U.inner;q.set(U.compartment,F),j(F,Y)}else if(U instanceof PrecExtension)j(U.inner,U.prec);else if(U instanceof StateField)X[Y].push(U),U.provides&&j(U.provides,Y);else if(U instanceof FacetProvider)X[Y].push(U),U.facet.extensions&&j(U.facet.extensions,Prec_.default);else{let F=U.extension;if(!F)throw new Error(`Unrecognized extension value in extension set (${U}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);j(F,Y)}}return j(D,Prec_.default),X.reduce((U,Y)=>U.concat(Y))}function ensureAddr(D,Q){if(Q&1)return 2;let q=Q>>1,X=D.status[q];if(X==4)throw new Error("Cyclic dependency between fields and/or facets");if(X&2)return X;D.status[q]=4;let B=D.computeSlot(D,D.config.dynamicSlots[q]);return D.status[q]=2|B}function getAddr(D,Q){return Q&1?D.config.staticValues[Q>>1]:D.values[Q>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:D=>D.some(Q=>Q),static:!0}),lineSeparator=Facet.define({combine:D=>D.length?D[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:D=>D.length?D[0]:!1});class Annotation{constructor(Q,q){this.type=Q,this.value=q}static define(){return new AnnotationType}}class AnnotationType{of(Q){return new Annotation(this,Q)}}class StateEffectType{constructor(Q){this.map=Q}of(Q){return new StateEffect(this,Q)}}class StateEffect{constructor(Q,q){this.type=Q,this.value=q}map(Q){let q=this.type.map(this.value,Q);return q===void 0?void 0:q==this.value?this:new StateEffect(this.type,q)}is(Q){return this.type==Q}static define(Q={}){return new StateEffectType(Q.map||(q=>q))}static mapEffects(Q,q){if(!Q.length)return Q;let X=[];for(let B of Q){let j=B.map(q);j&&X.push(j)}return X}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(Q,q,X,B,j,U){this.startState=Q,this.changes=q,this.selection=X,this.effects=B,this.annotations=j,this.scrollIntoView=U,this._doc=null,this._state=null,X&&checkSelection(X,q.newLength),j.some(Y=>Y.type==Transaction.time)||(this.annotations=j.concat(Transaction.time.of(Date.now())))}static create(Q,q,X,B,j,U){return new Transaction(Q,q,X,B,j,U)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(Q){for(let q of this.annotations)if(q.type==Q)return q.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(Q){let q=this.annotation(Transaction.userEvent);return!!(q&&(q==Q||q.length>Q.length&&q.slice(0,Q.length)==Q&&q[Q.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(D,Q){let q=[];for(let X=0,B=0;;){let j,U;if(X<D.length&&(B==Q.length||Q[B]>=D[X]))j=D[X++],U=D[X++];else if(B<Q.length)j=Q[B++],U=Q[B++];else return q;!q.length||q[q.length-1]<j?q.push(j,U):q[q.length-1]<U&&(q[q.length-1]=U)}}function mergeTransaction(D,Q,q){var X;let B,j,U;return q?(B=Q.changes,j=ChangeSet.empty(Q.changes.length),U=D.changes.compose(Q.changes)):(B=Q.changes.map(D.changes),j=D.changes.mapDesc(Q.changes,!0),U=D.changes.compose(B)),{changes:U,selection:Q.selection?Q.selection.map(j):(X=D.selection)===null||X===void 0?void 0:X.map(B),effects:StateEffect.mapEffects(D.effects,B).concat(StateEffect.mapEffects(Q.effects,j)),annotations:D.annotations.length?D.annotations.concat(Q.annotations):Q.annotations,scrollIntoView:D.scrollIntoView||Q.scrollIntoView}}function resolveTransactionInner(D,Q,q){let X=Q.selection,B=asArray$1(Q.annotations);return Q.userEvent&&(B=B.concat(Transaction.userEvent.of(Q.userEvent))),{changes:Q.changes instanceof ChangeSet?Q.changes:ChangeSet.of(Q.changes||[],q,D.facet(lineSeparator)),selection:X&&(X instanceof EditorSelection?X:EditorSelection.single(X.anchor,X.head)),effects:asArray$1(Q.effects),annotations:B,scrollIntoView:!!Q.scrollIntoView}}function resolveTransaction(D,Q,q){let X=resolveTransactionInner(D,Q.length?Q[0]:{},D.doc.length);Q.length&&Q[0].filter===!1&&(q=!1);for(let j=1;j<Q.length;j++){Q[j].filter===!1&&(q=!1);let U=!!Q[j].sequential;X=mergeTransaction(X,resolveTransactionInner(D,Q[j],U?X.changes.newLength:D.doc.length),U)}let B=Transaction.create(D,X.changes,X.selection,X.effects,X.annotations,X.scrollIntoView);return extendTransaction(q?filterTransaction(B):B)}function filterTransaction(D){let Q=D.startState,q=!0;for(let B of Q.facet(changeFilter)){let j=B(D);if(j===!1){q=!1;break}Array.isArray(j)&&(q=q===!0?j:joinRanges(q,j))}if(q!==!0){let B,j;if(q===!1)j=D.changes.invertedDesc,B=ChangeSet.empty(Q.doc.length);else{let U=D.changes.filter(q);B=U.changes,j=U.filtered.mapDesc(U.changes).invertedDesc}D=Transaction.create(Q,B,D.selection&&D.selection.map(j),StateEffect.mapEffects(D.effects,j),D.annotations,D.scrollIntoView)}let X=Q.facet(transactionFilter);for(let B=X.length-1;B>=0;B--){let j=X[B](D);j instanceof Transaction?D=j:Array.isArray(j)&&j.length==1&&j[0]instanceof Transaction?D=j[0]:D=resolveTransaction(Q,asArray$1(j),!1)}return D}function extendTransaction(D){let Q=D.startState,q=Q.facet(transactionExtender),X=D;for(let B=q.length-1;B>=0;B--){let j=q[B](D);j&&Object.keys(j).length&&(X=mergeTransaction(X,resolveTransactionInner(Q,j,D.changes.newLength),!0))}return X==D?D:Transaction.create(Q,D.changes,D.selection,X.effects,X.annotations,X.scrollIntoView)}const none$2=[];function asArray$1(D){return D==null?none$2:Array.isArray(D)?D:[D]}var CharCategory=function(D){return D[D.Word=0]="Word",D[D.Space=1]="Space",D[D.Other=2]="Other",D}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function hasWordChar(D){if(wordChar)return wordChar.test(D);for(let Q=0;Q<D.length;Q++){let q=D[Q];if(/\w/.test(q)||q>"\x80"&&(q.toUpperCase()!=q.toLowerCase()||nonASCIISingleCaseWordChar.test(q)))return!0}return!1}function makeCategorizer(D){return Q=>{if(!/\S/.test(Q))return CharCategory.Space;if(hasWordChar(Q))return CharCategory.Word;for(let q=0;q<D.length;q++)if(Q.indexOf(D[q])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(Q,q,X,B,j,U){this.config=Q,this.doc=q,this.selection=X,this.values=B,this.status=Q.statusTemplate.slice(),this.computeSlot=j,U&&(U._state=this);for(let Y=0;Y<this.config.dynamicSlots.length;Y++)ensureAddr(this,Y<<1);this.computeSlot=null}field(Q,q=!0){let X=this.config.address[Q.id];if(X==null){if(q)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,X),getAddr(this,X)}update(...Q){return resolveTransaction(this,Q,!0)}applyTransaction(Q){let q=this.config,{base:X,compartments:B}=q;for(let U of Q.effects)U.is(Compartment.reconfigure)?(q&&(B=new Map,q.compartments.forEach((Y,G)=>B.set(G,Y)),q=null),B.set(U.value.compartment,U.value.extension)):U.is(StateEffect.reconfigure)?(q=null,X=U.value):U.is(StateEffect.appendConfig)&&(q=null,X=asArray$1(X).concat(U.value));let j;q?j=Q.startState.values.slice():(q=Configuration.resolve(X,B,this),j=new EditorState(q,this.doc,this.selection,q.dynamicSlots.map(()=>null),(Y,G)=>G.reconfigure(Y,this),null).values),new EditorState(q,Q.newDoc,Q.newSelection,j,(U,Y)=>Y.update(U,Q),Q)}replaceSelection(Q){return typeof Q=="string"&&(Q=this.toText(Q)),this.changeByRange(q=>({changes:{from:q.from,to:q.to,insert:Q},range:EditorSelection.cursor(q.from+Q.length)}))}changeByRange(Q){let q=this.selection,X=Q(q.ranges[0]),B=this.changes(X.changes),j=[X.range],U=asArray$1(X.effects);for(let Y=1;Y<q.ranges.length;Y++){let G=Q(q.ranges[Y]),F=this.changes(G.changes),K=F.map(B);for(let ee=0;ee<Y;ee++)j[ee]=j[ee].map(K);let J=B.mapDesc(F,!0);j.push(G.range.map(J)),B=B.compose(K),U=StateEffect.mapEffects(U,K).concat(StateEffect.mapEffects(asArray$1(G.effects),J))}return{changes:B,selection:EditorSelection.create(j,q.mainIndex),effects:U}}changes(Q=[]){return Q instanceof ChangeSet?Q:ChangeSet.of(Q,this.doc.length,this.facet(EditorState.lineSeparator))}toText(Q){return Text.of(Q.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(Q=0,q=this.doc.length){return this.doc.sliceString(Q,q,this.lineBreak)}facet(Q){let q=this.config.address[Q.id];return q==null?Q.default:(ensureAddr(this,q),getAddr(this,q))}toJSON(Q){let q={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(Q)for(let X in Q){let B=Q[X];B instanceof StateField&&this.config.address[B.id]!=null&&(q[X]=B.spec.toJSON(this.field(Q[X]),this))}return q}static fromJSON(Q,q={},X){if(!Q||typeof Q.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let B=[];if(X){for(let j in X)if(Object.prototype.hasOwnProperty.call(Q,j)){let U=X[j],Y=Q[j];B.push(U.init(G=>U.spec.fromJSON(Y,G)))}}return EditorState.create({doc:Q.doc,selection:EditorSelection.fromJSON(Q.selection),extensions:q.extensions?B.concat([q.extensions]):B})}static create(Q={}){let q=Configuration.resolve(Q.extensions||[],new Map),X=Q.doc instanceof Text?Q.doc:Text.of((Q.doc||"").split(q.staticFacet(EditorState.lineSeparator)||DefaultSplit)),B=Q.selection?Q.selection instanceof EditorSelection?Q.selection:EditorSelection.single(Q.selection.anchor,Q.selection.head):EditorSelection.single(0);return checkSelection(B,X.length),q.staticFacet(allowMultipleSelections)||(B=B.asSingle()),new EditorState(q,X,B,q.dynamicSlots.map(()=>null),(j,U)=>U.create(j),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(Q,...q){for(let X of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(X,Q)){Q=X[Q];break}return q.length&&(Q=Q.replace(/\$(\$|\d*)/g,(X,B)=>{if(B=="$")return"$";let j=+(B||1);return!j||j>q.length?X:q[j-1]})),Q}languageDataAt(Q,q,X=-1){let B=[];for(let j of this.facet(languageData))for(let U of j(this,q,X))Object.prototype.hasOwnProperty.call(U,Q)&&B.push(U[Q]);return B}charCategorizer(Q){return makeCategorizer(this.languageDataAt("wordChars",Q).join(""))}wordAt(Q){let{text:q,from:X,length:B}=this.doc.lineAt(Q),j=this.charCategorizer(Q),U=Q-X,Y=Q-X;for(;U>0;){let G=findClusterBreak(q,U,!1);if(j(q.slice(G,U))!=CharCategory.Word)break;U=G}for(;Y<B;){let G=findClusterBreak(q,Y);if(j(q.slice(Y,G))!=CharCategory.Word)break;Y=G}return U==Y?null:EditorSelection.range(U+X,Y+X)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:D=>D.length?D[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(D,Q){let q=Object.keys(D),X=Object.keys(Q);return q.length==X.length&&q.every(B=>D[B]==Q[B])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(D,Q,q={}){let X={};for(let B of D)for(let j of Object.keys(B)){let U=B[j],Y=X[j];if(Y===void 0)X[j]=U;else if(!(Y===U||U===void 0))if(Object.hasOwnProperty.call(q,j))X[j]=q[j](Y,U);else throw new Error("Config merge conflict for field "+j)}for(let B in Q)X[B]===void 0&&(X[B]=Q[B]);return X}class RangeValue{eq(Q){return this==Q}range(Q,q=Q){return Range$1.create(Q,q,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;class Range$1{constructor(Q,q,X){this.from=Q,this.to=q,this.value=X}static create(Q,q,X){return new Range$1(Q,q,X)}}function cmpRange(D,Q){return D.from-Q.from||D.value.startSide-Q.value.startSide}class Chunk{constructor(Q,q,X,B){this.from=Q,this.to=q,this.value=X,this.maxPoint=B}get length(){return this.to[this.to.length-1]}findIndex(Q,q,X,B=0){let j=X?this.to:this.from;for(let U=B,Y=j.length;;){if(U==Y)return U;let G=U+Y>>1,F=j[G]-Q||(X?this.value[G].endSide:this.value[G].startSide)-q;if(G==U)return F>=0?U:Y;F>=0?Y=G:U=G+1}}between(Q,q,X,B){for(let j=this.findIndex(q,-1e9,!0),U=this.findIndex(X,1e9,!1,j);j<U;j++)if(B(this.from[j]+Q,this.to[j]+Q,this.value[j])===!1)return!1}map(Q,q){let X=[],B=[],j=[],U=-1,Y=-1;for(let G=0;G<this.value.length;G++){let F=this.value[G],K=this.from[G]+Q,J=this.to[G]+Q,ee,te;if(K==J){let ne=q.mapPos(K,F.startSide,F.mapMode);if(ne==null||(ee=te=ne,F.startSide!=F.endSide&&(te=q.mapPos(K,F.endSide),te<ee)))continue}else if(ee=q.mapPos(K,F.startSide),te=q.mapPos(J,F.endSide),ee>te||ee==te&&F.startSide>0&&F.endSide<=0)continue;(te-ee||F.endSide-F.startSide)<0||(U<0&&(U=ee),F.point&&(Y=Math.max(Y,te-ee)),X.push(F),B.push(ee-U),j.push(te-U))}return{mapped:X.length?new Chunk(B,j,X,Y):null,pos:U}}}class RangeSet{constructor(Q,q,X,B){this.chunkPos=Q,this.chunk=q,this.nextLayer=X,this.maxPoint=B}static create(Q,q,X,B){return new RangeSet(Q,q,X,B)}get length(){let Q=this.chunk.length-1;return Q<0?0:Math.max(this.chunkEnd(Q),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let Q=this.nextLayer.size;for(let q of this.chunk)Q+=q.value.length;return Q}chunkEnd(Q){return this.chunkPos[Q]+this.chunk[Q].length}update(Q){let{add:q=[],sort:X=!1,filterFrom:B=0,filterTo:j=this.length}=Q,U=Q.filter;if(q.length==0&&!U)return this;if(X&&(q=q.slice().sort(cmpRange)),this.isEmpty)return q.length?RangeSet.of(q):this;let Y=new LayerCursor(this,null,-1).goto(0),G=0,F=[],K=new RangeSetBuilder;for(;Y.value||G<q.length;)if(G<q.length&&(Y.from-q[G].from||Y.startSide-q[G].value.startSide)>=0){let J=q[G++];K.addInner(J.from,J.to,J.value)||F.push(J)}else Y.rangeIndex==1&&Y.chunkIndex<this.chunk.length&&(G==q.length||this.chunkEnd(Y.chunkIndex)<q[G].from)&&(!U||B>this.chunkEnd(Y.chunkIndex)||j<this.chunkPos[Y.chunkIndex])&&K.addChunk(this.chunkPos[Y.chunkIndex],this.chunk[Y.chunkIndex])?Y.nextChunk():((!U||B>Y.to||j<Y.from||U(Y.from,Y.to,Y.value))&&(K.addInner(Y.from,Y.to,Y.value)||F.push(Range$1.create(Y.from,Y.to,Y.value))),Y.next());return K.finishInner(this.nextLayer.isEmpty&&!F.length?RangeSet.empty:this.nextLayer.update({add:F,filter:U,filterFrom:B,filterTo:j}))}map(Q){if(Q.empty||this.isEmpty)return this;let q=[],X=[],B=-1;for(let U=0;U<this.chunk.length;U++){let Y=this.chunkPos[U],G=this.chunk[U],F=Q.touchesRange(Y,Y+G.length);if(F===!1)B=Math.max(B,G.maxPoint),q.push(G),X.push(Q.mapPos(Y));else if(F===!0){let{mapped:K,pos:J}=G.map(Y,Q);K&&(B=Math.max(B,K.maxPoint),q.push(K),X.push(J))}}let j=this.nextLayer.map(Q);return q.length==0?j:new RangeSet(X,q,j||RangeSet.empty,B)}between(Q,q,X){if(!this.isEmpty){for(let B=0;B<this.chunk.length;B++){let j=this.chunkPos[B],U=this.chunk[B];if(q>=j&&Q<=j+U.length&&U.between(j,Q-j,q-j,X)===!1)return}this.nextLayer.between(Q,q,X)}}iter(Q=0){return HeapCursor.from([this]).goto(Q)}get isEmpty(){return this.nextLayer==this}static iter(Q,q=0){return HeapCursor.from(Q).goto(q)}static compare(Q,q,X,B,j=-1){let U=Q.filter(J=>J.maxPoint>0||!J.isEmpty&&J.maxPoint>=j),Y=q.filter(J=>J.maxPoint>0||!J.isEmpty&&J.maxPoint>=j),G=findSharedChunks(U,Y,X),F=new SpanCursor(U,G,j),K=new SpanCursor(Y,G,j);X.iterGaps((J,ee,te)=>compare(F,J,K,ee,te,B)),X.empty&&X.length==0&&compare(F,0,K,0,0,B)}static eq(Q,q,X=0,B){B==null&&(B=1e9);let j=Q.filter(K=>!K.isEmpty&&q.indexOf(K)<0),U=q.filter(K=>!K.isEmpty&&Q.indexOf(K)<0);if(j.length!=U.length)return!1;if(!j.length)return!0;let Y=findSharedChunks(j,U),G=new SpanCursor(j,Y,0).goto(X),F=new SpanCursor(U,Y,0).goto(X);for(;;){if(G.to!=F.to||!sameValues(G.active,F.active)||G.point&&(!F.point||!G.point.eq(F.point)))return!1;if(G.to>B)return!0;G.next(),F.next()}}static spans(Q,q,X,B,j=-1){let U=new SpanCursor(Q,null,j).goto(q),Y=q,G=U.openStart;for(;;){let F=Math.min(U.to,X);if(U.point?(B.point(Y,F,U.point,U.activeForPoint(U.to),G,U.pointRank),G=U.openEnd(F)+(U.to>F?1:0)):F>Y&&(B.span(Y,F,U.active,G),G=U.openEnd(F)),U.to>X)break;Y=U.to,U.next()}return G}static of(Q,q=!1){let X=new RangeSetBuilder;for(let B of Q instanceof Range$1?[Q]:q?lazySort(Q):Q)X.add(B.from,B.to,B.value);return X.finish()}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(D){if(D.length>1)for(let Q=D[0],q=1;q<D.length;q++){let X=D[q];if(cmpRange(Q,X)>0)return D.slice().sort(cmpRange);Q=X}return D}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(Q){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,Q&&(this.from=[],this.to=[],this.value=[])}add(Q,q,X){this.addInner(Q,q,X)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(Q,q,X)}addInner(Q,q,X){let B=Q-this.lastTo||X.startSide-this.last.endSide;if(B<=0&&(Q-this.lastFrom||X.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return B<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=Q),this.from.push(Q-this.chunkStart),this.to.push(q-this.chunkStart),this.last=X,this.lastFrom=Q,this.lastTo=q,this.value.push(X),X.point&&(this.maxPoint=Math.max(this.maxPoint,q-Q)),!0)}addChunk(Q,q){if((Q-this.lastTo||q.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,q.maxPoint),this.chunks.push(q),this.chunkPos.push(Q);let X=q.value.length-1;return this.last=q.value[X],this.lastFrom=q.from[X]+Q,this.lastTo=q.to[X]+Q,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(Q){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return Q;let q=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(Q):Q,this.setMaxPoint);return this.from=null,q}}function findSharedChunks(D,Q,q){let X=new Map;for(let j of D)for(let U=0;U<j.chunk.length;U++)j.chunk[U].maxPoint<=0&&X.set(j.chunk[U],j.chunkPos[U]);let B=new Set;for(let j of Q)for(let U=0;U<j.chunk.length;U++){let Y=X.get(j.chunk[U]);Y!=null&&(q?q.mapPos(Y):Y)==j.chunkPos[U]&&!(q!=null&&q.touchesRange(Y,Y+j.chunk[U].length))&&B.add(j.chunk[U])}return B}class LayerCursor{constructor(Q,q,X,B=0){this.layer=Q,this.skip=q,this.minPoint=X,this.rank=B}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(Q,q=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(Q,q,!1),this}gotoInner(Q,q,X){for(;this.chunkIndex<this.layer.chunk.length;){let B=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(B)||this.layer.chunkEnd(this.chunkIndex)<Q||B.maxPoint<this.minPoint))break;this.chunkIndex++,X=!1}if(this.chunkIndex<this.layer.chunk.length){let B=this.layer.chunk[this.chunkIndex].findIndex(Q-this.layer.chunkPos[this.chunkIndex],q,!0);(!X||this.rangeIndex<B)&&this.setRangeIndex(B)}this.next()}forward(Q,q){(this.to-Q||this.endSide-q)<0&&this.gotoInner(Q,q,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let Q=this.layer.chunkPos[this.chunkIndex],q=this.layer.chunk[this.chunkIndex],X=Q+q.from[this.rangeIndex];if(this.from=X,this.to=Q+q.to[this.rangeIndex],this.value=q.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(Q){if(Q==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=Q}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(Q){return this.from-Q.from||this.startSide-Q.startSide||this.rank-Q.rank||this.to-Q.to||this.endSide-Q.endSide}}class HeapCursor{constructor(Q){this.heap=Q}static from(Q,q=null,X=-1){let B=[];for(let j=0;j<Q.length;j++)for(let U=Q[j];!U.isEmpty;U=U.nextLayer)U.maxPoint>=X&&B.push(new LayerCursor(U,q,X,j));return B.length==1?B[0]:new HeapCursor(B)}get startSide(){return this.value?this.value.startSide:0}goto(Q,q=-1e9){for(let X of this.heap)X.goto(Q,q);for(let X=this.heap.length>>1;X>=0;X--)heapBubble(this.heap,X);return this.next(),this}forward(Q,q){for(let X of this.heap)X.forward(Q,q);for(let X=this.heap.length>>1;X>=0;X--)heapBubble(this.heap,X);(this.to-Q||this.value.endSide-q)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let Q=this.heap[0];this.from=Q.from,this.to=Q.to,this.value=Q.value,this.rank=Q.rank,Q.value&&Q.next(),heapBubble(this.heap,0)}}}function heapBubble(D,Q){for(let q=D[Q];;){let X=(Q<<1)+1;if(X>=D.length)break;let B=D[X];if(X+1<D.length&&B.compare(D[X+1])>=0&&(B=D[X+1],X++),q.compare(B)<0)break;D[X]=q,D[Q]=B,Q=X}}class SpanCursor{constructor(Q,q,X){this.minPoint=X,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(Q,q,X)}goto(Q,q=-1e9){return this.cursor.goto(Q,q),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=Q,this.endSide=q,this.openStart=-1,this.next(),this}forward(Q,q){for(;this.minActive>-1&&(this.activeTo[this.minActive]-Q||this.active[this.minActive].endSide-q)<0;)this.removeActive(this.minActive);this.cursor.forward(Q,q)}removeActive(Q){remove(this.active,Q),remove(this.activeTo,Q),remove(this.activeRank,Q),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(Q){let q=0,{value:X,to:B,rank:j}=this.cursor;for(;q<this.activeRank.length&&this.activeRank[q]<=j;)q++;insert(this.active,q,X),insert(this.activeTo,q,B),insert(this.activeRank,q,j),Q&&insert(Q,q,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let Q=this.to,q=this.point;this.point=null;let X=this.openStart<0?[]:null,B=0;for(;;){let j=this.minActive;if(j>-1&&(this.activeTo[j]-this.cursor.from||this.active[j].endSide-this.cursor.startSide)<0){if(this.activeTo[j]>Q){this.to=this.activeTo[j],this.endSide=this.active[j].endSide;break}this.removeActive(j),X&&remove(X,j)}else if(this.cursor.value)if(this.cursor.from>Q){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let U=this.cursor.value;if(!U.point)this.addActive(X),this.cursor.from<Q&&this.cursor.to>Q&&B++,this.cursor.next();else if(q&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=U,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=U.endSide,this.cursor.from<Q&&(B=1),this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(X){let j=0;for(;j<X.length&&X[j]<Q;)j++;this.openStart=j+B}}activeForPoint(Q){if(!this.active.length)return this.active;let q=[];for(let X=this.active.length-1;X>=0&&!(this.activeRank[X]<this.pointRank);X--)(this.activeTo[X]>Q||this.activeTo[X]==Q&&this.active[X].endSide>=this.point.endSide)&&q.push(this.active[X]);return q.reverse()}openEnd(Q){let q=0;for(let X=this.activeTo.length-1;X>=0&&this.activeTo[X]>Q;X--)q++;return q}}function compare(D,Q,q,X,B,j){D.goto(Q),q.goto(X);let U=X+B,Y=X,G=X-Q;for(;;){let F=D.to+G-q.to||D.endSide-q.endSide,K=F<0?D.to+G:q.to,J=Math.min(K,U);if(D.point||q.point?D.point&&q.point&&(D.point==q.point||D.point.eq(q.point))&&sameValues(D.activeForPoint(D.to+G),q.activeForPoint(q.to))||j.comparePoint(Y,J,D.point,q.point):J>Y&&!sameValues(D.active,q.active)&&j.compareRange(Y,J,D.active,q.active),K>U)break;Y=K,F<=0&&D.next(),F>=0&&q.next()}}function sameValues(D,Q){if(D.length!=Q.length)return!1;for(let q=0;q<D.length;q++)if(D[q]!=Q[q]&&!D[q].eq(Q[q]))return!1;return!0}function remove(D,Q){for(let q=Q,X=D.length-1;q<X;q++)D[q]=D[q+1];D.pop()}function insert(D,Q,q){for(let X=D.length-1;X>=Q;X--)D[X+1]=D[X];D[Q]=q}function findMinIndex(D,Q){let q=-1,X=1e9;for(let B=0;B<Q.length;B++)(Q[B]-X||D[B].endSide-D[q].endSide)<0&&(q=B,X=Q[B]);return q}function countColumn(D,Q,q=D.length){let X=0;for(let B=0;B<q;)D.charCodeAt(B)==9?(X+=Q-X%Q,B++):(X++,B=findClusterBreak(D,B));return X}function findColumn(D,Q,q,X){for(let B=0,j=0;;){if(j>=Q)return B;if(B==D.length)break;j+=D.charCodeAt(B)==9?q-j%q:1,B=findClusterBreak(D,B)}return X===!0?-1:D.length}const C$2="\u037C",COUNT=typeof Symbol>"u"?"__"+C$2:Symbol.for(C$2),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(Q,q){this.rules=[];let{finish:X}=q||{};function B(U){return/^@/.test(U)?[U]:U.split(/,\s*/)}function j(U,Y,G,F){let K=[],J=/^@(\w+)\b/.exec(U[0]),ee=J&&J[1]=="keyframes";if(J&&Y==null)return G.push(U[0]+";");for(let te in Y){let ne=Y[te];if(/&/.test(te))j(te.split(/,\s*/).map(re=>U.map(se=>re.replace(/&/,se))).reduce((re,se)=>re.concat(se)),ne,G);else if(ne&&typeof ne=="object"){if(!J)throw new RangeError("The value of a property ("+te+") should be a primitive value.");j(B(te),ne,K,ee)}else ne!=null&&K.push(te.replace(/_.*/,"").replace(/[A-Z]/g,re=>"-"+re.toLowerCase())+": "+ne+";")}(K.length||ee)&&G.push((X&&!J&&!F?U.map(X):U).join(", ")+" {"+K.join(" ")+"}")}for(let U in Q)j(B(U),Q[U],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let Q=top[COUNT]||1;return top[COUNT]=Q+1,C$2+Q.toString(36)}static mount(Q,q){(Q[SET]||new StyleSet(Q)).mount(Array.isArray(q)?q:[q])}}let adoptedSet=null;class StyleSet{constructor(Q){if(!Q.head&&Q.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(adoptedSet)return Q.adoptedStyleSheets=[adoptedSet.sheet].concat(Q.adoptedStyleSheets),Q[SET]=adoptedSet;this.sheet=new CSSStyleSheet,Q.adoptedStyleSheets=[this.sheet].concat(Q.adoptedStyleSheets),adoptedSet=this}else{this.styleTag=(Q.ownerDocument||Q).createElement("style");let q=Q.head||Q;q.insertBefore(this.styleTag,q.firstChild)}this.modules=[],Q[SET]=this}mount(Q){let q=this.sheet,X=0,B=0;for(let j=0;j<Q.length;j++){let U=Q[j],Y=this.modules.indexOf(U);if(Y<B&&Y>-1&&(this.modules.splice(Y,1),B--,Y=-1),Y==-1){if(this.modules.splice(B++,0,U),q)for(let G=0;G<U.rules.length;G++)q.insertRule(U.rules[G],X++)}else{for(;B<Y;)X+=this.modules[B++].rules.length;X+=U.rules.length,B++}}if(!q){let j="";for(let U=0;U<this.modules.length;U++)j+=this.modules[U].getRules()+`
`;this.styleTag.textContent=j}}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},chrome$1=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent);typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent);var mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),brokenModifierNames=mac||chrome$1&&+chrome$1[1]<57;for(var i$3=0;i$3<10;i$3++)base[48+i$3]=base[96+i$3]=String(i$3);for(var i$3=1;i$3<=24;i$3++)base[i$3+111]="F"+i$3;for(var i$3=65;i$3<=90;i$3++)base[i$3]=String.fromCharCode(i$3+32),shift[i$3]=String.fromCharCode(i$3);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(D){var Q=brokenModifierNames&&(D.ctrlKey||D.altKey||D.metaKey)||ie$1&&D.shiftKey&&D.key&&D.key.length==1||D.key=="Unidentified",q=!Q&&D.key||(D.shiftKey?shift:base)[D.keyCode]||D.key||"Unidentified";return q=="Esc"&&(q="Escape"),q=="Del"&&(q="Delete"),q=="Left"&&(q="ArrowLeft"),q=="Up"&&(q="ArrowUp"),q=="Right"&&(q="ArrowRight"),q=="Down"&&(q="ArrowDown"),q}function getSelection(D){let Q;return D.nodeType==11?Q=D.getSelection?D:D.ownerDocument:Q=D,Q.getSelection()}function contains(D,Q){return Q?D==Q||D.contains(Q.nodeType!=1?Q.parentNode:Q):!1}function deepActiveElement(D){let Q=D.activeElement;for(;Q&&Q.shadowRoot;)Q=Q.shadowRoot.activeElement;return Q}function hasSelection(D,Q){if(!Q.anchorNode)return!1;try{return contains(D,Q.anchorNode)}catch{return!1}}function clientRectsFor(D){return D.nodeType==3?textRange(D,0,D.nodeValue.length).getClientRects():D.nodeType==1?D.getClientRects():[]}function isEquivalentPosition(D,Q,q,X){return q?scanFor(D,Q,q,X,-1)||scanFor(D,Q,q,X,1):!1}function domIndex(D){for(var Q=0;;Q++)if(D=D.previousSibling,!D)return Q}function scanFor(D,Q,q,X,B){for(;;){if(D==q&&Q==X)return!0;if(Q==(B<0?0:maxOffset(D))){if(D.nodeName=="DIV")return!1;let j=D.parentNode;if(!j||j.nodeType!=1)return!1;Q=domIndex(D)+(B<0?0:1),D=j}else if(D.nodeType==1){if(D=D.childNodes[Q+(B<0?-1:0)],D.nodeType==1&&D.contentEditable=="false")return!1;Q=B<0?maxOffset(D):0}else return!1}}function maxOffset(D){return D.nodeType==3?D.nodeValue.length:D.childNodes.length}const Rect0={left:0,right:0,top:0,bottom:0};function flattenRect(D,Q){let q=Q?D.left:D.right;return{left:q,right:q,top:D.top,bottom:D.bottom}}function windowRect(D){return{left:0,right:D.innerWidth,top:0,bottom:D.innerHeight}}function scrollRectIntoView(D,Q,q,X,B,j,U,Y){let G=D.ownerDocument,F=G.defaultView||window;for(let K=D;K;)if(K.nodeType==1){let J,ee=K==G.body;if(ee)J=windowRect(F);else{if(K.scrollHeight<=K.clientHeight&&K.scrollWidth<=K.clientWidth){K=K.assignedSlot||K.parentNode;continue}let re=K.getBoundingClientRect();J={left:re.left,right:re.left+K.clientWidth,top:re.top,bottom:re.top+K.clientHeight}}let te=0,ne=0;if(B=="nearest")Q.top<J.top?(ne=-(J.top-Q.top+U),q>0&&Q.bottom>J.bottom+ne&&(ne=Q.bottom-J.bottom+ne+U)):Q.bottom>J.bottom&&(ne=Q.bottom-J.bottom+U,q<0&&Q.top-ne<J.top&&(ne=-(J.top+ne-Q.top+U)));else{let re=Q.bottom-Q.top,se=J.bottom-J.top;ne=(B=="center"&&re<=se?Q.top+re/2-se/2:B=="start"||B=="center"&&q<0?Q.top-U:Q.bottom-se+U)-J.top}if(X=="nearest"?Q.left<J.left?(te=-(J.left-Q.left+j),q>0&&Q.right>J.right+te&&(te=Q.right-J.right+te+j)):Q.right>J.right&&(te=Q.right-J.right+j,q<0&&Q.left<J.left+te&&(te=-(J.left+te-Q.left+j))):te=(X=="center"?Q.left+(Q.right-Q.left)/2-(J.right-J.left)/2:X=="start"==Y?Q.left-j:Q.right-(J.right-J.left)+j)-J.left,te||ne)if(ee)F.scrollBy(te,ne);else{let re=0,se=0;if(ne){let oe=K.scrollTop;K.scrollTop+=ne,se=K.scrollTop-oe}if(te){let oe=K.scrollLeft;K.scrollLeft+=te,re=K.scrollLeft-oe}Q={left:Q.left-re,top:Q.top-se,right:Q.right-re,bottom:Q.bottom-se},re&&Math.abs(re-te)<1&&(X="nearest"),se&&Math.abs(se-ne)<1&&(B="nearest")}if(ee)break;K=K.assignedSlot||K.parentNode}else if(K.nodeType==11)K=K.host;else break}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(Q){return this.anchorNode==Q.anchorNode&&this.anchorOffset==Q.anchorOffset&&this.focusNode==Q.focusNode&&this.focusOffset==Q.focusOffset}setRange(Q){this.set(Q.anchorNode,Q.anchorOffset,Q.focusNode,Q.focusOffset)}set(Q,q,X,B){this.anchorNode=Q,this.anchorOffset=q,this.focusNode=X,this.focusOffset=B}}let preventScrollSupported=null;function focusPreventScroll(D){if(D.setActive)return D.setActive();if(preventScrollSupported)return D.focus(preventScrollSupported);let Q=[];for(let q=D;q&&(Q.push(q,q.scrollTop,q.scrollLeft),q!=q.ownerDocument);q=q.parentNode);if(D.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let q=0;q<Q.length;){let X=Q[q++],B=Q[q++],j=Q[q++];X.scrollTop!=B&&(X.scrollTop=B),X.scrollLeft!=j&&(X.scrollLeft=j)}}}let scratchRange;function textRange(D,Q,q=Q){let X=scratchRange||(scratchRange=document.createRange());return X.setEnd(D,q),X.setStart(D,Q),X}function dispatchKey(D,Q,q){let X={key:Q,code:Q,keyCode:q,which:q,cancelable:!0},B=new KeyboardEvent("keydown",X);B.synthetic=!0,D.dispatchEvent(B);let j=new KeyboardEvent("keyup",X);return j.synthetic=!0,D.dispatchEvent(j),B.defaultPrevented||j.defaultPrevented}function getRoot(D){for(;D;){if(D&&(D.nodeType==9||D.nodeType==11&&D.host))return D;D=D.assignedSlot||D.parentNode}return null}function clearAttributes(D){for(;D.attributes.length;)D.removeAttributeNode(D.attributes[0])}function atElementStart(D,Q){let q=Q.focusNode,X=Q.focusOffset;if(!q||Q.anchorNode!=q||Q.anchorOffset!=X)return!1;for(;;)if(X){if(q.nodeType!=1)return!1;let B=q.childNodes[X-1];B.contentEditable=="false"?X--:(q=B,X=maxOffset(q))}else{if(q==D)return!0;X=domIndex(q),q=q.parentNode}}class DOMPos{constructor(Q,q,X=!0){this.node=Q,this.offset=q,this.precise=X}static before(Q,q){return new DOMPos(Q.parentNode,domIndex(Q),q)}static after(Q,q){return new DOMPos(Q.parentNode,domIndex(Q)+1,q)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(Q){let q=this.posAtStart;for(let X of this.children){if(X==Q)return q;q+=X.length+X.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(Q){return this.posBefore(Q)+Q.length}coordsAt(Q,q){return null}sync(Q){if(this.dirty&2){let q=this.dom,X=null,B;for(let j of this.children){if(j.dirty){if(!j.dom&&(B=X?X.nextSibling:q.firstChild)){let U=ContentView.get(B);(!U||!U.parent&&U.canReuseDOM(j))&&j.reuseDOM(B)}j.sync(Q),j.dirty=0}if(B=X?X.nextSibling:q.firstChild,Q&&!Q.written&&Q.node==q&&B!=j.dom&&(Q.written=!0),j.dom.parentNode==q)for(;B&&B!=j.dom;)B=rm$1(B);else q.insertBefore(j.dom,B);X=j.dom}for(B=X?X.nextSibling:q.firstChild,B&&Q&&Q.node==q&&(Q.written=!0);B;)B=rm$1(B)}else if(this.dirty&1)for(let q of this.children)q.dirty&&(q.sync(Q),q.dirty=0)}reuseDOM(Q){}localPosFromDOM(Q,q){let X;if(Q==this.dom)X=this.dom.childNodes[q];else{let B=maxOffset(Q)==0?0:q==0?-1:1;for(;;){let j=Q.parentNode;if(j==this.dom)break;B==0&&j.firstChild!=j.lastChild&&(Q==j.firstChild?B=-1:B=1),Q=j}B<0?X=Q:X=Q.nextSibling}if(X==this.dom.firstChild)return 0;for(;X&&!ContentView.get(X);)X=X.nextSibling;if(!X)return this.length;for(let B=0,j=0;;B++){let U=this.children[B];if(U.dom==X)return j;j+=U.length+U.breakAfter}}domBoundsAround(Q,q,X=0){let B=-1,j=-1,U=-1,Y=-1;for(let G=0,F=X,K=X;G<this.children.length;G++){let J=this.children[G],ee=F+J.length;if(F<Q&&ee>q)return J.domBoundsAround(Q,q,F);if(ee>=Q&&B==-1&&(B=G,j=F),F>q&&J.dom.parentNode==this.dom){U=G,Y=K;break}K=ee,F=ee+J.breakAfter}return{from:j,to:Y<0?X+this.length:Y,startDOM:(B?this.children[B-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:U<this.children.length&&U>=0?this.children[U].dom:null}}markDirty(Q=!1){this.dirty|=2,this.markParentsDirty(Q)}markParentsDirty(Q){for(let q=this.parent;q;q=q.parent){if(Q&&(q.dirty|=2),q.dirty&1)return;q.dirty|=1,Q=!1}}setParent(Q){this.parent!=Q&&(this.parent=Q,this.dirty&&this.markParentsDirty(!0))}setDOM(Q){this.dom&&(this.dom.cmView=null),this.dom=Q,Q.cmView=this}get rootView(){for(let Q=this;;){let q=Q.parent;if(!q)return Q;Q=q}}replaceChildren(Q,q,X=noChildren){this.markDirty();for(let B=Q;B<q;B++){let j=this.children[B];j.parent==this&&j.destroy()}this.children.splice(Q,q-Q,...X);for(let B=0;B<X.length;B++)X[B].setParent(this)}ignoreMutation(Q){return!1}ignoreEvent(Q){return!1}childCursor(Q=this.length){return new ChildCursor(this.children,Q,this.children.length)}childPos(Q,q=1){return this.childCursor().findPos(Q,q)}toString(){let Q=this.constructor.name.replace("View","");return Q+(this.children.length?"("+this.children.join()+")":this.length?"["+(Q=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(Q){return Q.cmView}get isEditable(){return!0}merge(Q,q,X,B,j,U){return!1}become(Q){return!1}canReuseDOM(Q){return Q.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(D){let Q=D.nextSibling;return D.parentNode.removeChild(D),Q}class ChildCursor{constructor(Q,q,X){this.children=Q,this.pos=q,this.i=X,this.off=0}findPos(Q,q=1){for(;;){if(Q>this.pos||Q==this.pos&&(q>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=Q-this.pos,this;let X=this.children[--this.i];this.pos-=X.length+X.breakAfter}}}function replaceRange(D,Q,q,X,B,j,U,Y,G){let{children:F}=D,K=F.length?F[Q]:null,J=j.length?j[j.length-1]:null,ee=J?J.breakAfter:U;if(!(Q==X&&K&&!U&&!ee&&j.length<2&&K.merge(q,B,j.length?J:null,q==0,Y,G))){if(X<F.length){let te=F[X];te&&B<te.length?(Q==X&&(te=te.split(B),B=0),!ee&&J&&te.merge(0,B,J,!0,0,G)?j[j.length-1]=te:(B&&te.merge(0,B,null,!1,0,G),j.push(te))):te!=null&&te.breakAfter&&(J?J.breakAfter=1:U=1),X++}for(K&&(K.breakAfter=U,q>0&&(!U&&j.length&&K.merge(q,K.length,j[0],!1,Y,0)?K.breakAfter=j.shift().breakAfter:(q<K.length||K.children.length&&K.children[K.children.length-1].length==0)&&K.merge(q,K.length,null,!1,Y,0),Q++));Q<X&&j.length;)if(F[X-1].become(j[j.length-1]))X--,j.pop(),G=j.length?0:Y;else if(F[Q].become(j[0]))Q++,j.shift(),Y=j.length?0:G;else break;!j.length&&Q&&X<F.length&&!F[Q-1].breakAfter&&F[X].merge(0,0,F[Q-1],!1,Y,G)&&Q--,(Q<X||j.length)&&D.replaceChildren(Q,X,j)}}function mergeChildrenInto(D,Q,q,X,B,j){let U=D.childCursor(),{i:Y,off:G}=U.findPos(q,1),{i:F,off:K}=U.findPos(Q,-1),J=Q-q;for(let ee of X)J+=ee.length;D.length+=J,replaceRange(D,F,K,Y,G,X,0,B,j)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit,safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(Q){super(),this.text=Q}get length(){return this.text.length}createDOM(Q){this.setDOM(Q||document.createTextNode(this.text))}sync(Q){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(Q&&Q.node==this.dom&&(Q.written=!0),this.dom.nodeValue=this.text)}reuseDOM(Q){Q.nodeType==3&&this.createDOM(Q)}merge(Q,q,X){return X&&(!(X instanceof TextView)||this.length-(q-Q)+X.length>MaxJoinLen)?!1:(this.text=this.text.slice(0,Q)+(X?X.text:"")+this.text.slice(q),this.markDirty(),!0)}split(Q){let q=new TextView(this.text.slice(Q));return this.text=this.text.slice(0,Q),this.markDirty(),q}localPosFromDOM(Q,q){return Q==this.dom?q:q?this.text.length:0}domAtPos(Q){return new DOMPos(this.dom,Q)}domBoundsAround(Q,q,X){return{from:X,to:X+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(Q,q){return textCoords(this.dom,Q,q)}}class MarkView extends ContentView{constructor(Q,q=[],X=0){super(),this.mark=Q,this.children=q,this.length=X;for(let B of q)B.setParent(this)}setAttrs(Q){if(clearAttributes(Q),this.mark.class&&(Q.className=this.mark.class),this.mark.attrs)for(let q in this.mark.attrs)Q.setAttribute(q,this.mark.attrs[q]);return Q}reuseDOM(Q){Q.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(Q),this.dirty|=6)}sync(Q){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(Q)}merge(Q,q,X,B,j,U){return X&&(!(X instanceof MarkView&&X.mark.eq(this.mark))||Q&&j<=0||q<this.length&&U<=0)?!1:(mergeChildrenInto(this,Q,q,X?X.children:[],j-1,U-1),this.markDirty(),!0)}split(Q){let q=[],X=0,B=-1,j=0;for(let Y of this.children){let G=X+Y.length;G>Q&&q.push(X<Q?Y.split(Q-X):Y),B<0&&X>=Q&&(B=j),X=G,j++}let U=this.length-Q;return this.length=Q,B>-1&&(this.children.length=B,this.markDirty()),new MarkView(this.mark,q,U)}domAtPos(Q){return inlineDOMAtPos(this,Q)}coordsAt(Q,q){return coordsInChildren(this,Q,q)}}function textCoords(D,Q,q){let X=D.nodeValue.length;Q>X&&(Q=X);let B=Q,j=Q,U=0;Q==0&&q<0||Q==X&&q>=0?browser.chrome||browser.gecko||(Q?(B--,U=1):j<X&&(j++,U=-1)):q<0?B--:j<X&&j++;let Y=textRange(D,B,j).getClientRects();if(!Y.length)return Rect0;let G=Y[(U?U<0:q>=0)?0:Y.length-1];return browser.safari&&!U&&G.width==0&&(G=Array.prototype.find.call(Y,F=>F.width)||G),U?flattenRect(G,U<0):G||null}class WidgetView extends ContentView{constructor(Q,q,X){super(),this.widget=Q,this.length=q,this.side=X,this.prevWidget=null}static create(Q,q,X){return new(Q.customView||WidgetView)(Q,q,X)}split(Q){let q=WidgetView.create(this.widget,this.length-Q,this.side);return this.length-=Q,q}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(Q,q,X,B,j,U){return X&&(!(X instanceof WidgetView)||!this.widget.compare(X.widget)||Q>0&&j<=0||q<this.length&&U<=0)?!1:(this.length=Q+(X?X.length:0)+(this.length-q),!0)}become(Q){return Q.length==this.length&&Q instanceof WidgetView&&Q.side==this.side&&this.widget.constructor==Q.widget.constructor?(this.widget.eq(Q.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=Q.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(Q){return this.widget.ignoreEvent(Q)}get overrideDOMText(){if(this.length==0)return Text.empty;let Q=this;for(;Q.parent;)Q=Q.parent;let q=Q.editorView,X=q&&q.state.doc,B=this.posAtStart;return X?X.slice(B,B+this.length):Text.empty}domAtPos(Q){return Q==0?DOMPos.before(this.dom):DOMPos.after(this.dom,Q==this.length)}domBoundsAround(){return null}coordsAt(Q,q){let X=this.dom.getClientRects(),B=null;if(!X.length)return Rect0;for(let j=Q>0?X.length-1:0;B=X[j],!(Q>0?j==0:j==X.length-1||B.top<B.bottom);j+=Q>0?-1:1);return Q==0&&q>0||Q==this.length&&q<=0?B:flattenRect(B,Q==0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class CompositionView extends WidgetView{domAtPos(Q){let{topView:q,text:X}=this.widget;return q?scanCompositionTree(Q,0,q,X,(B,j)=>B.domAtPos(j),B=>new DOMPos(X,Math.min(B,X.nodeValue.length))):new DOMPos(X,Math.min(Q,X.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(Q,q){let{topView:X,text:B}=this.widget;return X?posFromDOMInCompositionTree(Q,q,X,B):Math.min(q,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(Q,q){let{topView:X,text:B}=this.widget;return X?scanCompositionTree(Q,q,X,B,(j,U,Y)=>j.coordsAt(U,Y),(j,U)=>textCoords(B,j,U)):textCoords(B,Q,q)}destroy(){var Q;super.destroy(),(Q=this.widget.topView)===null||Q===void 0||Q.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function scanCompositionTree(D,Q,q,X,B,j){if(q instanceof MarkView){for(let U=q.dom.firstChild;U;U=U.nextSibling){let Y=ContentView.get(U);if(!Y)return j(D,Q);let G=contains(U,X),F=Y.length+(G?X.nodeValue.length:0);if(D<F||D==F&&Y.getSide()<=0)return G?scanCompositionTree(D,Q,Y,X,B,j):B(Y,D,Q);D-=F}return B(q,q.length,-1)}else return q.dom==X?j(D,Q):B(q,D,Q)}function posFromDOMInCompositionTree(D,Q,q,X){if(q instanceof MarkView)for(let B of q.children){let j=0,U=contains(B.dom,X);if(contains(B.dom,D))return j+(U?posFromDOMInCompositionTree(D,Q,B,X):B.localPosFromDOM(D,Q));j+=U?X.nodeValue.length:B.length}else if(q.dom==X)return Math.min(Q,X.nodeValue.length);return q.localPosFromDOM(D,Q)}class WidgetBufferView extends ContentView{constructor(Q){super(),this.side=Q}get length(){return 0}merge(){return!1}become(Q){return Q instanceof WidgetBufferView&&Q.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let Q=document.createElement("img");Q.className="cm-widgetBuffer",Q.setAttribute("aria-hidden","true"),this.setDOM(Q)}}getSide(){return this.side}domAtPos(Q){return DOMPos.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(Q){let q=this.dom.getBoundingClientRect(),X=inlineSiblingRect(this,this.side>0?-1:1);return X&&X.top<q.bottom&&X.bottom>q.top?{left:q.left,right:q.right,top:X.top,bottom:X.bottom}:q}get overrideDOMText(){return Text.empty}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineSiblingRect(D,Q){let q=D.parent,X=q?q.children.indexOf(D):-1;for(;q&&X>=0;)if(Q<0?X>0:X<q.children.length){let B=q.children[X+Q];if(B instanceof TextView){let j=B.coordsAt(Q<0?B.length:0,Q);if(j)return j}X+=Q}else if(q instanceof MarkView&&q.parent)X=q.parent.children.indexOf(q)+(Q<0?0:1),q=q.parent;else{let B=q.dom.lastChild;if(B&&B.nodeName=="BR")return B.getClientRects()[0];break}}function inlineDOMAtPos(D,Q){let q=D.dom,{children:X}=D,B=0;for(let j=0;B<X.length;B++){let U=X[B],Y=j+U.length;if(!(Y==j&&U.getSide()<=0)){if(Q>j&&Q<Y&&U.dom.parentNode==q)return U.domAtPos(Q-j);if(Q<=j)break;j=Y}}for(let j=B;j>0;j--){let U=X[j-1];if(U.dom.parentNode==q)return U.domAtPos(U.length)}for(let j=B;j<X.length;j++){let U=X[j];if(U.dom.parentNode==q)return U.domAtPos(0)}return new DOMPos(q,0)}function joinInlineInto(D,Q,q){let X,{children:B}=D;q>0&&Q instanceof MarkView&&B.length&&(X=B[B.length-1])instanceof MarkView&&X.mark.eq(Q.mark)?joinInlineInto(X,Q.children[0],q-1):(B.push(Q),Q.setParent(D)),D.length+=Q.length}function coordsInChildren(D,Q,q){for(let j=0,U=0;U<D.children.length;U++){let Y=D.children[U],G=j+Y.length,F;if((q<=0||G==D.length||Y.getSide()>0?G>=Q:G>Q)&&(Q<G||U+1==D.children.length||(F=D.children[U+1]).length||F.getSide()>0)){let K=0;if(G==j){if(Y.getSide()<=0)continue;K=q=-Y.getSide()}let J=Y.coordsAt(Math.max(0,Q-j),q);return K&&J?flattenRect(J,q<0):J}j=G}let X=D.dom.lastChild;if(!X)return D.dom.getBoundingClientRect();let B=clientRectsFor(X);return B[B.length-1]||null}function combineAttrs(D,Q){for(let q in D)q=="class"&&Q.class?Q.class+=" "+D.class:q=="style"&&Q.style?Q.style+=";"+D.style:Q[q]=D[q];return Q}function attrsEq(D,Q){if(D==Q)return!0;if(!D||!Q)return!1;let q=Object.keys(D),X=Object.keys(Q);if(q.length!=X.length)return!1;for(let B of q)if(X.indexOf(B)==-1||D[B]!==Q[B])return!1;return!0}function updateAttrs(D,Q,q){let X=null;if(Q)for(let B in Q)q&&B in q||D.removeAttribute(X=B);if(q)for(let B in q)Q&&Q[B]==q[B]||D.setAttribute(X=B,q[B]);return!!X}class WidgetType{eq(Q){return!1}updateDOM(Q){return!1}compare(Q){return this==Q||this.constructor==Q.constructor&&this.eq(Q)}get estimatedHeight(){return-1}ignoreEvent(Q){return!0}get customView(){return null}destroy(Q){}}var BlockType=function(D){return D[D.Text=0]="Text",D[D.WidgetBefore=1]="WidgetBefore",D[D.WidgetAfter=2]="WidgetAfter",D[D.WidgetRange=3]="WidgetRange",D}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(Q,q,X,B){super(),this.startSide=Q,this.endSide=q,this.widget=X,this.spec=B}get heightRelevant(){return!1}static mark(Q){return new MarkDecoration(Q)}static widget(Q){let q=Q.side||0,X=!!Q.block;return q+=X?q>0?3e8:-4e8:q>0?1e8:-1e8,new PointDecoration(Q,q,q,X,Q.widget||null,!1)}static replace(Q){let q=!!Q.block,X,B;if(Q.isBlockGap)X=-5e8,B=4e8;else{let{start:j,end:U}=getInclusive(Q,q);X=(j?q?-3e8:-1:5e8)-1,B=(U?q?2e8:1:-6e8)+1}return new PointDecoration(Q,X,B,q,Q.widget||null,!0)}static line(Q){return new LineDecoration(Q)}static set(Q,q=!1){return RangeSet.of(Q,q)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(Q){let{start:q,end:X}=getInclusive(Q);super(q?-1:5e8,X?1:-6e8,null,Q),this.tagName=Q.tagName||"span",this.class=Q.class||"",this.attrs=Q.attributes||null}eq(Q){return this==Q||Q instanceof MarkDecoration&&this.tagName==Q.tagName&&this.class==Q.class&&attrsEq(this.attrs,Q.attrs)}range(Q,q=Q){if(Q>=q)throw new RangeError("Mark decorations may not be empty");return super.range(Q,q)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(Q){super(-2e8,-2e8,null,Q)}eq(Q){return Q instanceof LineDecoration&&attrsEq(this.spec.attributes,Q.spec.attributes)}range(Q,q=Q){if(q!=Q)throw new RangeError("Line decoration ranges must be zero-length");return super.range(Q,q)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(Q,q,X,B,j,U){super(q,X,j,Q),this.block=B,this.isReplace=U,this.mapMode=B?q<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide<this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(Q){return Q instanceof PointDecoration&&widgetsEq(this.widget,Q.widget)&&this.block==Q.block&&this.startSide==Q.startSide&&this.endSide==Q.endSide}range(Q,q=Q){if(this.isReplace&&(Q>q||Q==q&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&q!=Q)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(Q,q)}}PointDecoration.prototype.point=!0;function getInclusive(D,Q=!1){let{inclusiveStart:q,inclusiveEnd:X}=D;return q==null&&(q=D.inclusive),X==null&&(X=D.inclusive),{start:q!=null?q:Q,end:X!=null?X:Q}}function widgetsEq(D,Q){return D==Q||!!(D&&Q&&D.compare(Q))}function addRange(D,Q,q,X=0){let B=q.length-1;B>=0&&q[B]+X>=D?q[B]=Math.max(q[B],Q):q.push(D,Q)}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(Q,q,X,B,j,U){if(X){if(!(X instanceof LineView))return!1;this.dom||X.transferDOM(this)}return B&&this.setDeco(X?X.attrs:null),mergeChildrenInto(this,Q,q,X?X.children:[],j,U),!0}split(Q){let q=new LineView;if(q.breakAfter=this.breakAfter,this.length==0)return q;let{i:X,off:B}=this.childPos(Q);B&&(q.append(this.children[X].split(B),0),this.children[X].merge(B,this.children[X].length,null,!1,0,0),X++);for(let j=X;j<this.children.length;j++)q.append(this.children[j],0);for(;X>0&&this.children[X-1].length==0;)this.children[--X].destroy();return this.children.length=X,this.markDirty(),this.length=Q,q}transferDOM(Q){!this.dom||(this.markDirty(),Q.setDOM(this.dom),Q.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(Q){attrsEq(this.attrs,Q)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=Q)}append(Q,q){joinInlineInto(this,Q,q)}addLineDeco(Q){let q=Q.spec.attributes,X=Q.spec.class;q&&(this.attrs=combineAttrs(q,this.attrs||{})),X&&(this.attrs=combineAttrs({class:X},this.attrs||{}))}domAtPos(Q){return inlineDOMAtPos(this,Q)}reuseDOM(Q){Q.nodeName=="DIV"&&(this.setDOM(Q),this.dirty|=6)}sync(Q){var q;this.dom?this.dirty&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(Q);let X=this.dom.lastChild;for(;X&&ContentView.get(X)instanceof MarkView;)X=X.lastChild;if(!X||!this.length||X.nodeName!="BR"&&((q=ContentView.get(X))===null||q===void 0?void 0:q.isEditable)==!1&&(!browser.ios||!this.children.some(B=>B instanceof TextView))){let B=document.createElement("BR");B.cmIgnore=!0,this.dom.appendChild(B)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let Q=0;for(let q of this.children){if(!(q instanceof TextView)||/[^ -~]/.test(q.text))return null;let X=clientRectsFor(q.dom);if(X.length!=1)return null;Q+=X[0].width}return Q?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:Q/this.length}:null}coordsAt(Q,q){return coordsInChildren(this,Q,q)}become(Q){return!1}get type(){return BlockType.Text}static find(Q,q){for(let X=0,B=0;X<Q.children.length;X++){let j=Q.children[X],U=B+j.length;if(U>=q){if(j instanceof LineView)return j;if(U>q)break}B=U+j.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(Q,q,X){super(),this.widget=Q,this.length=q,this.type=X,this.breakAfter=0,this.prevWidget=null}merge(Q,q,X,B,j,U){return X&&(!(X instanceof BlockWidgetView)||!this.widget.compare(X.widget)||Q>0&&j<=0||q<this.length&&U<=0)?!1:(this.length=Q+(X?X.length:0)+(this.length-q),!0)}domAtPos(Q){return Q==0?DOMPos.before(this.dom):DOMPos.after(this.dom,Q==this.length)}split(Q){let q=this.length-Q;this.length=Q;let X=new BlockWidgetView(this.widget,q,this.type);return X.breakAfter=this.breakAfter,X}get children(){return noChildren}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(Q){return Q instanceof BlockWidgetView&&Q.type==this.type&&Q.widget.constructor==this.widget.constructor?(Q.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=Q.widget,this.length=Q.length,this.breakAfter=Q.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(Q){return this.widget.ignoreEvent(Q)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ContentBuilder{constructor(Q,q,X,B){this.doc=Q,this.pos=q,this.end=X,this.disallowBlockEffectsFor=B,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=Q.iter(),this.skip=q}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let Q=this.content[this.content.length-1];return!Q.breakAfter&&!(Q instanceof BlockWidgetView&&Q.type==BlockType.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(Q){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),Q),Q.length),this.pendingBuffer=0)}addBlockWidget(Q){this.flushBuffer([]),this.curLine=null,this.content.push(Q)}finish(Q){Q?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(Q,q,X){for(;Q>0;){if(this.textOff==this.text.length){let{value:j,lineBreak:U,done:Y}=this.cursor.next(this.skip);if(this.skip=0,Y)throw new Error("Ran out of text content when drawing inline views");if(U){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,Q--;continue}else this.text=j,this.textOff=0}let B=Math.min(this.text.length-this.textOff,Q,512);this.flushBuffer(q.slice(0,X)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+B)),q),X),this.atCursorPos=!0,this.textOff+=B,Q-=B,X=0}}span(Q,q,X,B){this.buildText(q-Q,X,B),this.pos=q,this.openStart<0&&(this.openStart=B)}point(Q,q,X,B,j,U){if(this.disallowBlockEffectsFor[U]&&X instanceof PointDecoration){if(X.block)throw new RangeError("Block decorations may not be specified via plugins");if(q>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let Y=q-Q;if(X instanceof PointDecoration)if(X.block){let{type:G}=X;G==BlockType.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(X.widget||new NullWidget("div"),Y,G))}else{let G=WidgetView.create(X.widget||new NullWidget("span"),Y,X.startSide),F=this.atCursorPos&&!G.isEditable&&j<=B.length&&(Q<q||X.startSide>0),K=!G.isEditable&&(Q<q||X.startSide<=0),J=this.getLine();this.pendingBuffer==2&&!F&&(this.pendingBuffer=0),this.flushBuffer(B),F&&(J.append(wrapMarks(new WidgetBufferView(1),B),j),j=B.length+Math.max(0,j-B.length)),J.append(wrapMarks(G,B),j),this.atCursorPos=K,this.pendingBuffer=K?Q<q?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(X);Y&&(this.textOff+Y<=this.text.length?this.textOff+=Y:(this.skip+=Y-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=q),this.openStart<0&&(this.openStart=j)}static build(Q,q,X,B,j){let U=new ContentBuilder(Q,q,X,j);return U.openEnd=RangeSet.spans(B,q,X,U),U.openStart<0&&(U.openStart=U.openEnd),U.finish(U.openEnd),U}}function wrapMarks(D,Q){for(let q of Q)D=new MarkView(q,[D],D.length);return D}class NullWidget extends WidgetType{constructor(Q){super(),this.tag=Q}eq(Q){return Q.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(Q){return Q.nodeName.toLowerCase()==this.tag}}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),perLineTextDirection=Facet.define({combine:D=>D.some(Q=>Q)});class ScrollTarget{constructor(Q,q="nearest",X="nearest",B=5,j=5){this.range=Q,this.y=q,this.x=X,this.yMargin=B,this.xMargin=j}map(Q){return Q.empty?this:new ScrollTarget(this.range.map(Q),this.y,this.x,this.yMargin,this.xMargin)}}const scrollIntoView$2=StateEffect.define({map:(D,Q)=>D.map(Q)});function logException(D,Q,q){let X=D.facet(exceptionSink);X.length?X[0](Q):window.onerror?window.onerror(String(Q),q,void 0,void 0,Q):q?console.error(q+":",Q):console.error(Q)}const editable=Facet.define({combine:D=>D.length?D[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define();class ViewPlugin{constructor(Q,q,X,B){this.id=Q,this.create=q,this.domEventHandlers=X,this.extension=B(this)}static define(Q,q){const{eventHandlers:X,provide:B,decorations:j}=q||{};return new ViewPlugin(nextPluginID++,Q,X,U=>{let Y=[viewPlugin.of(U)];return j&&Y.push(decorations.of(G=>{let F=G.plugin(U);return F?j(F):Decoration.none})),B&&Y.push(B(U)),Y})}static fromClass(Q,q){return ViewPlugin.define(X=>new Q(X),q)}}class PluginInstance{constructor(Q){this.spec=Q,this.mustUpdate=null,this.value=null}update(Q){if(this.value){if(this.mustUpdate){let q=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(q)}catch(X){if(logException(q.state,X,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(Q)}catch(q){logException(Q.state,q,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(Q){var q;if(!((q=this.value)===null||q===void 0)&&q.destroy)try{this.value.destroy()}catch(X){logException(Q.state,X,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),atomicRanges=Facet.define(),scrollMargins=Facet.define(),styleModule=Facet.define();class ChangedRange{constructor(Q,q,X,B){this.fromA=Q,this.toA=q,this.fromB=X,this.toB=B}join(Q){return new ChangedRange(Math.min(this.fromA,Q.fromA),Math.max(this.toA,Q.toA),Math.min(this.fromB,Q.fromB),Math.max(this.toB,Q.toB))}addToSet(Q){let q=Q.length,X=this;for(;q>0;q--){let B=Q[q-1];if(!(B.fromA>X.toA)){if(B.toA<X.fromA)break;X=X.join(B),Q.splice(q-1,1)}}return Q.splice(q,0,X),Q}static extendWithRanges(Q,q){if(q.length==0)return Q;let X=[];for(let B=0,j=0,U=0,Y=0;;B++){let G=B==Q.length?null:Q[B],F=U-Y,K=G?G.fromB:1e9;for(;j<q.length&&q[j]<K;){let J=q[j],ee=q[j+1],te=Math.max(Y,J),ne=Math.min(K,ee);if(te<=ne&&new ChangedRange(te+F,ne+F,te,ne).addToSet(X),ee>K)break;j+=2}if(!G)return X;new ChangedRange(G.fromA,G.toA,G.fromB,G.toB).addToSet(X),U=G.toA,Y=G.toB}}}class ViewUpdate{constructor(Q,q,X){this.view=Q,this.state=q,this.transactions=X,this.flags=0,this.startState=Q.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let U of X)this.changes=this.changes.compose(U.changes);let B=[];this.changes.iterChangedRanges((U,Y,G,F)=>B.push(new ChangedRange(U,Y,G,F))),this.changedRanges=B;let j=Q.hasFocus;j!=Q.inputState.notifiedFocused&&(Q.inputState.notifiedFocused=j,this.flags|=1)}static create(Q,q,X){return new ViewUpdate(Q,q,X)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(Q=>Q.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Direction=function(D){return D[D.LTR=0]="LTR",D[D.RTL=1]="RTL",D}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(D){let Q=[];for(let q=0;q<D.length;q++)Q.push(1<<+D[q]);return Q}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let D of["()","[]","{}"]){let Q=D.charCodeAt(0),q=D.charCodeAt(1);Brackets[Q]=q,Brackets[q]=-Q}function charType(D){return D<=247?LowTypes[D]:1424<=D&&D<=1524?2:1536<=D&&D<=1785?ArabicTypes[D-1536]:1774<=D&&D<=2220?4:8192<=D&&D<=8203?256:64336<=D&&D<=65023?4:D==8204?256:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{constructor(Q,q,X){this.from=Q,this.to=q,this.level=X}get dir(){return this.level%2?RTL:LTR}side(Q,q){return this.dir==q==Q?this.to:this.from}static find(Q,q,X,B){let j=-1;for(let U=0;U<Q.length;U++){let Y=Q[U];if(Y.from<=q&&Y.to>=q){if(Y.level==X)return U;(j<0||(B!=0?B<0?Y.from<q:Y.to>q:Q[j].level>Y.level))&&(j=U)}}if(j<0)throw new RangeError("Index out of range");return j}}const types=[];function computeOrder(D,Q){let q=D.length,X=Q==LTR?1:2,B=Q==LTR?2:1;if(!D||X==1&&!BidiRE.test(D))return trivialOrder(q);for(let U=0,Y=X,G=X;U<q;U++){let F=charType(D.charCodeAt(U));F==512?F=Y:F==8&&G==4&&(F=16),types[U]=F==4?2:F,F&7&&(G=F),Y=F}for(let U=0,Y=X,G=X;U<q;U++){let F=types[U];if(F==128)U<q-1&&Y==types[U+1]&&Y&24?F=types[U]=Y:types[U]=256;else if(F==64){let K=U+1;for(;K<q&&types[K]==64;)K++;let J=U&&Y==8||K<q&&types[K]==8?G==1?1:8:256;for(let ee=U;ee<K;ee++)types[ee]=J;U=K-1}else F==8&&G==1&&(types[U]=1);Y=F,F&7&&(G=F)}for(let U=0,Y=0,G=0,F,K,J;U<q;U++)if(K=Brackets[F=D.charCodeAt(U)])if(K<0){for(let ee=Y-3;ee>=0;ee-=3)if(BracketStack[ee+1]==-K){let te=BracketStack[ee+2],ne=te&2?X:te&4?te&1?B:X:0;ne&&(types[U]=types[BracketStack[ee]]=ne),Y=ee;break}}else{if(BracketStack.length==189)break;BracketStack[Y++]=U,BracketStack[Y++]=F,BracketStack[Y++]=G}else if((J=types[U])==2||J==1){let ee=J==X;G=ee?0:1;for(let te=Y-3;te>=0;te-=3){let ne=BracketStack[te+2];if(ne&2)break;if(ee)BracketStack[te+2]|=2;else{if(ne&4)break;BracketStack[te+2]|=4}}}for(let U=0;U<q;U++)if(types[U]==256){let Y=U+1;for(;Y<q&&types[Y]==256;)Y++;let G=(U?types[U-1]:X)==1,F=(Y<q?types[Y]:X)==1,K=G==F?G?1:2:X;for(let J=U;J<Y;J++)types[J]=K;U=Y-1}let j=[];if(X==1)for(let U=0;U<q;){let Y=U,G=types[U++]!=1;for(;U<q&&G==(types[U]!=1);)U++;if(G)for(let F=U;F>Y;){let K=F,J=types[--F]!=2;for(;F>Y&&J==(types[F-1]!=2);)F--;j.push(new BidiSpan(F,K,J?2:1))}else j.push(new BidiSpan(Y,U,0))}else for(let U=0;U<q;){let Y=U,G=types[U++]==2;for(;U<q&&G==(types[U]==2);)U++;j.push(new BidiSpan(Y,U,G?1:2))}return j}function trivialOrder(D){return[new BidiSpan(0,D,0)]}let movedOver="";function moveVisually(D,Q,q,X,B){var j;let U=X.head-D.from,Y=-1;if(U==0){if(!B||!D.length)return null;Q[0].level!=q&&(U=Q[0].side(!1,q),Y=0)}else if(U==D.length){if(B)return null;let ee=Q[Q.length-1];ee.level!=q&&(U=ee.side(!0,q),Y=Q.length-1)}Y<0&&(Y=BidiSpan.find(Q,U,(j=X.bidiLevel)!==null&&j!==void 0?j:-1,X.assoc));let G=Q[Y];U==G.side(B,q)&&(G=Q[Y+=B?1:-1],U=G.side(!B,q));let F=B==(G.dir==q),K=findClusterBreak(D.text,U,F);if(movedOver=D.text.slice(Math.min(U,K),Math.max(U,K)),K!=G.side(B,q))return EditorSelection.cursor(K+D.from,F?-1:1,G.level);let J=Y==(B?Q.length-1:0)?null:Q[Y+(B?1:-1)];return!J&&G.level!=q?EditorSelection.cursor(B?D.to:D.from,B?-1:1,q):J&&J.level<G.level?EditorSelection.cursor(J.side(!B,q)+D.from,B?1:-1,J.level):EditorSelection.cursor(K+D.from,B?-1:1,G.level)}const LineBreakPlaceholder="\uFFFF";class DOMReader{constructor(Q,q){this.points=Q,this.text="",this.lineSeparator=q.facet(EditorState.lineSeparator)}append(Q){this.text+=Q}lineBreak(){this.text+=LineBreakPlaceholder}readRange(Q,q){if(!Q)return this;let X=Q.parentNode;for(let B=Q;;){this.findPointBefore(X,B),this.readNode(B);let j=B.nextSibling;if(j==q)break;let U=ContentView.get(B),Y=ContentView.get(j);(U&&Y?U.breakAfter:(U?U.breakAfter:isBlockElement(B))||isBlockElement(j)&&(B.nodeName!="BR"||B.cmIgnore))&&this.lineBreak(),B=j}return this.findPointBefore(X,q),this}readTextNode(Q){let q=Q.nodeValue;for(let X of this.points)X.node==Q&&(X.pos=this.text.length+Math.min(X.offset,q.length));for(let X=0,B=this.lineSeparator?null:/\r\n?|\n/g;;){let j=-1,U=1,Y;if(this.lineSeparator?(j=q.indexOf(this.lineSeparator,X),U=this.lineSeparator.length):(Y=B.exec(q))&&(j=Y.index,U=Y[0].length),this.append(q.slice(X,j<0?q.length:j)),j<0)break;if(this.lineBreak(),U>1)for(let G of this.points)G.node==Q&&G.pos>this.text.length&&(G.pos-=U-1);X=j+U}}readNode(Q){if(Q.cmIgnore)return;let q=ContentView.get(Q),X=q&&q.overrideDOMText;if(X!=null){this.findPointInside(Q,X.length);for(let B=X.iter();!B.next().done;)B.lineBreak?this.lineBreak():this.append(B.value)}else Q.nodeType==3?this.readTextNode(Q):Q.nodeName=="BR"?Q.nextSibling&&this.lineBreak():Q.nodeType==1&&this.readRange(Q.firstChild,null)}findPointBefore(Q,q){for(let X of this.points)X.node==Q&&Q.childNodes[X.offset]==q&&(X.pos=this.text.length)}findPointInside(Q,q){for(let X of this.points)(Q.nodeType==3?X.node==Q:Q.contains(X.node))&&(X.pos=this.text.length+Math.min(q,X.offset))}}function isBlockElement(D){return D.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(D.nodeName)}class DOMPoint{constructor(Q,q){this.node=Q,this.offset=q,this.pos=-1}}class DocView extends ContentView{constructor(Q){super(),this.view=Q,this.compositionDeco=Decoration.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(Q.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,Q.state.doc.length)],0)}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(Q){let q=Q.changedRanges;this.minWidth>0&&q.length&&(q.every(({fromA:U,toA:Y})=>Y<this.minWidthFrom||U>this.minWidthTo)?(this.minWidthFrom=Q.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=Q.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Decoration.none:(Q.transactions.length||this.dirty)&&(this.compositionDeco=computeCompositionDeco(this.view,Q.changes)),(browser.ie||browser.chrome)&&!this.compositionDeco.size&&Q&&Q.state.doc.lines!=Q.startState.doc.lines&&(this.forceSelection=!0);let X=this.decorations,B=this.updateDeco(),j=findChangedDeco(X,B,Q.changes);return q=ChangedRange.extendWithRanges(q,j),this.dirty==0&&q.length==0?!1:(this.updateInner(q,Q.startState.doc.length),Q.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(Q,q){this.view.viewState.mustMeasureContent=!0,this.updateChildren(Q,q);let{observer:X}=this.view;X.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let j=browser.chrome||browser.ios?{node:X.selectionRange.focusNode,written:!1}:void 0;this.sync(j),this.dirty=0,j&&(j.written||X.selectionRange.focusNode!=j.node)&&(this.forceSelection=!0),this.dom.style.height=""});let B=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let j of this.children)j instanceof BlockWidgetView&&j.widget instanceof BlockGapWidget&&B.push(j.dom);X.updateGaps(B)}updateChildren(Q,q){let X=this.childCursor(q);for(let B=Q.length-1;;B--){let j=B>=0?Q[B]:null;if(!j)break;let{fromA:U,toA:Y,fromB:G,toB:F}=j,{content:K,breakAtStart:J,openStart:ee,openEnd:te}=ContentBuilder.build(this.view.state.doc,G,F,this.decorations,this.dynamicDecorationMap),{i:ne,off:re}=X.findPos(Y,1),{i:se,off:oe}=X.findPos(U,-1);replaceRange(this,se,oe,ne,re,K,J,ee,te)}}updateSelection(Q=!1,q=!1){if((Q||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!(q||this.mayControlSelection()))return;let X=this.forceSelection;this.forceSelection=!1;let B=this.view.state.selection.main,j=this.domAtPos(B.anchor),U=B.empty?j:this.domAtPos(B.head);if(browser.gecko&&B.empty&&betweenUneditable(j)){let G=document.createTextNode("");this.view.observer.ignore(()=>j.node.insertBefore(G,j.node.childNodes[j.offset]||null)),j=U=new DOMPos(G,0),X=!0}let Y=this.view.observer.selectionRange;(X||!Y.focusNode||!isEquivalentPosition(j.node,j.offset,Y.anchorNode,Y.anchorOffset)||!isEquivalentPosition(U.node,U.offset,Y.focusNode,Y.focusOffset))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(Y.focusNode)&&inUneditable(Y.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let G=getSelection(this.view.root);if(G)if(B.empty){if(browser.gecko){let F=nextToUneditable(j.node,j.offset);if(F&&F!=3){let K=nearbyTextNode(j.node,j.offset,F==1?1:-1);K&&(j=new DOMPos(K,F==1?0:K.nodeValue.length))}}G.collapse(j.node,j.offset),B.bidiLevel!=null&&Y.cursorBidiLevel!=null&&(Y.cursorBidiLevel=B.bidiLevel)}else if(G.extend){G.collapse(j.node,j.offset);try{G.extend(U.node,U.offset)}catch{}}else{let F=document.createRange();B.anchor>B.head&&([j,U]=[U,j]),F.setEnd(U.node,U.offset),F.setStart(j.node,j.offset),G.removeAllRanges(),G.addRange(F)}}),this.view.observer.setSelectionRange(j,U)),this.impreciseAnchor=j.precise?null:new DOMPos(Y.anchorNode,Y.anchorOffset),this.impreciseHead=U.precise?null:new DOMPos(Y.focusNode,Y.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let Q=this.view.state.selection.main,q=getSelection(this.view.root);if(!q||!Q.empty||!Q.assoc||!q.modify)return;let X=LineView.find(this,Q.head);if(!X)return;let B=X.posAtStart;if(Q.head==B||Q.head==B+X.length)return;let j=this.coordsAt(Q.head,-1),U=this.coordsAt(Q.head,1);if(!j||!U||j.bottom>U.top)return;let Y=this.domAtPos(Q.head+Q.assoc);q.collapse(Y.node,Y.offset),q.modify("move",Q.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){let Q=this.view.root.activeElement;return Q==this.dom||hasSelection(this.dom,this.view.observer.selectionRange)&&!(Q&&this.dom.contains(Q))}nearest(Q){for(let q=Q;q;){let X=ContentView.get(q);if(X&&X.rootView==this)return X;q=q.parentNode}return null}posFromDOM(Q,q){let X=this.nearest(Q);if(!X)throw new RangeError("Trying to find position for a DOM position outside of the document");return X.localPosFromDOM(Q,q)+X.posAtStart}domAtPos(Q){let{i:q,off:X}=this.childCursor().findPos(Q,-1);for(;q<this.children.length-1;){let B=this.children[q];if(X<B.length||B instanceof LineView)break;q++,X=0}return this.children[q].domAtPos(X)}coordsAt(Q,q){for(let X=this.length,B=this.children.length-1;;B--){let j=this.children[B],U=X-j.breakAfter-j.length;if(Q>U||Q==U&&j.type!=BlockType.WidgetBefore&&j.type!=BlockType.WidgetAfter&&(!B||q==2||this.children[B-1].breakAfter||this.children[B-1].type==BlockType.WidgetBefore&&q>-2))return j.coordsAt(Q-U,q);X=U}}measureVisibleLineHeights(Q){let q=[],{from:X,to:B}=Q,j=this.view.contentDOM.clientWidth,U=j>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,Y=-1,G=this.view.textDirection==Direction.LTR;for(let F=0,K=0;K<this.children.length;K++){let J=this.children[K],ee=F+J.length;if(ee>B)break;if(F>=X){let te=J.dom.getBoundingClientRect();if(q.push(te.height),U){let ne=J.dom.lastChild,re=ne?clientRectsFor(ne):[];if(re.length){let se=re[re.length-1],oe=G?se.right-te.left:te.right-se.left;oe>Y&&(Y=oe,this.minWidth=j,this.minWidthFrom=F,this.minWidthTo=ee)}}}F=ee+J.breakAfter}return q}textDirectionAt(Q){let{i:q}=this.childPos(Q,1);return getComputedStyle(this.children[q].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let B of this.children)if(B instanceof LineView){let j=B.measureTextSize();if(j)return j}let Q=document.createElement("div"),q,X;return Q.className="cm-line",Q.style.width="99999px",Q.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(Q);let B=clientRectsFor(Q.firstChild)[0];q=Q.getBoundingClientRect().height,X=B?B.width/27:7,Q.remove()}),{lineHeight:q,charWidth:X}}childCursor(Q=this.length){let q=this.children.length;return q&&(Q-=this.children[--q].length),new ChildCursor(this.children,Q,q)}computeBlockGapDeco(){let Q=[],q=this.view.viewState;for(let X=0,B=0;;B++){let j=B==q.viewports.length?null:q.viewports[B],U=j?j.from-1:this.length;if(U>X){let Y=q.lineBlockAt(U).bottom-q.lineBlockAt(X).top;Q.push(Decoration.replace({widget:new BlockGapWidget(Y),block:!0,inclusive:!0,isBlockGap:!0}).range(X,U))}if(!j)break;X=j.to+1}return Decoration.set(Q)}updateDeco(){let Q=this.view.state.facet(decorations).map((q,X)=>(this.dynamicDecorationMap[X]=typeof q=="function")?q(this.view):q);for(let q=Q.length;q<Q.length+3;q++)this.dynamicDecorationMap[q]=!1;return this.decorations=[...Q,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(Q){let{range:q}=Q,X=this.coordsAt(q.head,q.empty?q.assoc:q.head>q.anchor?-1:1),B;if(!X)return;!q.empty&&(B=this.coordsAt(q.anchor,q.anchor>q.head?-1:1))&&(X={left:Math.min(X.left,B.left),top:Math.min(X.top,B.top),right:Math.max(X.right,B.right),bottom:Math.max(X.bottom,B.bottom)});let j=0,U=0,Y=0,G=0;for(let K of this.view.state.facet(scrollMargins).map(J=>J(this.view)))if(K){let{left:J,right:ee,top:te,bottom:ne}=K;J!=null&&(j=Math.max(j,J)),ee!=null&&(U=Math.max(U,ee)),te!=null&&(Y=Math.max(Y,te)),ne!=null&&(G=Math.max(G,ne))}let F={left:X.left-j,top:X.top-Y,right:X.right+U,bottom:X.bottom+G};scrollRectIntoView(this.view.scrollDOM,F,q.head<q.anchor?-1:1,Q.x,Q.y,Q.xMargin,Q.yMargin,this.view.textDirection==Direction.LTR)}}function betweenUneditable(D){return D.node.nodeType==1&&D.node.firstChild&&(D.offset==0||D.node.childNodes[D.offset-1].contentEditable=="false")&&(D.offset==D.node.childNodes.length||D.node.childNodes[D.offset].contentEditable=="false")}class BlockGapWidget extends WidgetType{constructor(Q){super(),this.height=Q}toDOM(){let Q=document.createElement("div");return this.updateDOM(Q),Q}eq(Q){return Q.height==this.height}updateDOM(Q){return Q.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function compositionSurroundingNode(D){let Q=D.observer.selectionRange,q=Q.focusNode&&nearbyTextNode(Q.focusNode,Q.focusOffset,0);if(!q)return null;let X=D.docView.nearest(q);if(!X)return null;if(X instanceof LineView){let B=q;for(;B.parentNode!=X.dom;)B=B.parentNode;let j=B.previousSibling;for(;j&&!ContentView.get(j);)j=j.previousSibling;let U=j?ContentView.get(j).posAtEnd:X.posAtStart;return{from:U,to:U,node:B,text:q}}else{for(;;){let{parent:j}=X;if(!j)return null;if(j instanceof LineView)break;X=j}let B=X.posAtStart;return{from:B,to:B+X.length,node:X.dom,text:q}}}function computeCompositionDeco(D,Q){let q=compositionSurroundingNode(D);if(!q)return Decoration.none;let{from:X,to:B,node:j,text:U}=q,Y=Q.mapPos(X,1),G=Math.max(Y,Q.mapPos(B,-1)),{state:F}=D,K=j.nodeType==3?j.nodeValue:new DOMReader([],F).readRange(j.firstChild,null).text;if(G-Y<K.length)if(F.doc.sliceString(Y,Math.min(F.doc.length,Y+K.length),LineBreakPlaceholder)==K)G=Y+K.length;else if(F.doc.sliceString(Math.max(0,G-K.length),G,LineBreakPlaceholder)==K)Y=G-K.length;else return Decoration.none;else if(F.doc.sliceString(Y,G,LineBreakPlaceholder)!=K)return Decoration.none;let J=ContentView.get(j);return J instanceof CompositionView?J=J.widget.topView:J&&(J.parent=null),Decoration.set(Decoration.replace({widget:new CompositionWidget(j,U,J),inclusive:!0}).range(Y,G))}class CompositionWidget extends WidgetType{constructor(Q,q,X){super(),this.top=Q,this.text=q,this.topView=X}eq(Q){return this.top==Q.top&&this.text==Q.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return CompositionView}}function nearbyTextNode(D,Q,q){for(;;){if(D.nodeType==3)return D;if(D.nodeType==1&&Q>0&&q<=0)D=D.childNodes[Q-1],Q=maxOffset(D);else if(D.nodeType==1&&Q<D.childNodes.length&&q>=0)D=D.childNodes[Q],Q=0;else return null}}function nextToUneditable(D,Q){return D.nodeType!=1?0:(Q&&D.childNodes[Q-1].contentEditable=="false"?1:0)|(Q<D.childNodes.length&&D.childNodes[Q].contentEditable=="false"?2:0)}class DecorationComparator$1{constructor(){this.changes=[]}compareRange(Q,q){addRange(Q,q,this.changes)}comparePoint(Q,q){addRange(Q,q,this.changes)}}function findChangedDeco(D,Q,q){let X=new DecorationComparator$1;return RangeSet.compare(D,Q,q,X),X.changes}function inUneditable(D,Q){for(let q=D;q&&q!=Q;q=q.assignedSlot||q.parentNode)if(q.nodeType==1&&q.contentEditable=="false")return!0;return!1}function groupAt(D,Q,q=1){let X=D.charCategorizer(Q),B=D.doc.lineAt(Q),j=Q-B.from;if(B.length==0)return EditorSelection.cursor(Q);j==0?q=1:j==B.length&&(q=-1);let U=j,Y=j;q<0?U=findClusterBreak(B.text,j,!1):Y=findClusterBreak(B.text,j);let G=X(B.text.slice(U,Y));for(;U>0;){let F=findClusterBreak(B.text,U,!1);if(X(B.text.slice(F,U))!=G)break;U=F}for(;Y<B.length;){let F=findClusterBreak(B.text,Y);if(X(B.text.slice(Y,F))!=G)break;Y=F}return EditorSelection.range(U+B.from,Y+B.from)}function getdx(D,Q){return Q.left>D?Q.left-D:Math.max(0,D-Q.right)}function getdy(D,Q){return Q.top>D?Q.top-D:Math.max(0,D-Q.bottom)}function yOverlap(D,Q){return D.top<Q.bottom-1&&D.bottom>Q.top+1}function upTop(D,Q){return Q<D.top?{top:Q,left:D.left,right:D.right,bottom:D.bottom}:D}function upBot(D,Q){return Q>D.bottom?{top:D.top,left:D.left,right:D.right,bottom:Q}:D}function domPosAtCoords(D,Q,q){let X,B,j,U,Y=!1,G,F,K,J;for(let ne=D.firstChild;ne;ne=ne.nextSibling){let re=clientRectsFor(ne);for(let se=0;se<re.length;se++){let oe=re[se];B&&yOverlap(B,oe)&&(oe=upTop(upBot(oe,B.bottom),B.top));let ce=getdx(Q,oe),le=getdy(q,oe);if(ce==0&&le==0)return ne.nodeType==3?domPosInText(ne,Q,q):domPosAtCoords(ne,Q,q);(!X||U>le||U==le&&j>ce)&&(X=ne,B=oe,j=ce,U=le,Y=!ce||(ce>0?se<re.length-1:se>0)),ce==0?q>oe.bottom&&(!K||K.bottom<oe.bottom)?(G=ne,K=oe):q<oe.top&&(!J||J.top>oe.top)&&(F=ne,J=oe):K&&yOverlap(K,oe)?K=upBot(K,oe.bottom):J&&yOverlap(J,oe)&&(J=upTop(J,oe.top))}}if(K&&K.bottom>=q?(X=G,B=K):J&&J.top<=q&&(X=F,B=J),!X)return{node:D,offset:0};let ee=Math.max(B.left,Math.min(B.right,Q));if(X.nodeType==3)return domPosInText(X,ee,q);if(Y&&X.contentEditable!="false")return domPosAtCoords(X,ee,q);let te=Array.prototype.indexOf.call(D.childNodes,X)+(Q>=(B.left+B.right)/2?1:0);return{node:D,offset:te}}function domPosInText(D,Q,q){let X=D.nodeValue.length,B=-1,j=1e9,U=0;for(let Y=0;Y<X;Y++){let G=textRange(D,Y,Y+1).getClientRects();for(let F=0;F<G.length;F++){let K=G[F];if(K.top==K.bottom)continue;U||(U=Q-K.left);let J=(K.top>q?K.top-q:q-K.bottom)-1;if(K.left-1<=Q&&K.right+1>=Q&&J<j){let ee=Q>=(K.left+K.right)/2,te=ee;if((browser.chrome||browser.gecko)&&textRange(D,Y).getBoundingClientRect().left==K.right&&(te=!ee),J<=0)return{node:D,offset:Y+(te?1:0)};B=Y+(te?1:0),j=J}}}return{node:D,offset:B>-1?B:U>0?D.nodeValue.length:0}}function posAtCoords(D,{x:Q,y:q},X,B=-1){var j;let U=D.contentDOM.getBoundingClientRect(),Y=U.top+D.viewState.paddingTop,G,{docHeight:F}=D.viewState,K=q-Y;if(K<0)return 0;if(K>F)return D.state.doc.length;for(let oe=D.defaultLineHeight/2,ce=!1;G=D.elementAtHeight(K),G.type!=BlockType.Text;)for(;K=B>0?G.bottom+oe:G.top-oe,!(K>=0&&K<=F);){if(ce)return X?null:0;ce=!0,B=-B}q=Y+K;let J=G.from;if(J<D.viewport.from)return D.viewport.from==0?0:X?null:posAtCoordsImprecise(D,U,G,Q,q);if(J>D.viewport.to)return D.viewport.to==D.state.doc.length?D.state.doc.length:X?null:posAtCoordsImprecise(D,U,G,Q,q);let ee=D.dom.ownerDocument,te=D.root.elementFromPoint?D.root:ee,ne=te.elementFromPoint(Q,q);ne&&!D.contentDOM.contains(ne)&&(ne=null),ne||(Q=Math.max(U.left+1,Math.min(U.right-1,Q)),ne=te.elementFromPoint(Q,q),ne&&!D.contentDOM.contains(ne)&&(ne=null));let re,se=-1;if(ne&&((j=D.docView.nearest(ne))===null||j===void 0?void 0:j.isEditable)!=!1){if(ee.caretPositionFromPoint){let oe=ee.caretPositionFromPoint(Q,q);oe&&({offsetNode:re,offset:se}=oe)}else if(ee.caretRangeFromPoint){let oe=ee.caretRangeFromPoint(Q,q);oe&&({startContainer:re,startOffset:se}=oe,(!D.contentDOM.contains(re)||browser.safari&&isSuspiciousSafariCaretResult(re,se,Q)||browser.chrome&&isSuspiciousChromeCaretResult(re,se,Q))&&(re=void 0))}}if(!re||!D.docView.dom.contains(re)){let oe=LineView.find(D.docView,J);if(!oe)return K>G.top+G.height/2?G.to:G.from;({node:re,offset:se}=domPosAtCoords(oe.dom,Q,q))}return D.docView.posFromDOM(re,se)}function posAtCoordsImprecise(D,Q,q,X,B){let j=Math.round((X-Q.left)*D.defaultCharacterWidth);D.lineWrapping&&q.height>D.defaultLineHeight*1.5&&(j+=Math.floor((B-q.top)/D.defaultLineHeight)*D.viewState.heightOracle.lineLength);let U=D.state.sliceDoc(q.from,q.to);return q.from+findColumn(U,j,D.state.tabSize)}function isSuspiciousSafariCaretResult(D,Q,q){let X;if(D.nodeType!=3||Q!=(X=D.nodeValue.length))return!1;for(let B=D.nextSibling;B;B=B.nextSibling)if(B.nodeType!=1||B.nodeName!="BR")return!1;return textRange(D,X-1,X).getBoundingClientRect().left>q}function isSuspiciousChromeCaretResult(D,Q,q){if(Q!=0)return!1;for(let B=D;;){let j=B.parentNode;if(!j||j.nodeType!=1||j.firstChild!=B)return!1;if(j.classList.contains("cm-line"))break;B=j}let X=D.nodeType==1?D.getBoundingClientRect():textRange(D,0,Math.max(D.nodeValue.length,1)).getBoundingClientRect();return q-X.left>5}function moveToLineBoundary(D,Q,q,X){let B=D.state.doc.lineAt(Q.head),j=!X||!D.lineWrapping?null:D.coordsAtPos(Q.assoc<0&&Q.head>B.from?Q.head-1:Q.head);if(j){let G=D.dom.getBoundingClientRect(),F=D.textDirectionAt(B.from),K=D.posAtCoords({x:q==(F==Direction.LTR)?G.right-1:G.left+1,y:(j.top+j.bottom)/2});if(K!=null)return EditorSelection.cursor(K,q?-1:1)}let U=LineView.find(D.docView,Q.head),Y=U?q?U.posAtEnd:U.posAtStart:q?B.to:B.from;return EditorSelection.cursor(Y,q?-1:1)}function moveByChar(D,Q,q,X){let B=D.state.doc.lineAt(Q.head),j=D.bidiSpans(B),U=D.textDirectionAt(B.from);for(let Y=Q,G=null;;){let F=moveVisually(B,j,U,Y,q),K=movedOver;if(!F){if(B.number==(q?D.state.doc.lines:1))return Y;K=`
`,B=D.state.doc.line(B.number+(q?1:-1)),j=D.bidiSpans(B),F=EditorSelection.cursor(q?B.from:B.to)}if(G){if(!G(K))return Y}else{if(!X)return F;G=X(K)}Y=F}}function byGroup(D,Q,q){let X=D.state.charCategorizer(Q),B=X(q);return j=>{let U=X(j);return B==CharCategory.Space&&(B=U),B==U}}function moveVertically(D,Q,q,X){let B=Q.head,j=q?1:-1;if(B==(q?D.state.doc.length:0))return EditorSelection.cursor(B,Q.assoc);let U=Q.goalColumn,Y,G=D.contentDOM.getBoundingClientRect(),F=D.coordsAtPos(B),K=D.documentTop;if(F)U==null&&(U=F.left-G.left),Y=j<0?F.top:F.bottom;else{let te=D.viewState.lineBlockAt(B);U==null&&(U=Math.min(G.right-G.left,D.defaultCharacterWidth*(B-te.from))),Y=(j<0?te.top:te.bottom)+K}let J=G.left+U,ee=X!=null?X:D.defaultLineHeight>>1;for(let te=0;;te+=10){let ne=Y+(ee+te)*j,re=posAtCoords(D,{x:J,y:ne},!1,j);if(ne<G.top||ne>G.bottom||(j<0?re<B:re>B))return EditorSelection.cursor(re,Q.assoc,void 0,U)}}function skipAtoms(D,Q,q){let X=D.state.facet(atomicRanges).map(B=>B(D));for(;;){let B=!1;for(let j of X)j.between(q.from-1,q.from+1,(U,Y,G)=>{q.from>U&&q.from<Y&&(q=Q.head>q.from?EditorSelection.cursor(U,1):EditorSelection.cursor(Y,-1),B=!0)});if(!B)return q}}class InputState{constructor(Q){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;for(let q in handlers){let X=handlers[q];Q.contentDOM.addEventListener(q,B=>{!eventBelongsToEditor(Q,B)||this.ignoreDuringComposition(B)||q=="keydown"&&this.keydown(Q,B)||(this.mustFlushObserver(B)&&Q.observer.forceFlush(),this.runCustomHandlers(q,Q,B)?B.preventDefault():X(Q,B))},handlerOptions[q]),this.registeredEvents.push(q)}browser.chrome&&browser.chrome_version==102&&Q.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?Q.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,Q.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=Q.hasFocus,browser.safari&&Q.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(Q){this.lastSelectionOrigin=Q,this.lastSelectionTime=Date.now()}ensureHandlers(Q,q){var X;let B;this.customHandlers=[];for(let j of q)if(B=(X=j.update(Q).spec)===null||X===void 0?void 0:X.domEventHandlers){this.customHandlers.push({plugin:j.value,handlers:B});for(let U in B)this.registeredEvents.indexOf(U)<0&&U!="scroll"&&(this.registeredEvents.push(U),Q.contentDOM.addEventListener(U,Y=>{!eventBelongsToEditor(Q,Y)||this.runCustomHandlers(U,Q,Y)&&Y.preventDefault()}))}}runCustomHandlers(Q,q,X){for(let B of this.customHandlers){let j=B.handlers[Q];if(j)try{if(j.call(B.plugin,X,q)||X.defaultPrevented)return!0}catch(U){logException(q.state,U)}}return!1}runScrollHandlers(Q,q){this.lastScrollTop=Q.scrollDOM.scrollTop,this.lastScrollLeft=Q.scrollDOM.scrollLeft;for(let X of this.customHandlers){let B=X.handlers.scroll;if(B)try{B.call(X.plugin,q,Q)}catch(j){logException(Q.state,j)}}}keydown(Q,q){if(this.lastKeyCode=q.keyCode,this.lastKeyTime=Date.now(),q.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(browser.android&&browser.chrome&&!q.synthetic&&(q.keyCode==13||q.keyCode==8))return Q.observer.delayAndroidKey(q.key,q.keyCode),!0;let X;return browser.ios&&!q.synthetic&&!q.altKey&&!q.metaKey&&((X=PendingKeys.find(B=>B.keyCode==q.keyCode))&&!q.ctrlKey||EmacsyPendingKeys.indexOf(q.key)>-1&&q.ctrlKey&&!q.shiftKey)?(this.pendingIOSKey=X||q,setTimeout(()=>this.flushIOSKey(Q),250),!0):!1}flushIOSKey(Q){let q=this.pendingIOSKey;return q?(this.pendingIOSKey=void 0,dispatchKey(Q.contentDOM,q.key,q.keyCode)):!1}ignoreDuringComposition(Q){return/^key/.test(Q.type)?this.composing>0?!0:browser.safari&&!browser.ios&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(Q){return Q.type=="keydown"&&Q.keyCode!=229}startMouseSelection(Q){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=Q}update(Q){this.mouseSelection&&this.mouseSelection.update(Q),Q.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225];class MouseSelection{constructor(Q,q,X,B){this.view=Q,this.style=X,this.mustSelect=B,this.lastEvent=q;let j=Q.contentDOM.ownerDocument;j.addEventListener("mousemove",this.move=this.move.bind(this)),j.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=q.shiftKey,this.multiple=Q.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(Q,q),this.dragMove=dragMovesSelection(Q,q),this.dragging=isInPrimarySelection(Q,q)&&getClickType(q)==1?null:!1,this.dragging===!1&&(q.preventDefault(),this.select(q))}move(Q){if(Q.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=Q)}up(Q){this.dragging==null&&this.select(this.lastEvent),this.dragging||Q.preventDefault(),this.destroy()}destroy(){let Q=this.view.contentDOM.ownerDocument;Q.removeEventListener("mousemove",this.move),Q.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(Q){let q=this.style.get(Q,this.extend,this.multiple);(this.mustSelect||!q.eq(this.view.state.selection)||q.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:q,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(Q){Q.docChanged&&this.dragging&&(this.dragging=this.dragging.map(Q.changes)),this.style.update(Q)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(D,Q){let q=D.state.facet(clickAddsSelectionRange);return q.length?q[0](Q):browser.mac?Q.metaKey:Q.ctrlKey}function dragMovesSelection(D,Q){let q=D.state.facet(dragMovesSelection$1);return q.length?q[0](Q):browser.mac?!Q.altKey:!Q.ctrlKey}function isInPrimarySelection(D,Q){let{main:q}=D.state.selection;if(q.empty)return!1;let X=getSelection(D.root);if(!X||X.rangeCount==0)return!0;let B=X.getRangeAt(0).getClientRects();for(let j=0;j<B.length;j++){let U=B[j];if(U.left<=Q.clientX&&U.right>=Q.clientX&&U.top<=Q.clientY&&U.bottom>=Q.clientY)return!0}return!1}function eventBelongsToEditor(D,Q){if(!Q.bubbles)return!0;if(Q.defaultPrevented)return!1;for(let q=Q.target,X;q!=D.contentDOM;q=q.parentNode)if(!q||q.nodeType==11||(X=ContentView.get(q))&&X.ignoreEvent(Q))return!1;return!0}const handlers=Object.create(null),handlerOptions=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(D){let Q=D.dom.parentNode;if(!Q)return;let q=Q.appendChild(document.createElement("textarea"));q.style.cssText="position: fixed; left: -10000px; top: 10px",q.focus(),setTimeout(()=>{D.focus(),q.remove(),doPaste(D,q.value)},50)}function doPaste(D,Q){let{state:q}=D,X,B=1,j=q.toText(Q),U=j.lines==q.selection.ranges.length;if(lastLinewiseCopy!=null&&q.selection.ranges.every(G=>G.empty)&&lastLinewiseCopy==j.toString()){let G=-1;X=q.changeByRange(F=>{let K=q.doc.lineAt(F.from);if(K.from==G)return{range:F};G=K.from;let J=q.toText((U?j.line(B++).text:Q)+q.lineBreak);return{changes:{from:K.from,insert:J},range:EditorSelection.cursor(F.from+J.length)}})}else U?X=q.changeByRange(G=>{let F=j.line(B++);return{changes:{from:G.from,to:G.to,insert:F.text},range:EditorSelection.cursor(G.from+F.length)}}):X=q.replaceSelection(j);D.dispatch(X,{userEvent:"input.paste",scrollIntoView:!0})}handlers.keydown=(D,Q)=>{D.inputState.setSelectionOrigin("select"),Q.keyCode==27?D.inputState.lastEscPress=Date.now():modifierCodes.indexOf(Q.keyCode)<0&&(D.inputState.lastEscPress=0)};handlers.touchstart=(D,Q)=>{D.inputState.lastTouchTime=Date.now(),D.inputState.setSelectionOrigin("select.pointer")};handlers.touchmove=D=>{D.inputState.setSelectionOrigin("select.pointer")};handlerOptions.touchstart=handlerOptions.touchmove={passive:!0};handlers.mousedown=(D,Q)=>{if(D.observer.flush(),D.inputState.lastTouchTime>Date.now()-2e3)return;let q=null;for(let X of D.state.facet(mouseSelectionStyle))if(q=X(D,Q),q)break;if(!q&&Q.button==0&&(q=basicMouseSelection(D,Q)),q){let X=D.root.activeElement!=D.contentDOM;X&&D.observer.ignore(()=>focusPreventScroll(D.contentDOM)),D.inputState.startMouseSelection(new MouseSelection(D,Q,q,X))}};function rangeForClick(D,Q,q,X){if(X==1)return EditorSelection.cursor(Q,q);if(X==2)return groupAt(D.state,Q,q);{let B=LineView.find(D.docView,Q),j=D.state.doc.lineAt(B?B.posAtEnd:Q),U=B?B.posAtStart:j.from,Y=B?B.posAtEnd:j.to;return Y<D.state.doc.length&&Y==j.to&&Y++,EditorSelection.range(U,Y)}}let insideY=(D,Q)=>D>=Q.top&&D<=Q.bottom,inside=(D,Q,q)=>insideY(Q,q)&&D>=q.left&&D<=q.right;function findPositionSide(D,Q,q,X){let B=LineView.find(D.docView,Q);if(!B)return 1;let j=Q-B.posAtStart;if(j==0)return 1;if(j==B.length)return-1;let U=B.coordsAt(j,-1);if(U&&inside(q,X,U))return-1;let Y=B.coordsAt(j,1);return Y&&inside(q,X,Y)?1:U&&insideY(X,U)?-1:1}function queryPos(D,Q){let q=D.posAtCoords({x:Q.clientX,y:Q.clientY},!1);return{pos:q,bias:findPositionSide(D,q,Q.clientX,Q.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(D){if(!BadMouseDetail)return D.detail;let Q=lastMouseDown,q=lastMouseDownTime;return lastMouseDown=D,lastMouseDownTime=Date.now(),lastMouseDownCount=!Q||q>Date.now()-400&&Math.abs(Q.clientX-D.clientX)<2&&Math.abs(Q.clientY-D.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(D,Q){let q=queryPos(D,Q),X=getClickType(Q),B=D.state.selection,j=q,U=Q;return{update(Y){Y.docChanged&&(q.pos=Y.changes.mapPos(q.pos),B=B.map(Y.changes),U=null)},get(Y,G,F){let K;U&&Y.clientX==U.clientX&&Y.clientY==U.clientY?K=j:(K=j=queryPos(D,Y),U=Y);let J=rangeForClick(D,K.pos,K.bias,X);if(q.pos!=K.pos&&!G){let ee=rangeForClick(D,q.pos,q.bias,X),te=Math.min(ee.from,J.from),ne=Math.max(ee.to,J.to);J=te<J.from?EditorSelection.range(te,ne):EditorSelection.range(ne,te)}return G?B.replaceRange(B.main.extend(J.from,J.to)):F&&B.ranges.length>1&&B.ranges.some(ee=>ee.eq(J))?removeRange(B,J):F?B.addRange(J):EditorSelection.create([J])}}}function removeRange(D,Q){for(let q=0;;q++)if(D.ranges[q].eq(Q))return EditorSelection.create(D.ranges.slice(0,q).concat(D.ranges.slice(q+1)),D.mainIndex==q?0:D.mainIndex-(D.mainIndex>q?1:0))}handlers.dragstart=(D,Q)=>{let{selection:{main:q}}=D.state,{mouseSelection:X}=D.inputState;X&&(X.dragging=q),Q.dataTransfer&&(Q.dataTransfer.setData("Text",D.state.sliceDoc(q.from,q.to)),Q.dataTransfer.effectAllowed="copyMove")};function dropText(D,Q,q,X){if(!q)return;let B=D.posAtCoords({x:Q.clientX,y:Q.clientY},!1);Q.preventDefault();let{mouseSelection:j}=D.inputState,U=X&&j&&j.dragging&&j.dragMove?{from:j.dragging.from,to:j.dragging.to}:null,Y={from:B,insert:q},G=D.state.changes(U?[U,Y]:Y);D.focus(),D.dispatch({changes:G,selection:{anchor:G.mapPos(B,-1),head:G.mapPos(B,1)},userEvent:U?"move.drop":"input.drop"})}handlers.drop=(D,Q)=>{if(!Q.dataTransfer)return;if(D.state.readOnly)return Q.preventDefault();let q=Q.dataTransfer.files;if(q&&q.length){Q.preventDefault();let X=Array(q.length),B=0,j=()=>{++B==q.length&&dropText(D,Q,X.filter(U=>U!=null).join(D.state.lineBreak),!1)};for(let U=0;U<q.length;U++){let Y=new FileReader;Y.onerror=j,Y.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(Y.result)||(X[U]=Y.result),j()},Y.readAsText(q[U])}}else dropText(D,Q,Q.dataTransfer.getData("Text"),!0)};handlers.paste=(D,Q)=>{if(D.state.readOnly)return Q.preventDefault();D.observer.flush();let q=brokenClipboardAPI?null:Q.clipboardData;q?(doPaste(D,q.getData("text/plain")),Q.preventDefault()):capturePaste(D)};function captureCopy(D,Q){let q=D.dom.parentNode;if(!q)return;let X=q.appendChild(document.createElement("textarea"));X.style.cssText="position: fixed; left: -10000px; top: 10px",X.value=Q,X.focus(),X.selectionEnd=Q.length,X.selectionStart=0,setTimeout(()=>{X.remove(),D.focus()},50)}function copiedRange(D){let Q=[],q=[],X=!1;for(let B of D.selection.ranges)B.empty||(Q.push(D.sliceDoc(B.from,B.to)),q.push(B));if(!Q.length){let B=-1;for(let{from:j}of D.selection.ranges){let U=D.doc.lineAt(j);U.number>B&&(Q.push(U.text),q.push({from:U.from,to:Math.min(D.doc.length,U.to+1)})),B=U.number}X=!0}return{text:Q.join(D.lineBreak),ranges:q,linewise:X}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(D,Q)=>{let{text:q,ranges:X,linewise:B}=copiedRange(D.state);if(!q&&!B)return;lastLinewiseCopy=B?q:null;let j=brokenClipboardAPI?null:Q.clipboardData;j?(Q.preventDefault(),j.clearData(),j.setData("text/plain",q)):captureCopy(D,q),Q.type=="cut"&&!D.state.readOnly&&D.dispatch({changes:X,scrollIntoView:!0,userEvent:"delete.cut"})};function updateForFocusChange(D){setTimeout(()=>{D.hasFocus!=D.inputState.notifiedFocused&&D.update([])},10)}handlers.focus=D=>{D.inputState.lastFocusTime=Date.now(),!D.scrollDOM.scrollTop&&(D.inputState.lastScrollTop||D.inputState.lastScrollLeft)&&(D.scrollDOM.scrollTop=D.inputState.lastScrollTop,D.scrollDOM.scrollLeft=D.inputState.lastScrollLeft),updateForFocusChange(D)};handlers.blur=D=>{D.observer.clearSelectionRange(),updateForFocusChange(D)};handlers.compositionstart=handlers.compositionupdate=D=>{D.inputState.compositionFirstChange==null&&(D.inputState.compositionFirstChange=!0),D.inputState.composing<0&&(D.inputState.composing=0)};handlers.compositionend=D=>{D.inputState.composing=-1,D.inputState.compositionEndedAt=Date.now(),D.inputState.compositionFirstChange=null,browser.chrome&&browser.android&&D.observer.flushSoon(),setTimeout(()=>{D.inputState.composing<0&&D.docView.compositionDeco.size&&D.update([])},50)};handlers.contextmenu=D=>{D.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(D,Q)=>{var q;let X;if(browser.chrome&&browser.android&&(X=PendingKeys.find(B=>B.inputType==Q.inputType))&&(D.observer.delayAndroidKey(X.key,X.keyCode),X.key=="Backspace"||X.key=="Delete")){let B=((q=window.visualViewport)===null||q===void 0?void 0:q.height)||0;setTimeout(()=>{var j;(((j=window.visualViewport)===null||j===void 0?void 0:j.height)||0)>B+10&&D.hasFocus&&(D.contentDOM.blur(),D.focus())},100)}};const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];class HeightOracle{constructor(){this.doc=Text.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(Q,q){let X=this.doc.lineAt(q).number-this.doc.lineAt(Q).number+1;return this.lineWrapping&&(X+=Math.ceil((q-Q-X*this.lineLength*.5)/this.lineLength)),this.lineHeight*X}heightForLine(Q){return this.lineWrapping?(1+Math.max(0,Math.ceil((Q-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(Q){return this.doc=Q,this}mustRefreshForWrapping(Q){return wrappingWhiteSpace.indexOf(Q)>-1!=this.lineWrapping}mustRefreshForHeights(Q){let q=!1;for(let X=0;X<Q.length;X++){let B=Q[X];B<0?X++:this.heightSamples[Math.floor(B*10)]||(q=!0,this.heightSamples[Math.floor(B*10)]=!0)}return q}refresh(Q,q,X,B,j){let U=wrappingWhiteSpace.indexOf(Q)>-1,Y=Math.round(q)!=Math.round(this.lineHeight)||this.lineWrapping!=U;if(this.lineWrapping=U,this.lineHeight=q,this.charWidth=X,this.lineLength=B,Y){this.heightSamples={};for(let G=0;G<j.length;G++){let F=j[G];F<0?G++:this.heightSamples[Math.floor(F*10)]=!0}}return Y}}class MeasuredHeights{constructor(Q,q){this.from=Q,this.heights=q,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(Q,q,X,B,j){this.from=Q,this.length=q,this.top=X,this.height=B,this.type=j}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(Q){let q=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(Q.type)?Q.type:[Q]);return new BlockInfo(this.from,this.length+Q.length,this.top,this.height+Q.height,q)}}var QueryType$1=function(D){return D[D.ByPos=0]="ByPos",D[D.ByHeight=1]="ByHeight",D[D.ByPosNoHeight=2]="ByPosNoHeight",D}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(Q,q,X=2){this.length=Q,this.height=q,this.flags=X}get outdated(){return(this.flags&2)>0}set outdated(Q){this.flags=(Q?2:0)|this.flags&-3}setHeight(Q,q){this.height!=q&&(Math.abs(this.height-q)>Epsilon&&(Q.heightChanged=!0),this.height=q)}replace(Q,q,X){return HeightMap.of(X)}decomposeLeft(Q,q){q.push(this)}decomposeRight(Q,q){q.push(this)}applyChanges(Q,q,X,B){let j=this;for(let U=B.length-1;U>=0;U--){let{fromA:Y,toA:G,fromB:F,toB:K}=B[U],J=j.lineAt(Y,QueryType$1.ByPosNoHeight,q,0,0),ee=J.to>=G?J:j.lineAt(G,QueryType$1.ByPosNoHeight,q,0,0);for(K+=ee.to-G,G=ee.to;U>0&&J.from<=B[U-1].toA;)Y=B[U-1].fromA,F=B[U-1].fromB,U--,Y<J.from&&(J=j.lineAt(Y,QueryType$1.ByPosNoHeight,q,0,0));F+=J.from-Y,Y=J.from;let te=NodeBuilder.build(X,Q,F,K);j=j.replace(Y,G,te)}return j.updateHeight(X,0)}static empty(){return new HeightMapText(0,0)}static of(Q){if(Q.length==1)return Q[0];let q=0,X=Q.length,B=0,j=0;for(;;)if(q==X)if(B>j*2){let Y=Q[q-1];Y.break?Q.splice(--q,1,Y.left,null,Y.right):Q.splice(--q,1,Y.left,Y.right),X+=1+Y.break,B-=Y.size}else if(j>B*2){let Y=Q[X];Y.break?Q.splice(X,1,Y.left,null,Y.right):Q.splice(X,1,Y.left,Y.right),X+=2+Y.break,j-=Y.size}else break;else if(B<j){let Y=Q[q++];Y&&(B+=Y.size)}else{let Y=Q[--X];Y&&(j+=Y.size)}let U=0;return Q[q-1]==null?(U=1,q--):Q[q]==null&&(U=1,X++),new HeightMapBranch(HeightMap.of(Q.slice(0,q)),U,HeightMap.of(Q.slice(X)))}}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(Q,q,X){super(Q,q),this.type=X}blockAt(Q,q,X,B){return new BlockInfo(B,this.length,X,this.height,this.type)}lineAt(Q,q,X,B,j){return this.blockAt(0,X,B,j)}forEachLine(Q,q,X,B,j,U){Q<=j+this.length&&q>=j&&U(this.blockAt(0,X,B,j))}updateHeight(Q,q=0,X=!1,B){return B&&B.from<=q&&B.more&&this.setHeight(Q,B.heights[B.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(Q,q){super(Q,q,BlockType.Text),this.collapsed=0,this.widgetHeight=0}replace(Q,q,X){let B=X[0];return X.length==1&&(B instanceof HeightMapText||B instanceof HeightMapGap&&B.flags&4)&&Math.abs(this.length-B.length)<10?(B instanceof HeightMapGap?B=new HeightMapText(B.length,this.height):B.height=this.height,this.outdated||(B.outdated=!1),B):HeightMap.of(X)}updateHeight(Q,q=0,X=!1,B){return B&&B.from<=q&&B.more?this.setHeight(Q,B.heights[B.index++]):(X||this.outdated)&&this.setHeight(Q,Math.max(this.widgetHeight,Q.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(Q){super(Q,0)}lines(Q,q){let X=Q.lineAt(q).number,B=Q.lineAt(q+this.length).number;return{firstLine:X,lastLine:B,lineHeight:this.height/(B-X+1)}}blockAt(Q,q,X,B){let{firstLine:j,lastLine:U,lineHeight:Y}=this.lines(q,B),G=Math.max(0,Math.min(U-j,Math.floor((Q-X)/Y))),{from:F,length:K}=q.line(j+G);return new BlockInfo(F,K,X+Y*G,Y,BlockType.Text)}lineAt(Q,q,X,B,j){if(q==QueryType$1.ByHeight)return this.blockAt(Q,X,B,j);if(q==QueryType$1.ByPosNoHeight){let{from:J,to:ee}=X.lineAt(Q);return new BlockInfo(J,ee-J,0,0,BlockType.Text)}let{firstLine:U,lineHeight:Y}=this.lines(X,j),{from:G,length:F,number:K}=X.lineAt(Q);return new BlockInfo(G,F,B+Y*(K-U),Y,BlockType.Text)}forEachLine(Q,q,X,B,j,U){let{firstLine:Y,lineHeight:G}=this.lines(X,j);for(let F=Math.max(Q,j),K=Math.min(j+this.length,q);F<=K;){let J=X.lineAt(F);F==Q&&(B+=G*(J.number-Y)),U(new BlockInfo(J.from,J.length,B,G,BlockType.Text)),B+=G,F=J.to+1}}replace(Q,q,X){let B=this.length-q;if(B>0){let j=X[X.length-1];j instanceof HeightMapGap?X[X.length-1]=new HeightMapGap(j.length+B):X.push(null,new HeightMapGap(B-1))}if(Q>0){let j=X[0];j instanceof HeightMapGap?X[0]=new HeightMapGap(Q+j.length):X.unshift(new HeightMapGap(Q-1),null)}return HeightMap.of(X)}decomposeLeft(Q,q){q.push(new HeightMapGap(Q-1),null)}decomposeRight(Q,q){q.push(null,new HeightMapGap(this.length-Q-1))}updateHeight(Q,q=0,X=!1,B){let j=q+this.length;if(B&&B.from<=q+this.length&&B.more){let U=[],Y=Math.max(q,B.from),G=-1,F=Q.heightChanged;for(B.from>q&&U.push(new HeightMapGap(B.from-q-1).updateHeight(Q,q));Y<=j&&B.more;){let J=Q.doc.lineAt(Y).length;U.length&&U.push(null);let ee=B.heights[B.index++];G==-1?G=ee:Math.abs(ee-G)>=Epsilon&&(G=-2);let te=new HeightMapText(J,ee);te.outdated=!1,U.push(te),Y+=J+1}Y<=j&&U.push(null,new HeightMapGap(j-Y).updateHeight(Q,Y));let K=HeightMap.of(U);return Q.heightChanged=F||G<0||Math.abs(K.height-this.height)>=Epsilon||Math.abs(G-this.lines(Q.doc,q).lineHeight)>=Epsilon,K}else(X||this.outdated)&&(this.setHeight(Q,Q.heightForGap(q,q+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(Q,q,X){super(Q.length+q+X.length,Q.height+X.height,q|(Q.outdated||X.outdated?2:0)),this.left=Q,this.right=X,this.size=Q.size+X.size}get break(){return this.flags&1}blockAt(Q,q,X,B){let j=X+this.left.height;return Q<j?this.left.blockAt(Q,q,X,B):this.right.blockAt(Q,q,j,B+this.left.length+this.break)}lineAt(Q,q,X,B,j){let U=B+this.left.height,Y=j+this.left.length+this.break,G=q==QueryType$1.ByHeight?Q<U:Q<Y,F=G?this.left.lineAt(Q,q,X,B,j):this.right.lineAt(Q,q,X,U,Y);if(this.break||(G?F.to<Y:F.from>Y))return F;let K=q==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return G?F.join(this.right.lineAt(Y,K,X,U,Y)):this.left.lineAt(Y,K,X,B,j).join(F)}forEachLine(Q,q,X,B,j,U){let Y=B+this.left.height,G=j+this.left.length+this.break;if(this.break)Q<G&&this.left.forEachLine(Q,q,X,B,j,U),q>=G&&this.right.forEachLine(Q,q,X,Y,G,U);else{let F=this.lineAt(G,QueryType$1.ByPos,X,B,j);Q<F.from&&this.left.forEachLine(Q,F.from-1,X,B,j,U),F.to>=Q&&F.from<=q&&U(F),q>F.to&&this.right.forEachLine(F.to+1,q,X,Y,G,U)}}replace(Q,q,X){let B=this.left.length+this.break;if(q<B)return this.balanced(this.left.replace(Q,q,X),this.right);if(Q>this.left.length)return this.balanced(this.left,this.right.replace(Q-B,q-B,X));let j=[];Q>0&&this.decomposeLeft(Q,j);let U=j.length;for(let Y of X)j.push(Y);if(Q>0&&mergeGaps(j,U-1),q<this.length){let Y=j.length;this.decomposeRight(q,j),mergeGaps(j,Y)}return HeightMap.of(j)}decomposeLeft(Q,q){let X=this.left.length;if(Q<=X)return this.left.decomposeLeft(Q,q);q.push(this.left),this.break&&(X++,Q>=X&&q.push(null)),Q>X&&this.right.decomposeLeft(Q-X,q)}decomposeRight(Q,q){let X=this.left.length,B=X+this.break;if(Q>=B)return this.right.decomposeRight(Q-B,q);Q<X&&this.left.decomposeRight(Q,q),this.break&&Q<B&&q.push(null),q.push(this.right)}balanced(Q,q){return Q.size>2*q.size||q.size>2*Q.size?HeightMap.of(this.break?[Q,null,q]:[Q,q]):(this.left=Q,this.right=q,this.height=Q.height+q.height,this.outdated=Q.outdated||q.outdated,this.size=Q.size+q.size,this.length=Q.length+this.break+q.length,this)}updateHeight(Q,q=0,X=!1,B){let{left:j,right:U}=this,Y=q+j.length+this.break,G=null;return B&&B.from<=q+j.length&&B.more?G=j=j.updateHeight(Q,q,X,B):j.updateHeight(Q,q,X),B&&B.from<=Y+U.length&&B.more?G=U=U.updateHeight(Q,Y,X,B):U.updateHeight(Q,Y,X),G?this.balanced(j,U):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(D,Q){let q,X;D[Q]==null&&(q=D[Q-1])instanceof HeightMapGap&&(X=D[Q+1])instanceof HeightMapGap&&D.splice(Q-1,3,new HeightMapGap(q.length+1+X.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(Q,q){this.pos=Q,this.oracle=q,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=Q}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(Q,q){if(this.lineStart>-1){let X=Math.min(q,this.lineEnd),B=this.nodes[this.nodes.length-1];B instanceof HeightMapText?B.length+=X-this.pos:(X>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(X-this.pos,-1)),this.writtenTo=X,q>X&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=q}point(Q,q,X){if(Q<q||X.heightRelevant){let B=X.widget?X.widget.estimatedHeight:0;B<0&&(B=this.oracle.lineHeight);let j=q-Q;X.block?this.addBlock(new HeightMapBlock(j,B,X.type)):(j||B>=relevantWidgetHeight)&&this.addLineDeco(B,j)}else q>Q&&this.span(Q,q);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:Q,to:q}=this.oracle.doc.lineAt(this.pos);this.lineStart=Q,this.lineEnd=q,this.writtenTo<Q&&((this.writtenTo<Q-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,Q-1)),this.nodes.push(null)),this.pos>Q&&this.nodes.push(new HeightMapText(this.pos-Q,-1)),this.writtenTo=this.pos}blankContent(Q,q){let X=new HeightMapGap(q-Q);return this.oracle.doc.lineAt(Q).to==q&&(X.flags|=4),X}ensureLine(){this.enterLine();let Q=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(Q instanceof HeightMapText)return Q;let q=new HeightMapText(0,-1);return this.nodes.push(q),q}addBlock(Q){this.enterLine(),Q.type==BlockType.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(Q),this.writtenTo=this.pos=this.pos+Q.length,Q.type!=BlockType.WidgetBefore&&(this.covering=Q)}addLineDeco(Q,q){let X=this.ensureLine();X.length+=q,X.collapsed+=q,X.widgetHeight=Math.max(X.widgetHeight,Q),this.writtenTo=this.pos=this.pos+q}finish(Q){let q=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(q instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||q==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let X=Q;for(let B of this.nodes)B instanceof HeightMapText&&B.updateHeight(this.oracle,X),X+=B?B.length:1;return this.nodes}static build(Q,q,X,B){let j=new NodeBuilder(X,Q);return RangeSet.spans(q,X,B,j,0),j.finish(X)}}function heightRelevantDecoChanges(D,Q,q){let X=new DecorationComparator;return RangeSet.compare(D,Q,q,X,0),X.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(Q,q,X,B){(Q<q||X&&X.heightRelevant||B&&B.heightRelevant)&&addRange(Q,q,this.changes,5)}}function visiblePixelRange(D,Q){let q=D.getBoundingClientRect(),X=D.ownerDocument,B=X.defaultView||window,j=Math.max(0,q.left),U=Math.min(B.innerWidth,q.right),Y=Math.max(0,q.top),G=Math.min(B.innerHeight,q.bottom);for(let F=D.parentNode;F&&F!=X.body;)if(F.nodeType==1){let K=F,J=window.getComputedStyle(K);if((K.scrollHeight>K.clientHeight||K.scrollWidth>K.clientWidth)&&J.overflow!="visible"){let ee=K.getBoundingClientRect();j=Math.max(j,ee.left),U=Math.min(U,ee.right),Y=Math.max(Y,ee.top),G=F==D.parentNode?ee.bottom:Math.min(G,ee.bottom)}F=J.position=="absolute"||J.position=="fixed"?K.offsetParent:K.parentNode}else if(F.nodeType==11)F=F.host;else break;return{left:j-q.left,right:Math.max(j,U)-q.left,top:Y-(q.top+Q),bottom:Math.max(Y,G)-(q.top+Q)}}function fullPixelRange(D,Q){let q=D.getBoundingClientRect();return{left:0,right:q.right-q.left,top:Q,bottom:q.bottom-(q.top+Q)}}class LineGap{constructor(Q,q,X){this.from=Q,this.to=q,this.size=X}static same(Q,q){if(Q.length!=q.length)return!1;for(let X=0;X<Q.length;X++){let B=Q[X],j=q[X];if(B.from!=j.from||B.to!=j.to||B.size!=j.size)return!1}return!0}draw(Q){return Decoration.replace({widget:new LineGapWidget(this.size,Q)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(Q,q){super(),this.size=Q,this.vertical=q}eq(Q){return Q.size==this.size&&Q.vertical==this.vertical}toDOM(){let Q=document.createElement("div");return this.vertical?Q.style.height=this.size+"px":(Q.style.width=this.size+"px",Q.style.height="2px",Q.style.display="inline-block"),Q}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(Q){this.state=Q,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new HeightOracle,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=Q.facet(decorations).filter(q=>typeof q!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(Q.doc),[new ChangedRange(0,0,0,Q.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(q=>q.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let Q=[this.viewport],{main:q}=this.state.selection;for(let X=0;X<=1;X++){let B=X?q.head:q.anchor;if(!Q.some(({from:j,to:U})=>B>=j&&B<=U)){let{from:j,to:U}=this.lineBlockAt(B);Q.push(new Viewport(j,U))}}this.viewports=Q.sort((X,B)=>X.from-B.from),this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,Q=>{this.viewportLines.push(this.scaler.scale==1?Q:scaleBlock(Q,this.scaler))})}update(Q,q=null){this.state=Q.state;let X=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(F=>typeof F!="function");let B=Q.changedRanges,j=ChangedRange.extendWithRanges(B,heightRelevantDecoChanges(X,this.stateDeco,Q?Q.changes:ChangeSet.empty(this.state.doc.length))),U=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,Q.startState.doc,this.heightOracle.setDoc(this.state.doc),j),this.heightMap.height!=U&&(Q.flags|=2);let Y=j.length?this.mapViewport(this.viewport,Q.changes):this.viewport;(q&&(q.range.head<Y.from||q.range.head>Y.to)||!this.viewportIsAppropriate(Y))&&(Y=this.getViewport(0,q));let G=!Q.changes.empty||Q.flags&2||Y.from!=this.viewport.from||Y.to!=this.viewport.to;this.viewport=Y,this.updateForViewport(),G&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,Q.changes))),Q.flags|=this.computeVisibleRanges(),q&&(this.scrollTarget=q),!this.mustEnforceCursorAssoc&&Q.selectionSet&&Q.view.lineWrapping&&Q.state.selection.main.empty&&Q.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(Q){let q=Q.contentDOM,X=window.getComputedStyle(q),B=this.heightOracle,j=X.whiteSpace;this.defaultTextDirection=X.direction=="rtl"?Direction.RTL:Direction.LTR;let U=this.heightOracle.mustRefreshForWrapping(j),Y=U||this.mustMeasureContent||this.contentDOMHeight!=q.clientHeight;this.contentDOMHeight=q.clientHeight,this.mustMeasureContent=!1;let G=0,F=0,K=parseInt(X.paddingTop)||0,J=parseInt(X.paddingBottom)||0;(this.paddingTop!=K||this.paddingBottom!=J)&&(this.paddingTop=K,this.paddingBottom=J,G|=10),this.editorWidth!=Q.scrollDOM.clientWidth&&(B.lineWrapping&&(Y=!0),this.editorWidth=Q.scrollDOM.clientWidth,G|=8);let ee=(this.printing?fullPixelRange:visiblePixelRange)(q,this.paddingTop),te=ee.top-this.pixelViewport.top,ne=ee.bottom-this.pixelViewport.bottom;this.pixelViewport=ee;let re=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(re!=this.inView&&(this.inView=re,re&&(Y=!0)),!this.inView&&!this.scrollTarget)return 0;let se=q.clientWidth;if((this.contentDOMWidth!=se||this.editorHeight!=Q.scrollDOM.clientHeight)&&(this.contentDOMWidth=se,this.editorHeight=Q.scrollDOM.clientHeight,G|=8),Y){let ce=Q.docView.measureVisibleLineHeights(this.viewport);if(B.mustRefreshForHeights(ce)&&(U=!0),U||B.lineWrapping&&Math.abs(se-this.contentDOMWidth)>B.charWidth){let{lineHeight:le,charWidth:ae}=Q.docView.measureTextSize();U=B.refresh(j,le,ae,se/ae,ce),U&&(Q.docView.minWidth=0,G|=8)}te>0&&ne>0?F=Math.max(te,ne):te<0&&ne<0&&(F=Math.min(te,ne)),B.heightChanged=!1;for(let le of this.viewports){let ae=le.from==this.viewport.from?ce:Q.docView.measureVisibleLineHeights(le);this.heightMap=this.heightMap.updateHeight(B,0,U,new MeasuredHeights(le.from,ae))}B.heightChanged&&(G|=2)}let oe=!this.viewportIsAppropriate(this.viewport,F)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return oe&&(this.viewport=this.getViewport(F,this.scrollTarget)),this.updateForViewport(),(G&2||oe)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(U?[]:this.lineGaps)),G|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,Q.docView.enforceCursorAssoc()),G}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(Q,q){let X=.5-Math.max(-.5,Math.min(.5,Q/1e3/2)),B=this.heightMap,j=this.state.doc,{visibleTop:U,visibleBottom:Y}=this,G=new Viewport(B.lineAt(U-X*1e3,QueryType$1.ByHeight,j,0,0).from,B.lineAt(Y+(1-X)*1e3,QueryType$1.ByHeight,j,0,0).to);if(q){let{head:F}=q.range;if(F<G.from||F>G.to){let K=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),J=B.lineAt(F,QueryType$1.ByPos,j,0,0),ee;q.y=="center"?ee=(J.top+J.bottom)/2-K/2:q.y=="start"||q.y=="nearest"&&F<G.from?ee=J.top:ee=J.bottom-K,G=new Viewport(B.lineAt(ee-1e3/2,QueryType$1.ByHeight,j,0,0).from,B.lineAt(ee+K+1e3/2,QueryType$1.ByHeight,j,0,0).to)}}return G}mapViewport(Q,q){let X=q.mapPos(Q.from,-1),B=q.mapPos(Q.to,1);return new Viewport(this.heightMap.lineAt(X,QueryType$1.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(B,QueryType$1.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:Q,to:q},X=0){if(!this.inView)return!0;let{top:B}=this.heightMap.lineAt(Q,QueryType$1.ByPos,this.state.doc,0,0),{bottom:j}=this.heightMap.lineAt(q,QueryType$1.ByPos,this.state.doc,0,0),{visibleTop:U,visibleBottom:Y}=this;return(Q==0||B<=U-Math.max(10,Math.min(-X,250)))&&(q==this.state.doc.length||j>=Y+Math.max(10,Math.min(X,250)))&&B>U-2*1e3&&j<Y+2*1e3}mapLineGaps(Q,q){if(!Q.length||q.empty)return Q;let X=[];for(let B of Q)q.touchesRange(B.from,B.to)||X.push(new LineGap(q.mapPos(B.from),q.mapPos(B.to),B.size));return X}ensureLineGaps(Q){let q=[];if(this.defaultTextDirection!=Direction.LTR)return q;for(let X of this.viewportLines){if(X.length<4e3)continue;let B=lineStructure(X.from,X.to,this.stateDeco);if(B.total<4e3)continue;let j,U;if(this.heightOracle.lineWrapping){let F=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;j=findPosition(B,(this.visibleTop-X.top-F)/X.height),U=findPosition(B,(this.visibleBottom-X.top+F)/X.height)}else{let F=B.total*this.heightOracle.charWidth,K=2e3*this.heightOracle.charWidth;j=findPosition(B,(this.pixelViewport.left-K)/F),U=findPosition(B,(this.pixelViewport.right+K)/F)}let Y=[];j>X.from&&Y.push({from:X.from,to:j}),U<X.to&&Y.push({from:U,to:X.to});let G=this.state.selection.main;G.from>=X.from&&G.from<=X.to&&cutRange(Y,G.from-10,G.from+10),!G.empty&&G.to>=X.from&&G.to<=X.to&&cutRange(Y,G.to-10,G.to+10);for(let{from:F,to:K}of Y)K-F>1e3&&q.push(find(Q,J=>J.from>=X.from&&J.to<=X.to&&Math.abs(J.from-F)<1e3&&Math.abs(J.to-K)<1e3)||new LineGap(F,K,this.gapSize(X,F,K,B)))}return q}gapSize(Q,q,X,B){let j=findFraction(B,X)-findFraction(B,q);return this.heightOracle.lineWrapping?Q.height*j:B.total*this.heightOracle.charWidth*j}updateLineGaps(Q){LineGap.same(Q,this.lineGaps)||(this.lineGaps=Q,this.lineGapDeco=Decoration.set(Q.map(q=>q.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let Q=this.stateDeco;this.lineGaps.length&&(Q=Q.concat(this.lineGapDeco));let q=[];RangeSet.spans(Q,this.viewport.from,this.viewport.to,{span(B,j){q.push({from:B,to:j})},point(){}},20);let X=q.length!=this.visibleRanges.length||this.visibleRanges.some((B,j)=>B.from!=q[j].from||B.to!=q[j].to);return this.visibleRanges=q,X?4:0}lineBlockAt(Q){return Q>=this.viewport.from&&Q<=this.viewport.to&&this.viewportLines.find(q=>q.from<=Q&&q.to>=Q)||scaleBlock(this.heightMap.lineAt(Q,QueryType$1.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(Q){return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(Q),QueryType$1.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(Q){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(Q),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(Q,q){this.from=Q,this.to=q}}function lineStructure(D,Q,q){let X=[],B=D,j=0;return RangeSet.spans(q,D,Q,{span(){},point(U,Y){U>B&&(X.push({from:B,to:U}),j+=U-B),B=Y}},20),B<Q&&(X.push({from:B,to:Q}),j+=Q-B),{total:j,ranges:X}}function findPosition({total:D,ranges:Q},q){if(q<=0)return Q[0].from;if(q>=1)return Q[Q.length-1].to;let X=Math.floor(D*q);for(let B=0;;B++){let{from:j,to:U}=Q[B],Y=U-j;if(X<=Y)return j+X;X-=Y}}function findFraction(D,Q){let q=0;for(let{from:X,to:B}of D.ranges){if(Q<=B){q+=Q-X;break}q+=B-X}return q/D.total}function cutRange(D,Q,q){for(let X=0;X<D.length;X++){let B=D[X];if(B.from<q&&B.to>Q){let j=[];B.from<Q&&j.push({from:B.from,to:Q}),B.to>q&&j.push({from:q,to:B.to}),D.splice(X,1,...j),X+=j.length-1}}}function find(D,Q){for(let q of D)if(Q(q))return q}const IdScaler={toDOM(D){return D},fromDOM(D){return D},scale:1};class BigScaler{constructor(Q,q,X){let B=0,j=0,U=0;this.viewports=X.map(({from:Y,to:G})=>{let F=q.lineAt(Y,QueryType$1.ByPos,Q,0,0).top,K=q.lineAt(G,QueryType$1.ByPos,Q,0,0).bottom;return B+=K-F,{from:Y,to:G,top:F,bottom:K,domTop:0,domBottom:0}}),this.scale=(7e6-B)/(q.height-B);for(let Y of this.viewports)Y.domTop=U+(Y.top-j)*this.scale,U=Y.domBottom=Y.domTop+(Y.bottom-Y.top),j=Y.bottom}toDOM(Q){for(let q=0,X=0,B=0;;q++){let j=q<this.viewports.length?this.viewports[q]:null;if(!j||Q<j.top)return B+(Q-X)*this.scale;if(Q<=j.bottom)return j.domTop+(Q-j.top);X=j.bottom,B=j.domBottom}}fromDOM(Q){for(let q=0,X=0,B=0;;q++){let j=q<this.viewports.length?this.viewports[q]:null;if(!j||Q<j.domTop)return X+(Q-B)/this.scale;if(Q<=j.domBottom)return j.top+(Q-j.domTop);X=j.bottom,B=j.domBottom}}}function scaleBlock(D,Q){if(Q.scale==1)return D;let q=Q.toDOM(D.top),X=Q.toDOM(D.bottom);return new BlockInfo(D.from,D.length,q,X-q,Array.isArray(D.type)?D.type.map(B=>scaleBlock(B,Q)):D.type)}const theme=Facet.define({combine:D=>D.join(" ")}),darkTheme=Facet.define({combine:D=>D.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(D,Q,q){return new StyleModule(Q,{finish(X){return/&/.test(X)?X.replace(/&\w*/,B=>{if(B=="&")return D;if(!q||!q[B])throw new RangeError(`Unsupported selector: ${B}`);return q[B]}):D+" "+X}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(Q,q,X){this.view=Q,this.onChange=q,this.onScrollChanged=X,this.active=!1,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=Q.contentDOM,this.observer=new MutationObserver(B=>{for(let j of B)this.queue.push(j);(browser.ie&&browser.ie_version<=11||browser.ios&&Q.composing)&&B.some(j=>j.type=="childList"&&j.removedNodes.length||j.type=="characterData"&&j.oldValue.length>j.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=B=>{this.queue.push({target:B.target,type:"characterData",oldValue:B.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(Q.scrollDOM)),this.addWindowListeners(this.win=Q.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(B=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),B.length>0&&B[B.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(B=>{B.length>0&&B[B.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScroll(Q){this.intersecting&&this.flush(!1),this.onScrollChanged(Q)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(Q){if(this.gapIntersection&&(Q.length!=this.gaps.length||this.gaps.some((q,X)=>q!=Q[X]))){this.gapIntersection.disconnect();for(let q of Q)this.gapIntersection.observe(q);this.gaps=Q}}onSelectionChange(Q){let q=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:X}=this,B=this.selectionRange;if(X.state.facet(editable)?X.root.activeElement!=this.dom:!hasSelection(X.dom,B))return;let j=B.anchorNode&&X.docView.nearest(B.anchorNode);if(j&&j.ignoreEvent(Q)){q||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!X.state.selection.main.empty&&B.focusNode&&isEquivalentPosition(B.focusNode,B.focusOffset,B.anchorNode,B.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:Q}=this,q=browser.safari&&Q.root.nodeType==11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariSelectionRangeHack(this.view)||getSelection(Q.root);if(!q||this.selectionRange.eq(q))return!1;let X=hasSelection(this.dom,q);return X&&!this.selectionChanged&&Q.inputState.lastFocusTime>Date.now()-200&&Q.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,q)?(this.view.inputState.lastFocusTime=0,Q.docView.updateSelection(),!1):(this.selectionRange.setRange(q),X&&(this.selectionChanged=!0),!0)}setSelectionRange(Q,q){this.selectionRange.set(Q.node,Q.offset,q.node,q.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let Q=0,q=null;for(let X=this.dom;X;)if(X.nodeType==1)!q&&Q<this.scrollTargets.length&&this.scrollTargets[Q]==X?Q++:q||(q=this.scrollTargets.slice(0,Q)),q&&q.push(X),X=X.assignedSlot||X.parentNode;else if(X.nodeType==11)X=X.host;else break;if(Q<this.scrollTargets.length&&!q&&(q=this.scrollTargets.slice(0,Q)),q){for(let X of this.scrollTargets)X.removeEventListener("scroll",this.onScroll);for(let X of this.scrollTargets=q)X.addEventListener("scroll",this.onScroll)}}ignore(Q){if(!this.active)return Q();try{return this.stop(),Q()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){!this.active||(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(Q,q){var X;this.delayedAndroidKey||this.view.win.requestAnimationFrame(()=>{let B=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,!this.flush()&&B.force&&dispatchKey(this.dom,B.key,B.keyCode)}),(!this.delayedAndroidKey||Q=="Enter")&&(this.delayedAndroidKey={key:Q,keyCode:q,force:this.lastChange<Date.now()-50||!!(!((X=this.delayedAndroidKey)===null||X===void 0)&&X.force)})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let Q=this.queue;for(let j of this.observer.takeRecords())Q.push(j);Q.length&&(this.queue=[]);let q=-1,X=-1,B=!1;for(let j of Q){let U=this.readMutation(j);!U||(U.typeOver&&(B=!0),q==-1?{from:q,to:X}=U:(q=Math.min(U.from,q),X=Math.max(U.to,X)))}return{from:q,to:X,typeOver:B}}flush(Q=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;Q&&this.readSelectionRange();let{from:q,to:X,typeOver:B}=this.processRecords(),j=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(q<0&&!j)return!1;q>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let U=this.view.state,Y=this.onChange(q,X,B);return this.view.state==U&&this.view.update([]),Y}readMutation(Q){let q=this.view.docView.nearest(Q.target);if(!q||q.ignoreMutation(Q))return null;if(q.markDirty(Q.type=="attributes"),Q.type=="attributes"&&(q.dirty|=4),Q.type=="childList"){let X=findChild(q,Q.previousSibling||Q.target.previousSibling,-1),B=findChild(q,Q.nextSibling||Q.target.nextSibling,1);return{from:X?q.posAfter(X):q.posAtStart,to:B?q.posBefore(B):q.posAtEnd,typeOver:!1}}else return Q.type=="characterData"?{from:q.posAtStart,to:q.posAtEnd,typeOver:Q.target.nodeValue==Q.oldValue}:null}setWindow(Q){Q!=this.win&&(this.removeWindowListeners(this.win),this.win=Q,this.addWindowListeners(this.win))}addWindowListeners(Q){Q.addEventListener("resize",this.onResize),Q.addEventListener("beforeprint",this.onPrint),Q.addEventListener("scroll",this.onScroll),Q.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(Q){Q.removeEventListener("scroll",this.onScroll),Q.removeEventListener("resize",this.onResize),Q.removeEventListener("beforeprint",this.onPrint),Q.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var Q,q,X;this.stop(),(Q=this.intersection)===null||Q===void 0||Q.disconnect(),(q=this.gapIntersection)===null||q===void 0||q.disconnect(),(X=this.resize)===null||X===void 0||X.disconnect();for(let B of this.scrollTargets)B.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function findChild(D,Q,q){for(;Q;){let X=ContentView.get(Q);if(X&&X.parent==D)return X;let B=Q.parentNode;Q=B!=D.dom?B:q>0?Q.nextSibling:Q.previousSibling}return null}function safariSelectionRangeHack(D){let Q=null;function q(G){G.preventDefault(),G.stopImmediatePropagation(),Q=G.getTargetRanges()[0]}if(D.contentDOM.addEventListener("beforeinput",q,!0),D.dom.ownerDocument.execCommand("indent"),D.contentDOM.removeEventListener("beforeinput",q,!0),!Q)return null;let X=Q.startContainer,B=Q.startOffset,j=Q.endContainer,U=Q.endOffset,Y=D.docView.domAtPos(D.state.selection.main.anchor);return isEquivalentPosition(Y.node,Y.offset,j,U)&&([X,B,j,U]=[j,U,X,B]),{anchorNode:X,anchorOffset:B,focusNode:j,focusOffset:U}}function applyDOMChange(D,Q,q,X){let B,j,U=D.state.selection.main;if(Q>-1){let Y=D.docView.domBoundsAround(Q,q,0);if(!Y||D.state.readOnly)return!1;let{from:G,to:F}=Y,K=D.docView.impreciseHead||D.docView.impreciseAnchor?[]:selectionPoints(D),J=new DOMReader(K,D.state);J.readRange(Y.startDOM,Y.endDOM);let ee=U.from,te=null;(D.inputState.lastKeyCode===8&&D.inputState.lastKeyTime>Date.now()-100||browser.android&&J.text.length<F-G)&&(ee=U.to,te="end");let ne=findDiff(D.state.doc.sliceString(G,F,LineBreakPlaceholder),J.text,ee-G,te);ne&&(browser.chrome&&D.inputState.lastKeyCode==13&&ne.toB==ne.from+2&&J.text.slice(ne.from,ne.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&ne.toB--,B={from:G+ne.from,to:G+ne.toA,insert:Text.of(J.text.slice(ne.from,ne.toB).split(LineBreakPlaceholder))}),j=selectionFromPoints(K,G)}else if(D.hasFocus||!D.state.facet(editable)){let Y=D.observer.selectionRange,{impreciseHead:G,impreciseAnchor:F}=D.docView,K=G&&G.node==Y.focusNode&&G.offset==Y.focusOffset||!contains(D.contentDOM,Y.focusNode)?D.state.selection.main.head:D.docView.posFromDOM(Y.focusNode,Y.focusOffset),J=F&&F.node==Y.anchorNode&&F.offset==Y.anchorOffset||!contains(D.contentDOM,Y.anchorNode)?D.state.selection.main.anchor:D.docView.posFromDOM(Y.anchorNode,Y.anchorOffset);(K!=U.head||J!=U.anchor)&&(j=EditorSelection.single(J,K))}if(!B&&!j)return!1;if(!B&&X&&!U.empty&&j&&j.main.empty?B={from:U.from,to:U.to,insert:D.state.doc.slice(U.from,U.to)}:B&&B.from>=U.from&&B.to<=U.to&&(B.from!=U.from||B.to!=U.to)&&U.to-U.from-(B.to-B.from)<=4?B={from:U.from,to:U.to,insert:D.state.doc.slice(U.from,B.from).append(B.insert).append(D.state.doc.slice(B.to,U.to))}:(browser.mac||browser.android)&&B&&B.from==B.to&&B.from==U.head-1&&B.insert.toString()=="."&&(B={from:U.from,to:U.to,insert:Text.of([" "])}),B){let Y=D.state;if(browser.ios&&D.inputState.flushIOSKey(D)||browser.android&&(B.from==U.from&&B.to==U.to&&B.insert.length==1&&B.insert.lines==2&&dispatchKey(D.contentDOM,"Enter",13)||B.from==U.from-1&&B.to==U.to&&B.insert.length==0&&dispatchKey(D.contentDOM,"Backspace",8)||B.from==U.from&&B.to==U.to+1&&B.insert.length==0&&dispatchKey(D.contentDOM,"Delete",46)))return!0;let G=B.insert.toString();if(D.state.facet(inputHandler$1).some(J=>J(D,B.from,B.to,G)))return!0;D.inputState.composing>=0&&D.inputState.composing++;let F;if(B.from>=U.from&&B.to<=U.to&&B.to-B.from>=(U.to-U.from)/3&&(!j||j.main.empty&&j.main.from==B.from+B.insert.length)&&D.inputState.composing<0){let J=U.from<B.from?Y.sliceDoc(U.from,B.from):"",ee=U.to>B.to?Y.sliceDoc(B.to,U.to):"";F=Y.replaceSelection(D.state.toText(J+B.insert.sliceString(0,void 0,D.state.lineBreak)+ee))}else{let J=Y.changes(B),ee=j&&!Y.selection.main.eq(j.main)&&j.main.to<=J.newLength?j.main:void 0;if(Y.selection.ranges.length>1&&D.inputState.composing>=0&&B.to<=U.to&&B.to>=U.to-10){let te=D.state.sliceDoc(B.from,B.to),ne=compositionSurroundingNode(D)||D.state.doc.lineAt(U.head),re=U.to-B.to,se=U.to-U.from;F=Y.changeByRange(oe=>{if(oe.from==U.from&&oe.to==U.to)return{changes:J,range:ee||oe.map(J)};let ce=oe.to-re,le=ce-te.length;if(oe.to-oe.from!=se||D.state.sliceDoc(le,ce)!=te||ne&&oe.to>=ne.from&&oe.from<=ne.to)return{range:oe};let ae=Y.changes({from:le,to:ce,insert:B.insert}),he=oe.to-U.to;return{changes:ae,range:ee?EditorSelection.range(Math.max(0,ee.anchor+he),Math.max(0,ee.head+he)):oe.map(ae)}})}else F={changes:J,selection:ee&&Y.selection.replaceRange(ee)}}let K="input.type";return D.composing&&(K+=".compose",D.inputState.compositionFirstChange&&(K+=".start",D.inputState.compositionFirstChange=!1)),D.dispatch(F,{scrollIntoView:!0,userEvent:K}),!0}else if(j&&!j.main.eq(U)){let Y=!1,G="select";return D.inputState.lastSelectionTime>Date.now()-50&&(D.inputState.lastSelectionOrigin=="select"&&(Y=!0),G=D.inputState.lastSelectionOrigin),D.dispatch({selection:j,scrollIntoView:Y,userEvent:G}),!0}else return!1}function findDiff(D,Q,q,X){let B=Math.min(D.length,Q.length),j=0;for(;j<B&&D.charCodeAt(j)==Q.charCodeAt(j);)j++;if(j==B&&D.length==Q.length)return null;let U=D.length,Y=Q.length;for(;U>0&&Y>0&&D.charCodeAt(U-1)==Q.charCodeAt(Y-1);)U--,Y--;if(X=="end"){let G=Math.max(0,j-Math.min(U,Y));q-=U+G-j}return U<j&&D.length<Q.length?(j-=q<=j&&q>=U?j-q:0,Y=j+(Y-U),U=j):Y<j&&(j-=q<=j&&q>=Y?j-q:0,U=j+(U-Y),Y=j),{from:j,toA:U,toB:Y}}function selectionPoints(D){let Q=[];if(D.root.activeElement!=D.contentDOM)return Q;let{anchorNode:q,anchorOffset:X,focusNode:B,focusOffset:j}=D.observer.selectionRange;return q&&(Q.push(new DOMPoint(q,X)),(B!=q||j!=X)&&Q.push(new DOMPoint(B,j))),Q}function selectionFromPoints(D,Q){if(D.length==0)return null;let q=D[0].pos,X=D.length==2?D[1].pos:q;return q>-1&&X>-1?EditorSelection.single(q+Q,X+Q):null}class EditorView{constructor(Q={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=Q.dispatch||(q=>this.update([q])),this.dispatch=this.dispatch.bind(this),this._root=Q.root||getRoot(Q.parent)||document,this.viewState=new ViewState(Q.state||EditorState.create(Q)),this.plugins=this.state.facet(viewPlugin).map(q=>new PluginInstance(q));for(let q of this.plugins)q.update(this);this.observer=new DOMObserver(this,(q,X,B)=>applyDOMChange(this,q,X,B),q=>{this.inputState.runScrollHandlers(this,q),this.observer.intersecting&&this.measure()}),this.inputState=new InputState(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),Q.parent&&Q.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...Q){this._dispatch(Q.length==1&&Q[0]instanceof Transaction?Q[0]:this.state.update(...Q))}update(Q){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let q=!1,X=!1,B,j=this.state;for(let Y of Q){if(Y.startState!=j)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");j=Y.state}if(this.destroyed){this.viewState.state=j;return}if(this.observer.clear(),j.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(j);B=ViewUpdate.create(this,j,Q);let U=this.viewState.scrollTarget;try{this.updateState=2;for(let Y of Q){if(U&&(U=U.map(Y.changes)),Y.scrollIntoView){let{main:G}=Y.state.selection;U=new ScrollTarget(G.empty?G:EditorSelection.cursor(G.head,G.head>G.anchor?-1:1))}for(let G of Y.effects)G.is(scrollIntoView$2)&&(U=G.value)}this.viewState.update(B,U),this.bidiCache=CachedOrder.update(this.bidiCache,B.changes),B.empty||(this.updatePlugins(B),this.inputState.update(B)),q=this.docView.update(B),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),X=this.updateAttrs(),this.showAnnouncements(Q),this.docView.updateSelection(q,Q.some(Y=>Y.isUserEvent("select.pointer")))}finally{this.updateState=0}if(B.startState.facet(theme)!=B.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(q||X||U||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!B.empty)for(let Y of this.state.facet(updateListener))Y(B)}setState(Q){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=Q;return}this.updateState=2;let q=this.hasFocus;try{for(let X of this.plugins)X.destroy(this);this.viewState=new ViewState(Q),this.plugins=Q.facet(viewPlugin).map(X=>new PluginInstance(X)),this.pluginMap.clear();for(let X of this.plugins)X.update(this);this.docView=new DocView(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}q&&this.focus(),this.requestMeasure()}updatePlugins(Q){let q=Q.startState.facet(viewPlugin),X=Q.state.facet(viewPlugin);if(q!=X){let B=[];for(let j of X){let U=q.indexOf(j);if(U<0)B.push(new PluginInstance(j));else{let Y=this.plugins[U];Y.mustUpdate=Q,B.push(Y)}}for(let j of this.plugins)j.mustUpdate!=Q&&j.destroy(this);this.plugins=B,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let B of this.plugins)B.mustUpdate=Q;for(let B=0;B<this.plugins.length;B++)this.plugins[B].update(this)}measure(Q=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,Q&&this.observer.forceFlush();let q=null,{scrollHeight:X,scrollTop:B,clientHeight:j}=this.scrollDOM,U=B>X-j-4?X:B;try{for(let Y=0;;Y++){this.updateState=1;let G=this.viewport,F=this.viewState.lineBlockAtHeight(U),K=this.viewState.measure(this);if(!K&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(Y>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let J=[];K&4||([this.measureRequests,J]=[J,this.measureRequests]);let ee=J.map(se=>{try{return se.read(this)}catch(oe){return logException(this.state,oe),BadMeasure}}),te=ViewUpdate.create(this,this.state,[]),ne=!1,re=!1;te.flags|=K,q?q.flags|=K:q=te,this.updateState=2,te.empty||(this.updatePlugins(te),this.inputState.update(te),this.updateAttrs(),ne=this.docView.update(te));for(let se=0;se<J.length;se++)if(ee[se]!=BadMeasure)try{let oe=J[se];oe.write&&oe.write(ee[se],this)}catch(oe){logException(this.state,oe)}if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,re=!0;else{let se=this.viewState.lineBlockAt(F.from).top-F.top;(se>1||se<-1)&&(this.scrollDOM.scrollTop+=se,re=!0)}if(ne&&this.docView.updateSelection(!0),this.viewport.from==G.from&&this.viewport.to==G.to&&!re&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(q&&!q.empty)for(let Y of this.state.facet(updateListener))Y(q)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let Q=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),q={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(q["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,q);let X=this.observer.ignore(()=>{let B=updateAttrs(this.contentDOM,this.contentAttrs,q),j=updateAttrs(this.dom,this.editorAttrs,Q);return B||j});return this.editorAttrs=Q,this.contentAttrs=q,X}showAnnouncements(Q){let q=!0;for(let X of Q)for(let B of X.effects)if(B.is(EditorView.announce)){q&&(this.announceDOM.textContent=""),q=!1;let j=this.announceDOM.appendChild(document.createElement("div"));j.textContent=B.value}}mountStyles(){this.styleModules=this.state.facet(styleModule),StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(Q){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),Q){if(Q.key!=null){for(let q=0;q<this.measureRequests.length;q++)if(this.measureRequests[q].key===Q.key){this.measureRequests[q]=Q;return}}this.measureRequests.push(Q)}}plugin(Q){let q=this.pluginMap.get(Q);return(q===void 0||q&&q.spec!=Q)&&this.pluginMap.set(Q,q=this.plugins.find(X=>X.spec==Q)||null),q&&q.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(Q){return this.readMeasured(),this.viewState.elementAtHeight(Q)}lineBlockAtHeight(Q){return this.readMeasured(),this.viewState.lineBlockAtHeight(Q)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(Q){return this.viewState.lineBlockAt(Q)}get contentHeight(){return this.viewState.contentHeight}moveByChar(Q,q,X){return skipAtoms(this,Q,moveByChar(this,Q,q,X))}moveByGroup(Q,q){return skipAtoms(this,Q,moveByChar(this,Q,q,X=>byGroup(this,Q.head,X)))}moveToLineBoundary(Q,q,X=!0){return moveToLineBoundary(this,Q,q,X)}moveVertically(Q,q,X){return skipAtoms(this,Q,moveVertically(this,Q,q,X))}domAtPos(Q){return this.docView.domAtPos(Q)}posAtDOM(Q,q=0){return this.docView.posFromDOM(Q,q)}posAtCoords(Q,q=!0){return this.readMeasured(),posAtCoords(this,Q,q)}coordsAtPos(Q,q=1){this.readMeasured();let X=this.docView.coordsAt(Q,q);if(!X||X.left==X.right)return X;let B=this.state.doc.lineAt(Q),j=this.bidiSpans(B),U=j[BidiSpan.find(j,Q-B.from,-1,q)];return flattenRect(X,U.dir==Direction.LTR==q>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(Q){return!this.state.facet(perLineTextDirection)||Q<this.viewport.from||Q>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(Q))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(Q){if(Q.length>MaxBidiLine)return trivialOrder(Q.length);let q=this.textDirectionAt(Q.from);for(let B of this.bidiCache)if(B.from==Q.from&&B.dir==q)return B.order;let X=computeOrder(Q.text,q);return this.bidiCache.push(new CachedOrder(Q.from,Q.to,q,X)),X}get hasFocus(){var Q;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((Q=this.inputState)===null||Q===void 0?void 0:Q.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(Q){this._root!=Q&&(this._root=Q,this.observer.setWindow((Q.nodeType==9?Q:Q.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let Q of this.plugins)Q.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(Q,q={}){return scrollIntoView$2.of(new ScrollTarget(typeof Q=="number"?EditorSelection.cursor(Q):Q,q.y,q.x,q.yMargin,q.xMargin))}static domEventHandlers(Q){return ViewPlugin.define(()=>({}),{eventHandlers:Q})}static theme(Q,q){let X=StyleModule.newName(),B=[theme.of(X),styleModule.of(buildTheme(`.${X}`,Q))];return q&&q.dark&&B.push(darkTheme.of(!0)),B}static baseTheme(Q){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,Q,lightDarkIDs)))}static findFromDOM(Q){var q;let X=Q.querySelector(".cm-content"),B=X&&ContentView.get(X)||ContentView.get(Q);return((q=B==null?void 0:B.rootView)===null||q===void 0?void 0:q.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.atomicRanges=atomicRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(Q,q,X,B){this.from=Q,this.to=q,this.dir=X,this.order=B}static update(Q,q){if(q.empty)return Q;let X=[],B=Q.length?Q[Q.length-1].dir:Direction.LTR;for(let j=Math.max(0,Q.length-10);j<Q.length;j++){let U=Q[j];U.dir==B&&!q.touchesRange(U.from,U.to)&&X.push(new CachedOrder(q.mapPos(U.from,1),q.mapPos(U.to,-1),U.dir,U.order))}return X}}function attrsFromFacet(D,Q,q){for(let X=D.state.facet(Q),B=X.length-1;B>=0;B--){let j=X[B],U=typeof j=="function"?j(D):j;U&&combineAttrs(U,q)}return q}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(D,Q){const q=D.split(/-(?!$)/);let X=q[q.length-1];X=="Space"&&(X=" ");let B,j,U,Y;for(let G=0;G<q.length-1;++G){const F=q[G];if(/^(cmd|meta|m)$/i.test(F))Y=!0;else if(/^a(lt)?$/i.test(F))B=!0;else if(/^(c|ctrl|control)$/i.test(F))j=!0;else if(/^s(hift)?$/i.test(F))U=!0;else if(/^mod$/i.test(F))Q=="mac"?Y=!0:j=!0;else throw new Error("Unrecognized modifier name: "+F)}return B&&(X="Alt-"+X),j&&(X="Ctrl-"+X),Y&&(X="Meta-"+X),U&&(X="Shift-"+X),X}function modifiers(D,Q,q){return Q.altKey&&(D="Alt-"+D),Q.ctrlKey&&(D="Ctrl-"+D),Q.metaKey&&(D="Meta-"+D),q!==!1&&Q.shiftKey&&(D="Shift-"+D),D}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(D,Q){return runHandlers(getKeymap(Q.state),D,Q,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(D){let Q=D.facet(keymap),q=Keymaps.get(Q);return q||Keymaps.set(Q,q=buildKeymap(Q.reduce((X,B)=>X.concat(B),[]))),q}function runScopeHandlers(D,Q,q){return runHandlers(getKeymap(D.state),Q,D,q)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(D,Q=currentPlatform){let q=Object.create(null),X=Object.create(null),B=(U,Y)=>{let G=X[U];if(G==null)X[U]=Y;else if(G!=Y)throw new Error("Key binding "+U+" is used both as a regular binding and as a multi-stroke prefix")},j=(U,Y,G,F)=>{let K=q[U]||(q[U]=Object.create(null)),J=Y.split(/ (?!$)/).map(ne=>normalizeKeyName(ne,Q));for(let ne=1;ne<J.length;ne++){let re=J.slice(0,ne).join(" ");B(re,!0),K[re]||(K[re]={preventDefault:!0,commands:[se=>{let oe=storedPrefix={view:se,prefix:re,scope:U};return setTimeout(()=>{storedPrefix==oe&&(storedPrefix=null)},PrefixTimeout),!0}]})}let ee=J.join(" ");B(ee,!1);let te=K[ee]||(K[ee]={preventDefault:!1,commands:[]});te.commands.push(G),F&&(te.preventDefault=!0)};for(let U of D){let Y=U[Q]||U.key;if(!!Y)for(let G of U.scope?U.scope.split(" "):["editor"])j(G,Y,U.run,U.preventDefault),U.shift&&j(G,"Shift-"+Y,U.shift,U.preventDefault)}return q}function runHandlers(D,Q,q,X){let B=keyName(Q),j=codePointAt(B,0),U=codePointSize(j)==B.length&&B!=" ",Y="",G=!1;storedPrefix&&storedPrefix.view==q&&storedPrefix.scope==X&&(Y=storedPrefix.prefix+" ",(G=modifierCodes.indexOf(Q.keyCode)<0)&&(storedPrefix=null));let F=te=>{if(te){for(let ne of te.commands)if(ne(q))return!0;te.preventDefault&&(G=!0)}return!1},K=D[X],J,ee;if(K){if(F(K[Y+modifiers(B,Q,!U)]))return!0;if(U&&(Q.shiftKey||Q.altKey||Q.metaKey||j>127)&&(J=base[Q.keyCode])&&J!=B){if(F(K[Y+modifiers(J,Q,!0)]))return!0;if(Q.shiftKey&&(ee=shift[Q.keyCode])!=B&&ee!=J&&F(K[Y+modifiers(ee,Q,!1)]))return!0}else if(U&&Q.shiftKey&&F(K[Y+modifiers(B,Q,!0)]))return!0}return G}const CanHidePrimary=!browser.ios,selectionConfig=Facet.define({combine(D){return combineConfig(D,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(Q,q)=>Math.min(Q,q),drawRangeCursor:(Q,q)=>Q||q})}});function drawSelection(D={}){return[selectionConfig.of(D),drawSelectionPlugin,hideNativeSelection]}class Piece{constructor(Q,q,X,B,j){this.left=Q,this.top=q,this.width=X,this.height=B,this.className=j}draw(){let Q=document.createElement("div");return Q.className=this.className,this.adjust(Q),Q}adjust(Q){Q.style.left=this.left+"px",Q.style.top=this.top+"px",this.width>=0&&(Q.style.width=this.width+"px"),Q.style.height=this.height+"px"}eq(Q){return this.left==Q.left&&this.top==Q.top&&this.width==Q.width&&this.height==Q.height&&this.className==Q.className}}const drawSelectionPlugin=ViewPlugin.fromClass(class{constructor(D){this.view=D,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=D.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=D.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),D.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(selectionConfig).cursorBlinkRate+"ms"}update(D){let Q=D.startState.facet(selectionConfig)!=D.state.facet(selectionConfig);(Q||D.selectionSet||D.geometryChanged||D.viewportChanged)&&this.view.requestMeasure(this.measureReq),D.transactions.some(q=>q.scrollIntoView)&&(this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),Q&&this.setBlinkRate()}readPos(){let{state:D}=this.view,Q=D.facet(selectionConfig),q=D.selection.ranges.map(B=>B.empty?[]:measureRange(this.view,B)).reduce((B,j)=>B.concat(j)),X=[];for(let B of D.selection.ranges){let j=B==D.selection.main;if(B.empty?!j||CanHidePrimary:Q.drawRangeCursor){let U=measureCursor(this.view,B,j);U&&X.push(U)}}return{rangePieces:q,cursors:X}}drawSel({rangePieces:D,cursors:Q}){if(D.length!=this.rangePieces.length||D.some((q,X)=>!q.eq(this.rangePieces[X]))){this.selectionLayer.textContent="";for(let q of D)this.selectionLayer.appendChild(q.draw());this.rangePieces=D}if(Q.length!=this.cursors.length||Q.some((q,X)=>!q.eq(this.cursors[X]))){let q=this.cursorLayer.children;if(q.length!==Q.length){this.cursorLayer.textContent="";for(const X of Q)this.cursorLayer.appendChild(X.draw())}else Q.forEach((X,B)=>X.adjust(q[B]));this.cursors=Q}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),themeSpec={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};CanHidePrimary&&(themeSpec[".cm-line"].caretColor="transparent !important");const hideNativeSelection=Prec.highest(EditorView.theme(themeSpec));function getBase(D){let Q=D.scrollDOM.getBoundingClientRect();return{left:(D.textDirection==Direction.LTR?Q.left:Q.right-D.scrollDOM.clientWidth)-D.scrollDOM.scrollLeft,top:Q.top-D.scrollDOM.scrollTop}}function wrappedLine(D,Q,q){let X=EditorSelection.cursor(Q);return{from:Math.max(q.from,D.moveToLineBoundary(X,!1,!0).from),to:Math.min(q.to,D.moveToLineBoundary(X,!0,!0).from),type:BlockType.Text}}function blockAt(D,Q){let q=D.lineBlockAt(Q);if(Array.isArray(q.type)){for(let X of q.type)if(X.to>Q||X.to==Q&&(X.to==q.to||X.type==BlockType.Text))return X}return q}function measureRange(D,Q){if(Q.to<=D.viewport.from||Q.from>=D.viewport.to)return[];let q=Math.max(Q.from,D.viewport.from),X=Math.min(Q.to,D.viewport.to),B=D.textDirection==Direction.LTR,j=D.contentDOM,U=j.getBoundingClientRect(),Y=getBase(D),G=window.getComputedStyle(j.firstChild),F=U.left+parseInt(G.paddingLeft)+Math.min(0,parseInt(G.textIndent)),K=U.right-parseInt(G.paddingRight),J=blockAt(D,q),ee=blockAt(D,X),te=J.type==BlockType.Text?J:null,ne=ee.type==BlockType.Text?ee:null;if(D.lineWrapping&&(te&&(te=wrappedLine(D,q,te)),ne&&(ne=wrappedLine(D,X,ne))),te&&ne&&te.from==ne.from)return se(oe(Q.from,Q.to,te));{let le=te?oe(Q.from,null,te):ce(J,!1),ae=ne?oe(null,Q.to,ne):ce(ee,!0),he=[];return(te||J).to<(ne||ee).from-1?he.push(re(F,le.bottom,K,ae.top)):le.bottom<ae.top&&D.elementAtHeight((le.bottom+ae.top)/2).type==BlockType.Text&&(le.bottom=ae.top=(le.bottom+ae.top)/2),se(le).concat(he).concat(se(ae))}function re(le,ae,he,de){return new Piece(le-Y.left,ae-Y.top-.01,he-le,de-ae+.01,"cm-selectionBackground")}function se({top:le,bottom:ae,horizontal:he}){let de=[];for(let ue=0;ue<he.length;ue+=2)de.push(re(he[ue],le,he[ue+1],ae));return de}function oe(le,ae,he){let de=1e9,ue=-1e9,Oe=[];function pe(me,$e,be,ye,xe){let we=D.coordsAtPos(me,me==he.to?-2:2),Se=D.coordsAtPos(be,be==he.from?2:-2);de=Math.min(we.top,Se.top,de),ue=Math.max(we.bottom,Se.bottom,ue),xe==Direction.LTR?Oe.push(B&&$e?F:we.left,B&&ye?K:Se.right):Oe.push(!B&&ye?F:Se.left,!B&&$e?K:we.right)}let fe=le!=null?le:he.from,ge=ae!=null?ae:he.to;for(let me of D.visibleRanges)if(me.to>fe&&me.from<ge)for(let $e=Math.max(me.from,fe),be=Math.min(me.to,ge);;){let ye=D.state.doc.lineAt($e);for(let xe of D.bidiSpans(ye)){let we=xe.from+ye.from,Se=xe.to+ye.from;if(we>=be)break;Se>$e&&pe(Math.max(we,$e),le==null&&we<=fe,Math.min(Se,be),ae==null&&Se>=ge,xe.dir)}if($e=ye.to+1,$e>=be)break}return Oe.length==0&&pe(fe,le==null,ge,ae==null,D.textDirection),{top:de,bottom:ue,horizontal:Oe}}function ce(le,ae){let he=U.top+(ae?le.top:le.bottom);return{top:he,bottom:he,horizontal:[]}}}function measureCursor(D,Q,q){let X=D.coordsAtPos(Q.head,Q.assoc||1);if(!X)return null;let B=getBase(D);return new Piece(X.left-B.left,X.top-B.top,-1,X.bottom-X.top,q?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const setDropCursorPos=StateEffect.define({map(D,Q){return D==null?null:Q.mapPos(D)}}),dropCursorPos=StateField.define({create(){return null},update(D,Q){return D!=null&&(D=Q.changes.mapPos(D)),Q.effects.reduce((q,X)=>X.is(setDropCursorPos)?X.value:q,D)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(D){this.view=D,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(D){var Q;let q=D.state.field(dropCursorPos);q==null?this.cursor!=null&&((Q=this.cursor)===null||Q===void 0||Q.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(D.startState.field(dropCursorPos)!=q||D.docChanged||D.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let D=this.view.state.field(dropCursorPos),Q=D!=null&&this.view.coordsAtPos(D);if(!Q)return null;let q=this.view.scrollDOM.getBoundingClientRect();return{left:Q.left-q.left+this.view.scrollDOM.scrollLeft,top:Q.top-q.top+this.view.scrollDOM.scrollTop,height:Q.bottom-Q.top}}drawCursor(D){this.cursor&&(D?(this.cursor.style.left=D.left+"px",this.cursor.style.top=D.top+"px",this.cursor.style.height=D.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(D){this.view.state.field(dropCursorPos)!=D&&this.view.dispatch({effects:setDropCursorPos.of(D)})}},{eventHandlers:{dragover(D){this.setDropPos(this.view.posAtCoords({x:D.clientX,y:D.clientY}))},dragleave(D){(D.target==this.view.contentDOM||!this.view.contentDOM.contains(D.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(D,Q,q,X,B){Q.lastIndex=0;for(let j=D.iterRange(q,X),U=q,Y;!j.next().done;U+=j.value.length)if(!j.lineBreak)for(;Y=Q.exec(j.value);)B(U+Y.index,Y)}function matchRanges(D,Q){let q=D.visibleRanges;if(q.length==1&&q[0].from==D.viewport.from&&q[0].to==D.viewport.to)return q;let X=[];for(let{from:B,to:j}of q)B=Math.max(D.state.doc.lineAt(B).from,B-Q),j=Math.min(D.state.doc.lineAt(j).to,j+Q),X.length&&X[X.length-1].to>=B?X[X.length-1].to=j:X.push({from:B,to:j});return X}class MatchDecorator{constructor(Q){const{regexp:q,decoration:X,decorate:B,boundary:j,maxLength:U=1e3}=Q;if(!q.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=q,B)this.addMatch=(Y,G,F,K)=>B(K,F,F+Y[0].length,Y,G);else if(typeof X=="function")this.addMatch=(Y,G,F,K)=>{let J=X(Y,G,F);J&&K(F,F+Y[0].length,J)};else if(X)this.addMatch=(Y,G,F,K)=>K(F,F+Y[0].length,X);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=j,this.maxLength=U}createDeco(Q){let q=new RangeSetBuilder,X=q.add.bind(q);for(let{from:B,to:j}of matchRanges(Q,this.maxLength))iterMatches(Q.state.doc,this.regexp,B,j,(U,Y)=>this.addMatch(Y,Q,U,X));return q.finish()}updateDeco(Q,q){let X=1e9,B=-1;return Q.docChanged&&Q.changes.iterChanges((j,U,Y,G)=>{G>Q.view.viewport.from&&Y<Q.view.viewport.to&&(X=Math.min(Y,X),B=Math.max(G,B))}),Q.viewportChanged||B-X>1e3?this.createDeco(Q.view):B>-1?this.updateRange(Q.view,q.map(Q.changes),X,B):q}updateRange(Q,q,X,B){for(let j of Q.visibleRanges){let U=Math.max(j.from,X),Y=Math.min(j.to,B);if(Y>U){let G=Q.state.doc.lineAt(U),F=G.to<Y?Q.state.doc.lineAt(Y):G,K=Math.max(j.from,G.from),J=Math.min(j.to,F.to);if(this.boundary){for(;U>G.from;U--)if(this.boundary.test(G.text[U-1-G.from])){K=U;break}for(;Y<F.to;Y++)if(this.boundary.test(F.text[Y-F.from])){J=Y;break}}let ee=[],te,ne=(re,se,oe)=>ee.push(oe.range(re,se));if(G==F)for(this.regexp.lastIndex=K-G.from;(te=this.regexp.exec(G.text))&&te.index<J-G.from;)this.addMatch(te,Q,te.index+G.from,ne);else iterMatches(Q.state.doc,this.regexp,K,J,(re,se)=>this.addMatch(se,Q,re,ne));q=q.update({filterFrom:K,filterTo:J,filter:(re,se)=>re<K||se>J,add:ee})}}return q}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var D;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let Q=document.body.style;_supportsTabSize=((D=Q.tabSize)!==null&&D!==void 0?D:Q.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(D){let Q=combineConfig(D,{render:null,specialChars:Specials,addSpecialChars:null});return(Q.replaceTabs=!supportsTabSize())&&(Q.specialChars=new RegExp("	|"+Q.specialChars.source,UnicodeRegexpSupport)),Q.addSpecialChars&&(Q.specialChars=new RegExp(Q.specialChars.source+"|"+Q.addSpecialChars.source,UnicodeRegexpSupport)),Q}});function highlightSpecialChars(D={}){return[specialCharConfig.of(D),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(D){this.view=D,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(D.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(D)}makeDecorator(D){return new MatchDecorator({regexp:D.specialChars,decoration:(Q,q,X)=>{let{doc:B}=q.state,j=codePointAt(Q[0],0);if(j==9){let U=B.lineAt(X),Y=q.state.tabSize,G=countColumn(U.text,Y,X-U.from);return Decoration.replace({widget:new TabWidget((Y-G%Y)*this.view.defaultCharacterWidth)})}return this.decorationCache[j]||(this.decorationCache[j]=Decoration.replace({widget:new SpecialCharWidget(D,j)}))},boundary:D.replaceTabs?void 0:/[^]/})}update(D){let Q=D.state.facet(specialCharConfig);D.startState.facet(specialCharConfig)!=Q?(this.decorator=this.makeDecorator(Q),this.decorations=this.decorator.createDeco(D.view)):this.decorations=this.decorator.updateDeco(D,this.decorations)}},{decorations:D=>D.decorations}))}const DefaultPlaceholder="\u2022";function placeholder$1(D){return D>=32?DefaultPlaceholder:D==10?"\u2424":String.fromCharCode(9216+D)}class SpecialCharWidget extends WidgetType{constructor(Q,q){super(),this.options=Q,this.code=q}eq(Q){return Q.code==this.code}toDOM(Q){let q=placeholder$1(this.code),X=Q.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),B=this.options.render&&this.options.render(this.code,X,q);if(B)return B;let j=document.createElement("span");return j.textContent=q,j.title=X,j.setAttribute("aria-label",X),j.className="cm-specialChar",j}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(Q){super(),this.width=Q}eq(Q){return Q.width==this.width}toDOM(){let Q=document.createElement("span");return Q.textContent="	",Q.className="cm-tab",Q.style.width=this.width+"px",Q}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(D){this.decorations=this.getDeco(D)}update(D){(D.docChanged||D.selectionSet)&&(this.decorations=this.getDeco(D.view))}getDeco(D){let Q=-1,q=[];for(let X of D.state.selection.ranges){let B=D.lineBlockAt(X.head);B.from>Q&&(q.push(lineDeco.range(B.from)),Q=B.from)}return Decoration.set(q)}},{decorations:D=>D.decorations}),MaxOff=2e3;function rectangleFor(D,Q,q){let X=Math.min(Q.line,q.line),B=Math.max(Q.line,q.line),j=[];if(Q.off>MaxOff||q.off>MaxOff||Q.col<0||q.col<0){let U=Math.min(Q.off,q.off),Y=Math.max(Q.off,q.off);for(let G=X;G<=B;G++){let F=D.doc.line(G);F.length<=Y&&j.push(EditorSelection.range(F.from+U,F.to+Y))}}else{let U=Math.min(Q.col,q.col),Y=Math.max(Q.col,q.col);for(let G=X;G<=B;G++){let F=D.doc.line(G),K=findColumn(F.text,U,D.tabSize,!0);if(K>-1){let J=findColumn(F.text,Y,D.tabSize);j.push(EditorSelection.range(F.from+K,F.from+J))}}}return j}function absoluteColumn(D,Q){let q=D.coordsAtPos(D.viewport.from);return q?Math.round(Math.abs((q.left-Q)/D.defaultCharacterWidth)):-1}function getPos(D,Q){let q=D.posAtCoords({x:Q.clientX,y:Q.clientY},!1),X=D.state.doc.lineAt(q),B=q-X.from,j=B>MaxOff?-1:B==X.length?absoluteColumn(D,Q.clientX):countColumn(X.text,D.state.tabSize,q-X.from);return{line:X.number,col:j,off:B}}function rectangleSelectionStyle(D,Q){let q=getPos(D,Q),X=D.state.selection;return q?{update(B){if(B.docChanged){let j=B.changes.mapPos(B.startState.doc.line(q.line).from),U=B.state.doc.lineAt(j);q={line:U.number,col:q.col,off:Math.min(q.off,U.length)},X=X.map(B.changes)}},get(B,j,U){let Y=getPos(D,B);if(!Y)return X;let G=rectangleFor(D.state,q,Y);return G.length?U?EditorSelection.create(G.concat(X.ranges)):EditorSelection.create(G):X}}:null}function rectangularSelection(D){let Q=(D==null?void 0:D.eventFilter)||(q=>q.altKey&&q.button==0);return EditorView.mouseSelectionStyle.of((q,X)=>Q(X)?rectangleSelectionStyle(q,X):null)}const keys={Alt:[18,D=>D.altKey],Control:[17,D=>D.ctrlKey],Shift:[16,D=>D.shiftKey],Meta:[91,D=>D.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(D={}){let[Q,q]=keys[D.key||"Alt"],X=ViewPlugin.fromClass(class{constructor(B){this.view=B,this.isDown=!1}set(B){this.isDown!=B&&(this.isDown=B,this.view.update([]))}},{eventHandlers:{keydown(B){this.set(B.keyCode==Q||q(B))},keyup(B){(B.keyCode==Q||!q(B))&&this.set(!1)}}});return[X,EditorView.contentAttributes.of(B=>{var j;return!((j=B.plugin(X))===null||j===void 0)&&j.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(Q,q,X){this.facet=q,this.createTooltipView=X,this.input=Q.state.facet(q),this.tooltips=this.input.filter(B=>B),this.tooltipViews=this.tooltips.map(X)}update(Q){let q=Q.state.facet(this.facet),X=q.filter(j=>j);if(q===this.input){for(let j of this.tooltipViews)j.update&&j.update(Q);return!1}let B=[];for(let j=0;j<X.length;j++){let U=X[j],Y=-1;if(!!U){for(let G=0;G<this.tooltips.length;G++){let F=this.tooltips[G];F&&F.create==U.create&&(Y=G)}if(Y<0)B[j]=this.createTooltipView(U);else{let G=B[j]=this.tooltipViews[Y];G.update&&G.update(Q)}}}for(let j of this.tooltipViews)B.indexOf(j)<0&&j.dom.remove();return this.input=q,this.tooltips=X,this.tooltipViews=B,!0}}function windowSpace(D){let{win:Q}=D;return{top:0,left:0,bottom:Q.innerHeight,right:Q.innerWidth}}const tooltipConfig=Facet.define({combine:D=>{var Q,q,X;return{position:browser.ios?"absolute":((Q=D.find(B=>B.position))===null||Q===void 0?void 0:Q.position)||"fixed",parent:((q=D.find(B=>B.parent))===null||q===void 0?void 0:q.parent)||null,tooltipSpace:((X=D.find(B=>B.tooltipSpace))===null||X===void 0?void 0:X.tooltipSpace)||windowSpace}}}),tooltipPlugin=ViewPlugin.fromClass(class{constructor(D){this.view=D,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let Q=D.state.facet(tooltipConfig);this.position=Q.position,this.parent=Q.parent,this.classes=D.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new TooltipViewManager(D,showTooltip,q=>this.createTooltip(q)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(q=>{Date.now()>this.lastTransaction-50&&q.length>0&&q[q.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),D.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let D of this.manager.tooltipViews)this.intersectionObserver.observe(D.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(D){D.transactions.length&&(this.lastTransaction=Date.now());let Q=this.manager.update(D);Q&&this.observeIntersection();let q=Q||D.geometryChanged,X=D.state.facet(tooltipConfig);if(X.position!=this.position){this.position=X.position;for(let B of this.manager.tooltipViews)B.dom.style.position=this.position;q=!0}if(X.parent!=this.parent){this.parent&&this.container.remove(),this.parent=X.parent,this.createContainer();for(let B of this.manager.tooltipViews)this.container.appendChild(B.dom);q=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);q&&this.maybeMeasure()}createTooltip(D){let Q=D.create(this.view);if(Q.dom.classList.add("cm-tooltip"),D.arrow&&!Q.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let q=document.createElement("div");q.className="cm-tooltip-arrow",Q.dom.appendChild(q)}return Q.dom.style.position=this.position,Q.dom.style.top=Outside,this.container.appendChild(Q.dom),Q.mount&&Q.mount(this.view),Q}destroy(){var D;this.view.win.removeEventListener("resize",this.measureSoon);for(let{dom:Q}of this.manager.tooltipViews)Q.remove();(D=this.intersectionObserver)===null||D===void 0||D.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let D=this.view.dom.getBoundingClientRect();return{editor:D,parent:this.parent?this.container.getBoundingClientRect():D,pos:this.manager.tooltips.map((Q,q)=>{let X=this.manager.tooltipViews[q];return X.getCoords?X.getCoords(Q.pos):this.view.coordsAtPos(Q.pos)}),size:this.manager.tooltipViews.map(({dom:Q})=>Q.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view)}}writeMeasure(D){let{editor:Q,space:q}=D,X=[];for(let B=0;B<this.manager.tooltips.length;B++){let j=this.manager.tooltips[B],U=this.manager.tooltipViews[B],{dom:Y}=U,G=D.pos[B],F=D.size[B];if(!G||G.bottom<=Math.max(Q.top,q.top)||G.top>=Math.min(Q.bottom,q.bottom)||G.right<Math.max(Q.left,q.left)-.1||G.left>Math.min(Q.right,q.right)+.1){Y.style.top=Outside;continue}let K=j.arrow?U.dom.querySelector(".cm-tooltip-arrow"):null,J=K?7:0,ee=F.right-F.left,te=F.bottom-F.top,ne=U.offset||noOffset,re=this.view.textDirection==Direction.LTR,se=F.width>q.right-q.left?re?q.left:q.right-F.width:re?Math.min(G.left-(K?14:0)+ne.x,q.right-ee):Math.max(q.left,G.left-ee+(K?14:0)-ne.x),oe=!!j.above;!j.strictSide&&(oe?G.top-(F.bottom-F.top)-ne.y<q.top:G.bottom+(F.bottom-F.top)+ne.y>q.bottom)&&oe==q.bottom-G.bottom>G.top-q.top&&(oe=!oe);let ce=oe?G.top-te-J-ne.y:G.bottom+J+ne.y,le=se+ee;if(U.overlap!==!0)for(let ae of X)ae.left<le&&ae.right>se&&ae.top<ce+te&&ae.bottom>ce&&(ce=oe?ae.top-te-2-J:ae.bottom+J+2);this.position=="absolute"?(Y.style.top=ce-D.parent.top+"px",Y.style.left=se-D.parent.left+"px"):(Y.style.top=ce+"px",Y.style.left=se+"px"),K&&(K.style.left=`${G.left+(re?ne.x:-ne.x)-(se+14-7)}px`),U.overlap!==!0&&X.push({left:se,top:ce,right:le,bottom:ce+te}),Y.classList.toggle("cm-tooltip-above",oe),Y.classList.toggle("cm-tooltip-below",!oe),U.positioned&&U.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let D of this.manager.tooltipViews)D.dom.style.top=Outside}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define();class HoverTooltipHost{constructor(Q){this.view=Q,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(Q,showHoverTooltip,q=>this.createHostedView(q))}static create(Q){return new HoverTooltipHost(Q)}createHostedView(Q){let q=Q.create(this.view);return q.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(q.dom),this.mounted&&q.mount&&q.mount(this.view),q}mount(Q){for(let q of this.manager.tooltipViews)q.mount&&q.mount(Q);this.mounted=!0}positioned(){for(let Q of this.manager.tooltipViews)Q.positioned&&Q.positioned()}update(Q){this.manager.update(Q)}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],D=>{let Q=D.facet(showHoverTooltip).filter(q=>q);return Q.length===0?null:{pos:Math.min(...Q.map(q=>q.pos)),end:Math.max(...Q.filter(q=>q.end!=null).map(q=>q.end)),create:HoverTooltipHost.create,above:Q[0].above,arrow:Q.some(q=>q.arrow)}});class HoverPlugin{constructor(Q,q,X,B,j){this.view=Q,this.source=q,this.field=X,this.setHover=B,this.hoverTime=j,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:Q.dom,time:0},this.checkHover=this.checkHover.bind(this),Q.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),Q.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let Q=Date.now()-this.lastMove.time;Q<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-Q):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:Q}=this,q=this.view.contentDOM.contains(Q.target)?this.view.posAtCoords(Q):null;if(q==null)return;let X=this.view.coordsAtPos(q);if(X==null||Q.y<X.top||Q.y>X.bottom||Q.x<X.left-this.view.defaultCharacterWidth||Q.x>X.right+this.view.defaultCharacterWidth)return;let B=this.view.bidiSpans(this.view.state.doc.lineAt(q)).find(Y=>Y.from<=q&&Y.to>=q),j=B&&B.dir==Direction.RTL?-1:1,U=this.source(this.view,q,Q.x<X.left?-j:j);if(U!=null&&U.then){let Y=this.pending={pos:q};U.then(G=>{this.pending==Y&&(this.pending=null,G&&this.view.dispatch({effects:this.setHover.of(G)}))},G=>logException(this.view.state,G,"hover tooltip"))}else U&&this.view.dispatch({effects:this.setHover.of(U)})}mousemove(Q){var q;this.lastMove={x:Q.clientX,y:Q.clientY,target:Q.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let X=this.active;if(X&&!isInTooltip(this.lastMove.target)||this.pending){let{pos:B}=X||this.pending,j=(q=X==null?void 0:X.end)!==null&&q!==void 0?q:B;(B==j?this.view.posAtCoords(this.lastMove)!=B:!isOverRange(this.view,B,j,Q.clientX,Q.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function isInTooltip(D){for(let Q=D;Q;Q=Q.parentNode)if(Q.nodeType==1&&Q.classList.contains("cm-tooltip"))return!0;return!1}function isOverRange(D,Q,q,X,B,j){let U=document.createRange(),Y=D.domAtPos(Q),G=D.domAtPos(q);U.setEnd(G.node,G.offset),U.setStart(Y.node,Y.offset);let F=U.getClientRects();U.detach();for(let K=0;K<F.length;K++){let J=F[K];if(Math.max(J.top-B,B-J.bottom,J.left-X,X-J.right)<=j)return!0}return!1}function hoverTooltip(D,Q={}){let q=StateEffect.define(),X=StateField.define({create(){return null},update(B,j){if(B&&(Q.hideOnChange&&(j.docChanged||j.selection)||Q.hideOn&&Q.hideOn(j,B)))return null;if(B&&j.docChanged){let U=j.changes.mapPos(B.pos,-1,MapMode.TrackDel);if(U==null)return null;let Y=Object.assign(Object.create(null),B);Y.pos=U,B.end!=null&&(Y.end=j.changes.mapPos(B.end)),B=Y}for(let U of j.effects)U.is(q)&&(B=U.value),U.is(closeHoverTooltipEffect)&&(B=null);return B},provide:B=>showHoverTooltip.from(B)});return[X,ViewPlugin.define(B=>new HoverPlugin(B,D,X,q,Q.hoverTime||300)),showHoverTooltipHost]}function getTooltip(D,Q){let q=D.plugin(tooltipPlugin);if(!q)return null;let X=q.manager.tooltips.indexOf(Q);return X<0?null:q.manager.tooltipViews[X]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(D){let Q,q;for(let X of D)Q=Q||X.topContainer,q=q||X.bottomContainer;return{topContainer:Q,bottomContainer:q}}});function getPanel(D,Q){let q=D.plugin(panelPlugin),X=q?q.specs.indexOf(Q):-1;return X>-1?q.panels[X]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(D){this.input=D.state.facet(showPanel),this.specs=this.input.filter(q=>q),this.panels=this.specs.map(q=>q(D));let Q=D.state.facet(panelConfig);this.top=new PanelGroup(D,!0,Q.topContainer),this.bottom=new PanelGroup(D,!1,Q.bottomContainer),this.top.sync(this.panels.filter(q=>q.top)),this.bottom.sync(this.panels.filter(q=>!q.top));for(let q of this.panels)q.dom.classList.add("cm-panel"),q.mount&&q.mount()}update(D){let Q=D.state.facet(panelConfig);this.top.container!=Q.topContainer&&(this.top.sync([]),this.top=new PanelGroup(D.view,!0,Q.topContainer)),this.bottom.container!=Q.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(D.view,!1,Q.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let q=D.state.facet(showPanel);if(q!=this.input){let X=q.filter(G=>G),B=[],j=[],U=[],Y=[];for(let G of X){let F=this.specs.indexOf(G),K;F<0?(K=G(D.view),Y.push(K)):(K=this.panels[F],K.update&&K.update(D)),B.push(K),(K.top?j:U).push(K)}this.specs=X,this.panels=B,this.top.sync(j),this.bottom.sync(U);for(let G of Y)G.dom.classList.add("cm-panel"),G.mount&&G.mount()}else for(let X of this.panels)X.update&&X.update(D)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:D=>EditorView.scrollMargins.of(Q=>{let q=Q.plugin(D);return q&&{top:q.top.scrollMargin(),bottom:q.bottom.scrollMargin()}})});class PanelGroup{constructor(Q,q,X){this.view=Q,this.top=q,this.container=X,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(Q){for(let q of this.panels)q.destroy&&Q.indexOf(q)<0&&q.destroy();this.panels=Q,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let q=this.container||this.view.dom;q.insertBefore(this.dom,this.top?q.firstChild:null)}let Q=this.dom.firstChild;for(let q of this.panels)if(q.dom.parentNode==this.dom){for(;Q!=q.dom;)Q=rm(Q);Q=Q.nextSibling}else this.dom.insertBefore(q.dom,Q);for(;Q;)Q=rm(Q)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let Q of this.classes.split(" "))Q&&this.container.classList.remove(Q);for(let Q of(this.classes=this.view.themeClasses).split(" "))Q&&this.container.classList.add(Q)}}}function rm(D){let Q=D.nextSibling;return D.remove(),Q}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(Q){return this==Q||this.constructor==Q.constructor&&this.eq(Q)}eq(Q){return!1}destroy(Q){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},activeGutters=Facet.define();function gutter(D){return[gutters(),activeGutters.of(Object.assign(Object.assign({},defaults$1),D))]}const unfixGutters=Facet.define({combine:D=>D.some(Q=>Q)});function gutters(D){let Q=[gutterView];return D&&D.fixed===!1&&Q.push(unfixGutters.of(!0)),Q}const gutterView=ViewPlugin.fromClass(class{constructor(D){this.view=D,this.prevViewport=D.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=D.state.facet(activeGutters).map(Q=>new SingleGutterView(D,Q));for(let Q of this.gutters)this.dom.appendChild(Q.dom);this.fixed=!D.state.facet(unfixGutters),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),D.scrollDOM.insertBefore(this.dom,D.contentDOM)}update(D){if(this.updateGutters(D)){let Q=this.prevViewport,q=D.view.viewport,X=Math.min(Q.to,q.to)-Math.max(Q.from,q.from);this.syncGutters(X<(q.to-q.from)*.8)}D.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=D.view.viewport}syncGutters(D){let Q=this.dom.nextSibling;D&&this.dom.remove();let q=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),X=[],B=this.gutters.map(j=>new UpdateContext(j,this.view.viewport,-this.view.documentPadding.top));for(let j of this.view.viewportLineBlocks){let U;if(Array.isArray(j.type)){for(let Y of j.type)if(Y.type==BlockType.Text){U=Y;break}}else U=j.type==BlockType.Text?j:void 0;if(!!U){X.length&&(X=[]),advanceCursor(q,X,j.from);for(let Y of B)Y.line(this.view,U,X)}}for(let j of B)j.finish();D&&this.view.scrollDOM.insertBefore(this.dom,Q)}updateGutters(D){let Q=D.startState.facet(activeGutters),q=D.state.facet(activeGutters),X=D.docChanged||D.heightChanged||D.viewportChanged||!RangeSet.eq(D.startState.facet(gutterLineClass),D.state.facet(gutterLineClass),D.view.viewport.from,D.view.viewport.to);if(Q==q)for(let B of this.gutters)B.update(D)&&(X=!0);else{X=!0;let B=[];for(let j of q){let U=Q.indexOf(j);U<0?B.push(new SingleGutterView(this.view,j)):(this.gutters[U].update(D),B.push(this.gutters[U]))}for(let j of this.gutters)j.dom.remove(),B.indexOf(j)<0&&j.destroy();for(let j of B)this.dom.appendChild(j.dom);this.gutters=B}return X}destroy(){for(let D of this.gutters)D.destroy();this.dom.remove()}},{provide:D=>EditorView.scrollMargins.of(Q=>{let q=Q.plugin(D);return!q||q.gutters.length==0||!q.fixed?null:Q.textDirection==Direction.LTR?{left:q.dom.offsetWidth}:{right:q.dom.offsetWidth}})});function asArray(D){return Array.isArray(D)?D:[D]}function advanceCursor(D,Q,q){for(;D.value&&D.from<=q;)D.from==q&&Q.push(D.value),D.next()}class UpdateContext{constructor(Q,q,X){this.gutter=Q,this.height=X,this.localMarkers=[],this.i=0,this.cursor=RangeSet.iter(Q.markers,q.from)}line(Q,q,X){this.localMarkers.length&&(this.localMarkers=[]),advanceCursor(this.cursor,this.localMarkers,q.from);let B=X.length?this.localMarkers.concat(X):this.localMarkers,j=this.gutter.config.lineMarker(Q,q,B);j&&B.unshift(j);let U=this.gutter;if(B.length==0&&!U.config.renderEmptyElements)return;let Y=q.top-this.height;if(this.i==U.elements.length){let G=new GutterElement(Q,q.height,Y,B);U.elements.push(G),U.dom.appendChild(G.dom)}else U.elements[this.i].update(Q,q.height,Y,B);this.height=q.bottom,this.i++}finish(){let Q=this.gutter;for(;Q.elements.length>this.i;){let q=Q.elements.pop();Q.dom.removeChild(q.dom),q.destroy()}}}class SingleGutterView{constructor(Q,q){this.view=Q,this.config=q,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let X in q.domEventHandlers)this.dom.addEventListener(X,B=>{let j=Q.lineBlockAtHeight(B.clientY-Q.documentTop);q.domEventHandlers[X](Q,j,B)&&B.preventDefault()});this.markers=asArray(q.markers(Q)),q.initialSpacer&&(this.spacer=new GutterElement(Q,0,0,[q.initialSpacer(Q)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(Q){let q=this.markers;if(this.markers=asArray(this.config.markers(Q.view)),this.spacer&&this.config.updateSpacer){let B=this.config.updateSpacer(this.spacer.markers[0],Q);B!=this.spacer.markers[0]&&this.spacer.update(Q.view,0,0,[B])}let X=Q.view.viewport;return!RangeSet.eq(this.markers,q,X.from,X.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(Q):!1)}destroy(){for(let Q of this.elements)Q.destroy()}}class GutterElement{constructor(Q,q,X,B){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(Q,q,X,B)}update(Q,q,X,B){this.height!=q&&(this.dom.style.height=(this.height=q)+"px"),this.above!=X&&(this.dom.style.marginTop=(this.above=X)?X+"px":""),sameMarkers(this.markers,B)||this.setMarkers(Q,B)}setMarkers(Q,q){let X="cm-gutterElement",B=this.dom.firstChild;for(let j=0,U=0;;){let Y=U,G=j<q.length?q[j++]:null,F=!1;if(G){let K=G.elementClass;K&&(X+=" "+K);for(let J=U;J<this.markers.length;J++)if(this.markers[J].compare(G)){Y=J,F=!0;break}}else Y=this.markers.length;for(;U<Y;){let K=this.markers[U++];if(K.toDOM){K.destroy(B);let J=B.nextSibling;B.remove(),B=J}}if(!G)break;G.toDOM&&(F?B=B.nextSibling:this.dom.insertBefore(G.toDOM(Q),B)),F&&U++}this.dom.className=X,this.markers=q}destroy(){this.setMarkers(null,[])}}function sameMarkers(D,Q){if(D.length!=Q.length)return!1;for(let q=0;q<D.length;q++)if(!D[q].compare(Q[q]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberConfig=Facet.define({combine(D){return combineConfig(D,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(Q,q){let X=Object.assign({},Q);for(let B in q){let j=X[B],U=q[B];X[B]=j?(Y,G,F)=>j(Y,G,F)||U(Y,G,F):U}return X}})}});class NumberMarker extends GutterMarker{constructor(Q){super(),this.number=Q}eq(Q){return this.number==Q.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(D,Q){return D.state.facet(lineNumberConfig).formatNumber(Q,D.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],D=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(Q){return Q.state.facet(lineNumberMarkers)},lineMarker(Q,q,X){return X.some(B=>B.toDOM)?null:new NumberMarker(formatNumber(Q,Q.state.doc.lineAt(q.from).number))},lineMarkerChange:Q=>Q.startState.facet(lineNumberConfig)!=Q.state.facet(lineNumberConfig),initialSpacer(Q){return new NumberMarker(formatNumber(Q,maxLineNumber(Q.state.doc.lines)))},updateSpacer(Q,q){let X=formatNumber(q.view,maxLineNumber(q.view.state.doc.lines));return X==Q.number?Q:new NumberMarker(X)},domEventHandlers:D.facet(lineNumberConfig).domEventHandlers}));function lineNumbers(D={}){return[lineNumberConfig.of(D),gutters(),lineNumberGutter]}function maxLineNumber(D){let Q=9;for(;Q<D;)Q=Q*10+9;return Q}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],D=>{let Q=[],q=-1;for(let X of D.selection.ranges){let B=D.doc.lineAt(X.head).from;B>q&&(q=B,Q.push(activeLineGutterMarker.range(B)))}return RangeSet.of(Q)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(Q,q){this.from=Q,this.to=q}}class NodeProp{constructor(Q={}){this.id=nextPropID++,this.perNode=!!Q.perNode,this.deserialize=Q.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(Q){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof Q!="function"&&(Q=NodeType.match(Q)),q=>{let X=Q(q);return X===void 0?null:[this,X]}}}NodeProp.closedBy=new NodeProp({deserialize:D=>D.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:D=>D.split(" ")});NodeProp.group=new NodeProp({deserialize:D=>D.split(" ")});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});const noProps=Object.create(null);class NodeType{constructor(Q,q,X,B=0){this.name=Q,this.props=q,this.id=X,this.flags=B}static define(Q){let q=Q.props&&Q.props.length?Object.create(null):noProps,X=(Q.top?1:0)|(Q.skipped?2:0)|(Q.error?4:0)|(Q.name==null?8:0),B=new NodeType(Q.name||"",q,Q.id,X);if(Q.props){for(let j of Q.props)if(Array.isArray(j)||(j=j(B)),j){if(j[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");q[j[0].id]=j[1]}}return B}prop(Q){return this.props[Q.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(Q){if(typeof Q=="string"){if(this.name==Q)return!0;let q=this.prop(NodeProp.group);return q?q.indexOf(Q)>-1:!1}return this.id==Q}static match(Q){let q=Object.create(null);for(let X in Q)for(let B of X.split(" "))q[B]=Q[X];return X=>{for(let B=X.prop(NodeProp.group),j=-1;j<(B?B.length:0);j++){let U=q[j<0?X.name:B[j]];if(U)return U}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(Q){this.types=Q;for(let q=0;q<Q.length;q++)if(Q[q].id!=q)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...Q){let q=[];for(let X of this.types){let B=null;for(let j of Q){let U=j(X);U&&(B||(B=Object.assign({},X.props)),B[U[0].id]=U[1])}q.push(B?new NodeType(X.name,B,X.id,X.flags):X)}return new NodeSet(q)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(D){D[D.ExcludeBuffers=1]="ExcludeBuffers",D[D.IncludeAnonymous=2]="IncludeAnonymous",D[D.IgnoreMounts=4]="IgnoreMounts",D[D.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(Q,q,X,B,j){if(this.type=Q,this.children=q,this.positions=X,this.length=B,this.props=null,j&&j.length){this.props=Object.create(null);for(let[U,Y]of j)this.props[typeof U=="number"?U:U.id]=Y}}toString(){let Q=this.prop(NodeProp.mounted);if(Q&&!Q.overlay)return Q.tree.toString();let q="";for(let X of this.children){let B=X.toString();B&&(q&&(q+=","),q+=B)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(q.length?"("+q+")":""):q}cursor(Q=0){return new TreeCursor(this.topNode,Q)}cursorAt(Q,q=0,X=0){let B=CachedNode.get(this)||this.topNode,j=new TreeCursor(B);return j.moveTo(Q,q),CachedNode.set(this,j._tree),j}get topNode(){return new TreeNode(this,0,0,null)}resolve(Q,q=0){let X=resolveNode(CachedNode.get(this)||this.topNode,Q,q,!1);return CachedNode.set(this,X),X}resolveInner(Q,q=0){let X=resolveNode(CachedInnerNode.get(this)||this.topNode,Q,q,!0);return CachedInnerNode.set(this,X),X}iterate(Q){let{enter:q,leave:X,from:B=0,to:j=this.length}=Q;for(let U=this.cursor((Q.mode||0)|IterMode.IncludeAnonymous);;){let Y=!1;if(U.from<=j&&U.to>=B&&(U.type.isAnonymous||q(U)!==!1)){if(U.firstChild())continue;Y=!0}for(;Y&&X&&!U.type.isAnonymous&&X(U),!U.nextSibling();){if(!U.parent())return;Y=!0}}}prop(Q){return Q.perNode?this.props?this.props[Q.id]:void 0:this.type.prop(Q)}get propValues(){let Q=[];if(this.props)for(let q in this.props)Q.push([+q,this.props[q]]);return Q}balance(Q={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(q,X,B)=>new Tree(this.type,q,X,B,this.propValues),Q.makeTree||((q,X,B)=>new Tree(NodeType.none,q,X,B)))}static build(Q){return buildTree(Q)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(Q,q){this.buffer=Q,this.index=q}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(Q,q,X){this.buffer=Q,this.length=q,this.set=X}get type(){return NodeType.none}toString(){let Q=[];for(let q=0;q<this.buffer.length;)Q.push(this.childString(q)),q=this.buffer[q+3];return Q.join(",")}childString(Q){let q=this.buffer[Q],X=this.buffer[Q+3],B=this.set.types[q],j=B.name;if(/\W/.test(j)&&!B.isError&&(j=JSON.stringify(j)),Q+=4,X==Q)return j;let U=[];for(;Q<X;)U.push(this.childString(Q)),Q=this.buffer[Q+3];return j+"("+U.join(",")+")"}findChild(Q,q,X,B,j){let{buffer:U}=this,Y=-1;for(let G=Q;G!=q&&!(checkSide(j,B,U[G+1],U[G+2])&&(Y=G,X>0));G=U[G+3]);return Y}slice(Q,q,X,B){let j=this.buffer,U=new Uint16Array(q-Q);for(let Y=Q,G=0;Y<q;)U[G++]=j[Y++],U[G++]=j[Y++]-X,U[G++]=j[Y++]-X,U[G++]=j[Y++]-Q;return new TreeBuffer(U,B-X,this.set)}}function checkSide(D,Q,q,X){switch(D){case-2:return q<Q;case-1:return X>=Q&&q<Q;case 0:return q<Q&&X>Q;case 1:return q<=Q&&X>Q;case 2:return X>Q;case 4:return!0}}function enterUnfinishedNodesBefore(D,Q){let q=D.childBefore(Q);for(;q;){let X=q.lastChild;if(!X||X.to!=q.to)break;X.type.isError&&X.from==X.to?(D=q,q=X.prevSibling):q=X}return D}function resolveNode(D,Q,q,X){for(var B;D.from==D.to||(q<1?D.from>=Q:D.from>Q)||(q>-1?D.to<=Q:D.to<Q);){let U=!X&&D instanceof TreeNode&&D.index<0?null:D.parent;if(!U)return D;D=U}let j=X?0:IterMode.IgnoreOverlays;if(X)for(let U=D,Y=U.parent;Y;U=Y,Y=U.parent)U instanceof TreeNode&&U.index<0&&((B=Y.enter(Q,q,j))===null||B===void 0?void 0:B.from)!=U.from&&(D=Y);for(;;){let U=D.enter(Q,q,j);if(!U)return D;D=U}}class TreeNode{constructor(Q,q,X,B){this._tree=Q,this.from=q,this.index=X,this._parent=B}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(Q,q,X,B,j=0){for(let U=this;;){for(let{children:Y,positions:G}=U._tree,F=q>0?Y.length:-1;Q!=F;Q+=q){let K=Y[Q],J=G[Q]+U.from;if(!!checkSide(B,X,J,J+K.length)){if(K instanceof TreeBuffer){if(j&IterMode.ExcludeBuffers)continue;let ee=K.findChild(0,K.buffer.length,q,X-J,B);if(ee>-1)return new BufferNode(new BufferContext(U,K,Q,J),null,ee)}else if(j&IterMode.IncludeAnonymous||!K.type.isAnonymous||hasChild(K)){let ee;if(!(j&IterMode.IgnoreMounts)&&K.props&&(ee=K.prop(NodeProp.mounted))&&!ee.overlay)return new TreeNode(ee.tree,J,Q,U);let te=new TreeNode(K,J,Q,U);return j&IterMode.IncludeAnonymous||!te.type.isAnonymous?te:te.nextChild(q<0?K.children.length-1:0,q,X,B)}}}if(j&IterMode.IncludeAnonymous||!U.type.isAnonymous||(U.index>=0?Q=U.index+q:Q=q<0?-1:U._parent._tree.children.length,U=U._parent,!U))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(Q){return this.nextChild(0,1,Q,2)}childBefore(Q){return this.nextChild(this._tree.children.length-1,-1,Q,-2)}enter(Q,q,X=0){let B;if(!(X&IterMode.IgnoreOverlays)&&(B=this._tree.prop(NodeProp.mounted))&&B.overlay){let j=Q-this.from;for(let{from:U,to:Y}of B.overlay)if((q>0?U<=j:U<j)&&(q<0?Y>=j:Y>j))return new TreeNode(B.tree,B.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,Q,q,X)}nextSignificantParent(){let Q=this;for(;Q.type.isAnonymous&&Q._parent;)Q=Q._parent;return Q}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(Q=0){return new TreeCursor(this,Q)}get tree(){return this._tree}toTree(){return this._tree}resolve(Q,q=0){return resolveNode(this,Q,q,!1)}resolveInner(Q,q=0){return resolveNode(this,Q,q,!0)}enterUnfinishedNodesBefore(Q){return enterUnfinishedNodesBefore(this,Q)}getChild(Q,q=null,X=null){let B=getChildren(this,Q,q,X);return B.length?B[0]:null}getChildren(Q,q=null,X=null){return getChildren(this,Q,q,X)}toString(){return this._tree.toString()}get node(){return this}matchContext(Q){return matchNodeContext(this,Q)}}function getChildren(D,Q,q,X){let B=D.cursor(),j=[];if(!B.firstChild())return j;if(q!=null){for(;!B.type.is(q);)if(!B.nextSibling())return j}for(;;){if(X!=null&&B.type.is(X))return j;if(B.type.is(Q)&&j.push(B.node),!B.nextSibling())return X==null?j:[]}}function matchNodeContext(D,Q,q=Q.length-1){for(let X=D.parent;q>=0;X=X.parent){if(!X)return!1;if(!X.type.isAnonymous){if(Q[q]&&Q[q]!=X.name)return!1;q--}}return!0}class BufferContext{constructor(Q,q,X,B){this.parent=Q,this.buffer=q,this.index=X,this.start=B}}class BufferNode{constructor(Q,q,X){this.context=Q,this._parent=q,this.index=X,this.type=Q.buffer.set.types[Q.buffer.buffer[X]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(Q,q,X){let{buffer:B}=this.context,j=B.findChild(this.index+4,B.buffer[this.index+3],Q,q-this.context.start,X);return j<0?null:new BufferNode(this.context,this,j)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(Q){return this.child(1,Q,2)}childBefore(Q){return this.child(-1,Q,-2)}enter(Q,q,X=0){if(X&IterMode.ExcludeBuffers)return null;let{buffer:B}=this.context,j=B.findChild(this.index+4,B.buffer[this.index+3],q>0?1:-1,Q-this.context.start,q);return j<0?null:new BufferNode(this.context,this,j)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(Q){return this._parent?null:this.context.parent.nextChild(this.context.index+Q,Q,0,4)}get nextSibling(){let{buffer:Q}=this.context,q=Q.buffer[this.index+3];return q<(this._parent?Q.buffer[this._parent.index+3]:Q.buffer.length)?new BufferNode(this.context,this._parent,q):this.externalSibling(1)}get prevSibling(){let{buffer:Q}=this.context,q=this._parent?this._parent.index+4:0;return this.index==q?this.externalSibling(-1):new BufferNode(this.context,this._parent,Q.findChild(q,this.index,-1,0,4))}cursor(Q=0){return new TreeCursor(this,Q)}get tree(){return null}toTree(){let Q=[],q=[],{buffer:X}=this.context,B=this.index+4,j=X.buffer[this.index+3];if(j>B){let U=X.buffer[this.index+1],Y=X.buffer[this.index+2];Q.push(X.slice(B,j,U,Y)),q.push(0)}return new Tree(this.type,Q,q,this.to-this.from)}resolve(Q,q=0){return resolveNode(this,Q,q,!1)}resolveInner(Q,q=0){return resolveNode(this,Q,q,!0)}enterUnfinishedNodesBefore(Q){return enterUnfinishedNodesBefore(this,Q)}toString(){return this.context.buffer.childString(this.index)}getChild(Q,q=null,X=null){let B=getChildren(this,Q,q,X);return B.length?B[0]:null}getChildren(Q,q=null,X=null){return getChildren(this,Q,q,X)}get node(){return this}matchContext(Q){return matchNodeContext(this,Q)}}class TreeCursor{constructor(Q,q=0){if(this.mode=q,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,Q instanceof TreeNode)this.yieldNode(Q);else{this._tree=Q.context.parent,this.buffer=Q.context;for(let X=Q._parent;X;X=X._parent)this.stack.unshift(X.index);this.bufferNode=Q,this.yieldBuf(Q.index)}}get name(){return this.type.name}yieldNode(Q){return Q?(this._tree=Q,this.type=Q.type,this.from=Q.from,this.to=Q.to,!0):!1}yieldBuf(Q,q){this.index=Q;let{start:X,buffer:B}=this.buffer;return this.type=q||B.set.types[B.buffer[Q]],this.from=X+B.buffer[Q+1],this.to=X+B.buffer[Q+2],!0}yield(Q){return Q?Q instanceof TreeNode?(this.buffer=null,this.yieldNode(Q)):(this.buffer=Q.context,this.yieldBuf(Q.index,Q.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(Q,q,X){if(!this.buffer)return this.yield(this._tree.nextChild(Q<0?this._tree._tree.children.length-1:0,Q,q,X,this.mode));let{buffer:B}=this.buffer,j=B.findChild(this.index+4,B.buffer[this.index+3],Q,q-this.buffer.start,X);return j<0?!1:(this.stack.push(this.index),this.yieldBuf(j))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(Q){return this.enterChild(1,Q,2)}childBefore(Q){return this.enterChild(-1,Q,-2)}enter(Q,q,X=this.mode){return this.buffer?X&IterMode.ExcludeBuffers?!1:this.enterChild(1,Q,q):this.yield(this._tree.enter(Q,q,X))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let Q=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(Q)}sibling(Q){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+Q,Q,0,4,this.mode)):!1;let{buffer:q}=this.buffer,X=this.stack.length-1;if(Q<0){let B=X<0?0:this.stack[X]+4;if(this.index!=B)return this.yieldBuf(q.findChild(B,this.index,-1,0,4))}else{let B=q.buffer[this.index+3];if(B<(X<0?q.buffer.length:q.buffer[this.stack[X]+3]))return this.yieldBuf(B)}return X<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+Q,Q,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(Q){let q,X,{buffer:B}=this;if(B){if(Q>0){if(this.index<B.buffer.buffer.length)return!1}else for(let j=0;j<this.index;j++)if(B.buffer.buffer[j+3]<this.index)return!1;({index:q,parent:X}=B)}else({index:q,_parent:X}=this._tree);for(;X;{index:q,_parent:X}=X)if(q>-1)for(let j=q+Q,U=Q<0?-1:X._tree.children.length;j!=U;j+=Q){let Y=X._tree.children[j];if(this.mode&IterMode.IncludeAnonymous||Y instanceof TreeBuffer||!Y.type.isAnonymous||hasChild(Y))return!1}return!0}move(Q,q){if(q&&this.enterChild(Q,0,4))return!0;for(;;){if(this.sibling(Q))return!0;if(this.atLastNode(Q)||!this.parent())return!1}}next(Q=!0){return this.move(1,Q)}prev(Q=!0){return this.move(-1,Q)}moveTo(Q,q=0){for(;(this.from==this.to||(q<1?this.from>=Q:this.from>Q)||(q>-1?this.to<=Q:this.to<Q))&&this.parent(););for(;this.enterChild(1,Q,q););return this}get node(){if(!this.buffer)return this._tree;let Q=this.bufferNode,q=null,X=0;if(Q&&Q.context==this.buffer){e:for(let B=this.index,j=this.stack.length;j>=0;){for(let U=Q;U;U=U._parent)if(U.index==B){if(B==this.index)return U;q=U,X=j+1;break e}B=this.stack[--j]}}for(let B=X;B<this.stack.length;B++)q=new BufferNode(this.buffer,q,this.stack[B]);return this.bufferNode=new BufferNode(this.buffer,q,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(Q,q){for(let X=0;;){let B=!1;if(this.type.isAnonymous||Q(this)!==!1){if(this.firstChild()){X++;continue}this.type.isAnonymous||(B=!0)}for(;B&&q&&q(this),B=this.type.isAnonymous,!this.nextSibling();){if(!X)return;this.parent(),X--,B=!0}}}matchContext(Q){if(!this.buffer)return matchNodeContext(this.node,Q);let{buffer:q}=this.buffer,{types:X}=q.set;for(let B=Q.length-1,j=this.stack.length-1;B>=0;j--){if(j<0)return matchNodeContext(this.node,Q,B);let U=X[q.buffer[this.stack[j]]];if(!U.isAnonymous){if(Q[B]&&Q[B]!=U.name)return!1;B--}}return!0}}function hasChild(D){return D.children.some(Q=>Q instanceof TreeBuffer||!Q.type.isAnonymous||hasChild(Q))}function buildTree(D){var Q;let{buffer:q,nodeSet:X,maxBufferLength:B=DefaultBufferLength,reused:j=[],minRepeatType:U=X.types.length}=D,Y=Array.isArray(q)?new FlatBufferCursor(q,q.length):q,G=X.types,F=0,K=0;function J(ae,he,de,ue,Oe){let{id:pe,start:fe,end:ge,size:me}=Y,$e=K;for(;me<0;)if(Y.next(),me==-1){let Se=j[pe];de.push(Se),ue.push(fe-ae);return}else if(me==-3){F=pe;return}else if(me==-4){K=pe;return}else throw new RangeError(`Unrecognized record size: ${me}`);let be=G[pe],ye,xe,we=fe-ae;if(ge-fe<=B&&(xe=re(Y.pos-he,Oe))){let Se=new Uint16Array(xe.size-xe.skip),ve=Y.pos-xe.size,Qe=Se.length;for(;Y.pos>ve;)Qe=se(xe.start,Se,Qe);ye=new TreeBuffer(Se,ge-xe.start,X),we=xe.start-ae}else{let Se=Y.pos-me;Y.next();let ve=[],Qe=[],Pe=pe>=U?pe:-1,ke=0,Te=ge;for(;Y.pos>Se;)Pe>=0&&Y.id==Pe&&Y.size>=0?(Y.end<=Te-B&&(te(ve,Qe,fe,ke,Y.end,Te,Pe,$e),ke=ve.length,Te=Y.end),Y.next()):J(fe,Se,ve,Qe,Pe);if(Pe>=0&&ke>0&&ke<ve.length&&te(ve,Qe,fe,ke,fe,Te,Pe,$e),ve.reverse(),Qe.reverse(),Pe>-1&&ke>0){let Ce=ee(be);ye=balanceRange(be,ve,Qe,0,ve.length,0,ge-fe,Ce,Ce)}else ye=ne(be,ve,Qe,ge-fe,$e-ge)}de.push(ye),ue.push(we)}function ee(ae){return(he,de,ue)=>{let Oe=0,pe=he.length-1,fe,ge;if(pe>=0&&(fe=he[pe])instanceof Tree){if(!pe&&fe.type==ae&&fe.length==ue)return fe;(ge=fe.prop(NodeProp.lookAhead))&&(Oe=de[pe]+fe.length+ge)}return ne(ae,he,de,ue,Oe)}}function te(ae,he,de,ue,Oe,pe,fe,ge){let me=[],$e=[];for(;ae.length>ue;)me.push(ae.pop()),$e.push(he.pop()+de-Oe);ae.push(ne(X.types[fe],me,$e,pe-Oe,ge-pe)),he.push(Oe-de)}function ne(ae,he,de,ue,Oe=0,pe){if(F){let fe=[NodeProp.contextHash,F];pe=pe?[fe].concat(pe):[fe]}if(Oe>25){let fe=[NodeProp.lookAhead,Oe];pe=pe?[fe].concat(pe):[fe]}return new Tree(ae,he,de,ue,pe)}function re(ae,he){let de=Y.fork(),ue=0,Oe=0,pe=0,fe=de.end-B,ge={size:0,start:0,skip:0};e:for(let me=de.pos-ae;de.pos>me;){let $e=de.size;if(de.id==he&&$e>=0){ge.size=ue,ge.start=Oe,ge.skip=pe,pe+=4,ue+=4,de.next();continue}let be=de.pos-$e;if($e<0||be<me||de.start<fe)break;let ye=de.id>=U?4:0,xe=de.start;for(de.next();de.pos>be;){if(de.size<0)if(de.size==-3)ye+=4;else break e;else de.id>=U&&(ye+=4);de.next()}Oe=xe,ue+=$e,pe+=ye}return(he<0||ue==ae)&&(ge.size=ue,ge.start=Oe,ge.skip=pe),ge.size>4?ge:void 0}function se(ae,he,de){let{id:ue,start:Oe,end:pe,size:fe}=Y;if(Y.next(),fe>=0&&ue<U){let ge=de;if(fe>4){let me=Y.pos-(fe-4);for(;Y.pos>me;)de=se(ae,he,de)}he[--de]=ge,he[--de]=pe-ae,he[--de]=Oe-ae,he[--de]=ue}else fe==-3?F=ue:fe==-4&&(K=ue);return de}let oe=[],ce=[];for(;Y.pos>0;)J(D.start||0,D.bufferStart||0,oe,ce,-1);let le=(Q=D.length)!==null&&Q!==void 0?Q:oe.length?ce[0]+oe[0].length:0;return new Tree(G[D.topID],oe.reverse(),ce.reverse(),le)}const nodeSizeCache=new WeakMap;function nodeSize(D,Q){if(!D.isAnonymous||Q instanceof TreeBuffer||Q.type!=D)return 1;let q=nodeSizeCache.get(Q);if(q==null){q=1;for(let X of Q.children){if(X.type!=D||!(X instanceof Tree)){q=1;break}q+=nodeSize(D,X)}nodeSizeCache.set(Q,q)}return q}function balanceRange(D,Q,q,X,B,j,U,Y,G){let F=0;for(let ne=X;ne<B;ne++)F+=nodeSize(D,Q[ne]);let K=Math.ceil(F*1.5/8),J=[],ee=[];function te(ne,re,se,oe,ce){for(let le=se;le<oe;){let ae=le,he=re[le],de=nodeSize(D,ne[le]);for(le++;le<oe;le++){let ue=nodeSize(D,ne[le]);if(de+ue>=K)break;de+=ue}if(le==ae+1){if(de>K){let ue=ne[ae];te(ue.children,ue.positions,0,ue.children.length,re[ae]+ce);continue}J.push(ne[ae])}else{let ue=re[le-1]+ne[le-1].length-he;J.push(balanceRange(D,ne,re,ae,le,he,ue,null,G))}ee.push(he+ce-j)}}return te(Q,q,X,B,0),(Y||G)(J,ee,U)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(Q,q,X){let B=this.map.get(Q);B||this.map.set(Q,B=new Map),B.set(q,X)}getBuffer(Q,q){let X=this.map.get(Q);return X&&X.get(q)}set(Q,q){Q instanceof BufferNode?this.setBuffer(Q.context.buffer,Q.index,q):Q instanceof TreeNode&&this.map.set(Q.tree,q)}get(Q){return Q instanceof BufferNode?this.getBuffer(Q.context.buffer,Q.index):Q instanceof TreeNode?this.map.get(Q.tree):void 0}cursorSet(Q,q){Q.buffer?this.setBuffer(Q.buffer.buffer,Q.index,q):this.map.set(Q.tree,q)}cursorGet(Q){return Q.buffer?this.getBuffer(Q.buffer.buffer,Q.index):this.map.get(Q.tree)}}class TreeFragment{constructor(Q,q,X,B,j=!1,U=!1){this.from=Q,this.to=q,this.tree=X,this.offset=B,this.open=(j?1:0)|(U?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(Q,q=[],X=!1){let B=[new TreeFragment(0,Q.length,Q,0,!1,X)];for(let j of q)j.to>Q.length&&B.push(j);return B}static applyChanges(Q,q,X=128){if(!q.length)return Q;let B=[],j=1,U=Q.length?Q[0]:null;for(let Y=0,G=0,F=0;;Y++){let K=Y<q.length?q[Y]:null,J=K?K.fromA:1e9;if(J-G>=X)for(;U&&U.from<J;){let ee=U;if(G>=ee.from||J<=ee.to||F){let te=Math.max(ee.from,G)-F,ne=Math.min(ee.to,J)-F;ee=te>=ne?null:new TreeFragment(te,ne,ee.tree,ee.offset+F,Y>0,!!K)}if(ee&&B.push(ee),U.to>J)break;U=j<Q.length?Q[j++]:null}if(!K)break;G=K.toA,F=K.toA-K.toB}return B}}class Parser{startParse(Q,q,X){return typeof Q=="string"&&(Q=new StringInput(Q)),X=X?X.length?X.map(B=>new Range(B.from,B.to)):[new Range(0,0)]:[new Range(0,Q.length)],this.createParse(Q,q||[],X)}parse(Q,q,X){let B=this.startParse(Q,q,X);for(;;){let j=B.advance();if(j)return j}}}class StringInput{constructor(Q){this.string=Q}get length(){return this.string.length}chunk(Q){return this.string.slice(Q)}get lineChunks(){return!1}read(Q,q){return this.string.slice(Q,q)}}new NodeProp({perNode:!0});let nextTagID=0;class Tag{constructor(Q,q,X){this.set=Q,this.base=q,this.modified=X,this.id=nextTagID++}static define(Q){if(Q!=null&&Q.base)throw new Error("Can not derive from a modified tag");let q=new Tag([],null,[]);if(q.set.push(q),Q)for(let X of Q.set)q.set.push(X);return q}static defineModifier(){let Q=new Modifier;return q=>q.modified.indexOf(Q)>-1?q:Modifier.get(q.base||q,q.modified.concat(Q).sort((X,B)=>X.id-B.id))}}let nextModifierID=0;class Modifier{constructor(){this.instances=[],this.id=nextModifierID++}static get(Q,q){if(!q.length)return Q;let X=q[0].instances.find(Y=>Y.base==Q&&sameArray(q,Y.modified));if(X)return X;let B=[],j=new Tag(B,Q,q);for(let Y of q)Y.instances.push(j);let U=permute(q);for(let Y of Q.set)for(let G of U)B.push(Modifier.get(Y,G));return j}}function sameArray(D,Q){return D.length==Q.length&&D.every((q,X)=>q==Q[X])}function permute(D){let Q=[D];for(let q=0;q<D.length;q++)for(let X of permute(D.slice(0,q).concat(D.slice(q+1))))Q.push(X);return Q}function styleTags(D){let Q=Object.create(null);for(let q in D){let X=D[q];Array.isArray(X)||(X=[X]);for(let B of q.split(" "))if(B){let j=[],U=2,Y=B;for(let J=0;;){if(Y=="..."&&J>0&&J+3==B.length){U=1;break}let ee=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(Y);if(!ee)throw new RangeError("Invalid path: "+B);if(j.push(ee[0]=="*"?"":ee[0][0]=='"'?JSON.parse(ee[0]):ee[0]),J+=ee[0].length,J==B.length)break;let te=B[J++];if(J==B.length&&te=="!"){U=0;break}if(te!="/")throw new RangeError("Invalid path: "+B);Y=B.slice(J)}let G=j.length-1,F=j[G];if(!F)throw new RangeError("Invalid path: "+B);let K=new Rule(X,U,G>0?j.slice(0,G):null);Q[F]=K.sort(Q[F])}}return ruleNodeProp.add(Q)}const ruleNodeProp=new NodeProp;class Rule{constructor(Q,q,X,B){this.tags=Q,this.mode=q,this.context=X,this.next=B}sort(Q){return!Q||Q.depth<this.depth?(this.next=Q,this):(Q.next=this.sort(Q.next),Q)}get depth(){return this.context?this.context.length:0}}function tagHighlighter(D,Q){let q=Object.create(null);for(let j of D)if(!Array.isArray(j.tag))q[j.tag.id]=j.class;else for(let U of j.tag)q[U.id]=j.class;let{scope:X,all:B=null}=Q||{};return{style:j=>{let U=B;for(let Y of j)for(let G of Y.set){let F=q[G.id];if(F){U=U?U+" "+F:F;break}}return U},scope:X}}function highlightTags(D,Q){let q=null;for(let X of D){let B=X.style(Q);B&&(q=q?q+" "+B:B)}return q}function highlightTree(D,Q,q,X=0,B=D.length){let j=new HighlightBuilder(X,Array.isArray(Q)?Q:[Q],q);j.highlightRange(D.cursor(),X,B,"",j.highlighters),j.flush(B)}class HighlightBuilder{constructor(Q,q,X){this.at=Q,this.highlighters=q,this.span=X,this.class=""}startSpan(Q,q){q!=this.class&&(this.flush(Q),Q>this.at&&(this.at=Q),this.class=q)}flush(Q){Q>this.at&&this.class&&this.span(this.at,Q,this.class)}highlightRange(Q,q,X,B,j){let{type:U,from:Y,to:G}=Q;if(Y>=X||G<=q)return;U.isTop&&(j=this.highlighters.filter(te=>!te.scope||te.scope(U)));let F=B,K=U.prop(ruleNodeProp),J=!1;for(;K;){if(!K.context||Q.matchContext(K.context)){let te=highlightTags(j,K.tags);te&&(F&&(F+=" "),F+=te,K.mode==1?B+=(B?" ":"")+te:K.mode==0&&(J=!0));break}K=K.next}if(this.startSpan(Q.from,F),J)return;let ee=Q.tree&&Q.tree.prop(NodeProp.mounted);if(ee&&ee.overlay){let te=Q.node.enter(ee.overlay[0].from+Y,1),ne=this.highlighters.filter(se=>!se.scope||se.scope(ee.tree.type)),re=Q.firstChild();for(let se=0,oe=Y;;se++){let ce=se<ee.overlay.length?ee.overlay[se]:null,le=ce?ce.from+Y:G,ae=Math.max(q,oe),he=Math.min(X,le);if(ae<he&&re)for(;Q.from<he&&(this.highlightRange(Q,ae,he,B,j),this.startSpan(Math.min(X,Q.to),F),!(Q.to>=le||!Q.nextSibling())););if(!ce||le>X)break;oe=ce.to+Y,oe>q&&(this.highlightRange(te.cursor(),Math.max(q,ce.from+Y),Math.min(X,oe),B,ne),this.startSpan(oe,F))}re&&Q.parent()}else if(Q.firstChild()){do if(!(Q.to<=q)){if(Q.from>=X)break;this.highlightRange(Q,q,X,B,j),this.startSpan(Math.min(X,Q.to),F)}while(Q.nextSibling());Q.parent()}}}const t$4=Tag.define,comment=t$4(),name=t$4(),typeName=t$4(name),propertyName=t$4(name),literal=t$4(),string=t$4(literal),number=t$4(literal),content=t$4(),heading=t$4(content),keyword=t$4(),operator=t$4(),punctuation=t$4(),bracket=t$4(punctuation),meta=t$4(),tags={comment,lineComment:t$4(comment),blockComment:t$4(comment),docComment:t$4(comment),name,variableName:t$4(name),typeName,tagName:t$4(typeName),propertyName,attributeName:t$4(propertyName),className:t$4(name),labelName:t$4(name),namespace:t$4(name),macroName:t$4(name),literal,string,docString:t$4(string),character:t$4(string),attributeValue:t$4(string),number,integer:t$4(number),float:t$4(number),bool:t$4(literal),regexp:t$4(literal),escape:t$4(literal),color:t$4(literal),url:t$4(literal),keyword,self:t$4(keyword),null:t$4(keyword),atom:t$4(keyword),unit:t$4(keyword),modifier:t$4(keyword),operatorKeyword:t$4(keyword),controlKeyword:t$4(keyword),definitionKeyword:t$4(keyword),moduleKeyword:t$4(keyword),operator,derefOperator:t$4(operator),arithmeticOperator:t$4(operator),logicOperator:t$4(operator),bitwiseOperator:t$4(operator),compareOperator:t$4(operator),updateOperator:t$4(operator),definitionOperator:t$4(operator),typeOperator:t$4(operator),controlOperator:t$4(operator),punctuation,separator:t$4(punctuation),bracket,angleBracket:t$4(bracket),squareBracket:t$4(bracket),paren:t$4(bracket),brace:t$4(bracket),content,heading,heading1:t$4(heading),heading2:t$4(heading),heading3:t$4(heading),heading4:t$4(heading),heading5:t$4(heading),heading6:t$4(heading),contentSeparator:t$4(content),list:t$4(content),quote:t$4(content),emphasis:t$4(content),strong:t$4(content),link:t$4(content),monospace:t$4(content),strikethrough:t$4(content),inserted:t$4(),deleted:t$4(),changed:t$4(),invalid:t$4(),meta,documentMeta:t$4(meta),annotation:t$4(meta),processingInstruction:t$4(meta),definition:Tag.defineModifier(),constant:Tag.defineModifier(),function:Tag.defineModifier(),standard:Tag.defineModifier(),local:Tag.defineModifier(),special:Tag.defineModifier()};tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a$1;const languageDataProp=new NodeProp;function defineLanguageFacet(D){return Facet.define({combine:D?Q=>Q.concat(D):void 0})}class Language{constructor(Q,q,X=[]){this.data=Q,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=q,this.extension=[language.of(this),EditorState.languageData.of((B,j,U)=>B.facet(languageDataFacetAt(B,j,U)))].concat(X)}isActiveAt(Q,q,X=-1){return languageDataFacetAt(Q,q,X)==this.data}findRegions(Q){let q=Q.facet(language);if((q==null?void 0:q.data)==this.data)return[{from:0,to:Q.doc.length}];if(!q||!q.allowsNesting)return[];let X=[],B=(j,U)=>{if(j.prop(languageDataProp)==this.data){X.push({from:U,to:U+j.length});return}let Y=j.prop(NodeProp.mounted);if(Y){if(Y.tree.prop(languageDataProp)==this.data){if(Y.overlay)for(let G of Y.overlay)X.push({from:G.from+U,to:G.to+U});else X.push({from:U,to:U+j.length});return}else if(Y.overlay){let G=X.length;if(B(Y.tree,Y.overlay[0].from+U),X.length>G)return}}for(let G=0;G<j.children.length;G++){let F=j.children[G];F instanceof Tree&&B(F,j.positions[G]+U)}};return B(syntaxTree(Q),0),X}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function languageDataFacetAt(D,Q,q){let X=D.facet(language);if(!X)return null;let B=X.data;if(X.allowsNesting)for(let j=syntaxTree(D).topNode;j;j=j.enter(Q,q,IterMode.ExcludeBuffers))B=j.type.prop(languageDataProp)||B;return B}class LRLanguage extends Language{constructor(Q,q){super(Q,q),this.parser=q}static define(Q){let q=defineLanguageFacet(Q.languageData);return new LRLanguage(q,Q.parser.configure({props:[languageDataProp.add(X=>X.isTop?q:void 0)]}))}configure(Q){return new LRLanguage(this.data,this.parser.configure(Q))}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(D){let Q=D.field(Language.state,!1);return Q?Q.tree:Tree.empty}class DocInput{constructor(Q,q=Q.length){this.doc=Q,this.length=q,this.cursorPos=0,this.string="",this.cursor=Q.iter()}syncTo(Q){return this.string=this.cursor.next(Q-this.cursorPos).value,this.cursorPos=Q+this.string.length,this.cursorPos-this.string.length}chunk(Q){return this.syncTo(Q),this.string}get lineChunks(){return!0}read(Q,q){let X=this.cursorPos-this.string.length;return Q<X||q>=this.cursorPos?this.doc.sliceString(Q,q):this.string.slice(Q-X,q-X)}}let currentContext=null;class ParseContext{constructor(Q,q,X=[],B,j,U,Y,G){this.parser=Q,this.state=q,this.fragments=X,this.tree=B,this.treeLen=j,this.viewport=U,this.skipped=Y,this.scheduleOn=G,this.parse=null,this.tempSkipped=[]}static create(Q,q,X){return new ParseContext(Q,q,[],Tree.empty,0,X,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(Q,q){return q!=null&&q>=this.state.doc.length&&(q=void 0),this.tree!=Tree.empty&&this.isDone(q!=null?q:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var X;if(typeof Q=="number"){let B=Date.now()+Q;Q=()=>Date.now()>B}for(this.parse||(this.parse=this.startParse()),q!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>q)&&q<this.state.doc.length&&this.parse.stopAt(q);;){let B=this.parse.advance();if(B)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(B,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(X=this.parse.stoppedAt)!==null&&X!==void 0?X:this.state.doc.length,this.tree=B,this.parse=null,this.treeLen<(q!=null?q:this.state.doc.length))this.parse=this.startParse();else return!0;if(Q())return!1}})}takeTree(){let Q,q;this.parse&&(Q=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>Q)&&this.parse.stopAt(Q),this.withContext(()=>{for(;!(q=this.parse.advance()););}),this.treeLen=Q,this.tree=q,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(Q){let q=currentContext;currentContext=this;try{return Q()}finally{currentContext=q}}withoutTempSkipped(Q){for(let q;q=this.tempSkipped.pop();)Q=cutFragments(Q,q.from,q.to);return Q}changes(Q,q){let{fragments:X,tree:B,treeLen:j,viewport:U,skipped:Y}=this;if(this.takeTree(),!Q.empty){let G=[];if(Q.iterChangedRanges((F,K,J,ee)=>G.push({fromA:F,toA:K,fromB:J,toB:ee})),X=TreeFragment.applyChanges(X,G),B=Tree.empty,j=0,U={from:Q.mapPos(U.from,-1),to:Q.mapPos(U.to,1)},this.skipped.length){Y=[];for(let F of this.skipped){let K=Q.mapPos(F.from,1),J=Q.mapPos(F.to,-1);K<J&&Y.push({from:K,to:J})}}}return new ParseContext(this.parser,q,X,B,j,U,Y,this.scheduleOn)}updateViewport(Q){if(this.viewport.from==Q.from&&this.viewport.to==Q.to)return!1;this.viewport=Q;let q=this.skipped.length;for(let X=0;X<this.skipped.length;X++){let{from:B,to:j}=this.skipped[X];B<Q.to&&j>Q.from&&(this.fragments=cutFragments(this.fragments,B,j),this.skipped.splice(X--,1))}return this.skipped.length>=q?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(Q,q){this.skipped.push({from:Q,to:q})}static getSkippingParser(Q){return new class extends Parser{createParse(q,X,B){let j=B[0].from,U=B[B.length-1].to;return{parsedPos:j,advance(){let G=currentContext;if(G){for(let F of B)G.tempSkipped.push(F);Q&&(G.scheduleOn=G.scheduleOn?Promise.all([G.scheduleOn,Q]):Q)}return this.parsedPos=U,new Tree(NodeType.none,[],[],U-j)},stoppedAt:null,stopAt(){}}}}}isDone(Q){Q=Math.min(Q,this.state.doc.length);let q=this.fragments;return this.treeLen>=Q&&q.length&&q[0].from==0&&q[0].to>=Q}static get(){return currentContext}}function cutFragments(D,Q,q){return TreeFragment.applyChanges(D,[{fromA:Q,toA:q,fromB:Q,toB:q}])}class LanguageState{constructor(Q){this.context=Q,this.tree=Q.tree}apply(Q){if(!Q.docChanged&&this.tree==this.context.tree)return this;let q=this.context.changes(Q.changes,Q.state),X=this.context.treeLen==Q.startState.doc.length?void 0:Math.max(Q.changes.mapPos(this.context.treeLen),q.viewport.to);return q.work(20,X)||q.takeTree(),new LanguageState(q)}static init(Q){let q=Math.min(3e3,Q.doc.length),X=ParseContext.create(Q.facet(language).parser,Q,{from:0,to:q});return X.work(20,q)||X.takeTree(),new LanguageState(X)}}Language.state=StateField.define({create:LanguageState.init,update(D,Q){for(let q of Q.effects)if(q.is(Language.setState))return q.value;return Q.startState.facet(language)!=Q.state.facet(language)?LanguageState.init(Q.state):D.apply(Q)}});let requestIdle=D=>{let Q=setTimeout(()=>D(),500);return()=>clearTimeout(Q)};typeof requestIdleCallback<"u"&&(requestIdle=D=>{let Q=-1,q=setTimeout(()=>{Q=requestIdleCallback(D,{timeout:500-100})},100);return()=>Q<0?clearTimeout(q):cancelIdleCallback(Q)});const isInputPending=typeof navigator<"u"&&((_a$1=navigator.scheduling)===null||_a$1===void 0?void 0:_a$1.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(Q){this.view=Q,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(Q){let q=this.view.state.field(Language.state).context;(q.updateViewport(Q.view.viewport)||this.view.viewport.to>q.treeLen)&&this.scheduleWork(),Q.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(q)}scheduleWork(){if(this.working)return;let{state:Q}=this.view,q=Q.field(Language.state);(q.tree!=q.context.tree||!q.context.isDone(Q.doc.length))&&(this.working=requestIdle(this.work))}work(Q){this.working=null;let q=Date.now();if(this.chunkEnd<q&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=q+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:X,viewport:{to:B}}=this.view,j=X.field(Language.state);if(j.tree==j.context.tree&&j.context.isDone(B+1e5))return;let U=Date.now()+Math.min(this.chunkBudget,100,Q&&!isInputPending?Math.max(25,Q.timeRemaining()-5):1e9),Y=j.context.treeLen<B&&X.doc.length>B+1e3,G=j.context.work(()=>isInputPending&&isInputPending()||Date.now()>U,B+(Y?0:1e5));this.chunkBudget-=Date.now()-q,(G||this.chunkBudget<=0)&&(j.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(j.context))})),this.chunkBudget>0&&!(G&&!Y)&&this.scheduleWork(),this.checkAsyncSchedule(j.context)}checkAsyncSchedule(Q){Q.scheduleOn&&(this.workScheduled++,Q.scheduleOn.then(()=>this.scheduleWork()).catch(q=>logException(this.view.state,q)).then(()=>this.workScheduled--),Q.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(D){return D.length?D[0]:null},enables:[Language.state,parseWorker]});class LanguageSupport{constructor(Q,q=[]){this.language=Q,this.support=q,this.extension=[Q,q]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:D=>{if(!D.length)return"  ";if(!/^(?: +|\t+)$/.test(D[0]))throw new Error("Invalid indent unit: "+JSON.stringify(D[0]));return D[0]}});function getIndentUnit(D){let Q=D.facet(indentUnit);return Q.charCodeAt(0)==9?D.tabSize*Q.length:Q.length}function indentString(D,Q){let q="",X=D.tabSize;if(D.facet(indentUnit).charCodeAt(0)==9)for(;Q>=X;)q+="	",Q-=X;for(let B=0;B<Q;B++)q+=" ";return q}function getIndentation(D,Q){D instanceof EditorState&&(D=new IndentContext(D));for(let X of D.state.facet(indentService)){let B=X(D,Q);if(B!=null)return B}let q=syntaxTree(D.state);return q?syntaxIndentation(D,q,Q):null}class IndentContext{constructor(Q,q={}){this.state=Q,this.options=q,this.unit=getIndentUnit(Q)}lineAt(Q,q=1){let X=this.state.doc.lineAt(Q),{simulateBreak:B,simulateDoubleBreak:j}=this.options;return B!=null&&B>=X.from&&B<=X.to?j&&B==Q?{text:"",from:Q}:(q<0?B<Q:B<=Q)?{text:X.text.slice(B-X.from),from:B}:{text:X.text.slice(0,B-X.from),from:X.from}:X}textAfterPos(Q,q=1){if(this.options.simulateDoubleBreak&&Q==this.options.simulateBreak)return"";let{text:X,from:B}=this.lineAt(Q,q);return X.slice(Q-B,Math.min(X.length,Q+100-B))}column(Q,q=1){let{text:X,from:B}=this.lineAt(Q,q),j=this.countColumn(X,Q-B),U=this.options.overrideIndentation?this.options.overrideIndentation(B):-1;return U>-1&&(j+=U-this.countColumn(X,X.search(/\S|$/))),j}countColumn(Q,q=Q.length){return countColumn(Q,this.state.tabSize,q)}lineIndent(Q,q=1){let{text:X,from:B}=this.lineAt(Q,q),j=this.options.overrideIndentation;if(j){let U=j(B);if(U>-1)return U}return this.countColumn(X,X.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(D,Q,q){return indentFrom(Q.resolveInner(q).enterUnfinishedNodesBefore(q),q,D)}function ignoreClosed(D){return D.pos==D.options.simulateBreak&&D.options.simulateDoubleBreak}function indentStrategy(D){let Q=D.type.prop(indentNodeProp);if(Q)return Q;let q=D.firstChild,X;if(q&&(X=q.type.prop(NodeProp.closedBy))){let B=D.lastChild,j=B&&X.indexOf(B.name)>-1;return U=>delimitedStrategy(U,!0,1,void 0,j&&!ignoreClosed(U)?B.from:void 0)}return D.parent==null?topIndent$1:null}function indentFrom(D,Q,q){for(;D;D=D.parent){let X=indentStrategy(D);if(X)return X(TreeIndentContext.create(q,Q,D))}return null}function topIndent$1(){return 0}class TreeIndentContext extends IndentContext{constructor(Q,q,X){super(Q.state,Q.options),this.base=Q,this.pos=q,this.node=X}static create(Q,q,X){return new TreeIndentContext(Q,q,X)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let Q=this.state.doc.lineAt(this.node.from);for(;;){let q=this.node.resolve(Q.from);for(;q.parent&&q.parent.from==q.from;)q=q.parent;if(isParent(q,this.node))break;Q=this.state.doc.lineAt(q.from)}return this.lineIndent(Q.from)}continue(){let Q=this.node.parent;return Q?indentFrom(Q,this.pos,this.base):0}}function isParent(D,Q){for(let q=Q;q;q=q.parent)if(D==q)return!0;return!1}function bracketedAligned(D){let Q=D.node,q=Q.childAfter(Q.from),X=Q.lastChild;if(!q)return null;let B=D.options.simulateBreak,j=D.state.doc.lineAt(q.from),U=B==null||B<=j.from?j.to:Math.min(j.to,B);for(let Y=q.to;;){let G=Q.childAfter(Y);if(!G||G==X)return null;if(!G.type.isSkipped)return G.from<U?q:null;Y=G.to}}function delimitedIndent({closing:D,align:Q=!0,units:q=1}){return X=>delimitedStrategy(X,Q,q,D)}function delimitedStrategy(D,Q,q,X,B){let j=D.textAfter,U=j.match(/^\s*/)[0].length,Y=X&&j.slice(U,U+X.length)==X||B==D.pos+U,G=Q?bracketedAligned(D):null;return G?Y?D.column(G.from):D.column(G.to):D.baseIndent+(Y?0:D.unit*q)}const flatIndent=D=>D.baseIndent;function continuedIndent({except:D,units:Q=1}={}){return q=>{let X=D&&D.test(q.textAfter);return q.baseIndent+(X?0:Q*q.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(D=>{if(!D.docChanged||!D.isUserEvent("input.type")&&!D.isUserEvent("input.complete"))return D;let Q=D.startState.languageDataAt("indentOnInput",D.startState.selection.main.head);if(!Q.length)return D;let q=D.newDoc,{head:X}=D.newSelection.main,B=q.lineAt(X);if(X>B.from+DontIndentBeyond)return D;let j=q.sliceString(B.from,X);if(!Q.some(F=>F.test(j)))return D;let{state:U}=D,Y=-1,G=[];for(let{head:F}of U.selection.ranges){let K=U.doc.lineAt(F);if(K.from==Y)continue;Y=K.from;let J=getIndentation(U,K.from);if(J==null)continue;let ee=/^\s*/.exec(K.text)[0],te=indentString(U,J);ee!=te&&G.push({from:K.from,to:K.from+ee.length,insert:te})}return G.length?[D,{changes:G,sequential:!0}]:D})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(D){let Q=D.firstChild,q=D.lastChild;return Q&&Q.to<q.from?{from:Q.to,to:q.type.isError?D.to:q.from}:null}function syntaxFolding(D,Q,q){let X=syntaxTree(D);if(X.length<q)return null;let B=X.resolveInner(q),j=null;for(let U=B;U;U=U.parent){if(U.to<=q||U.from>q)continue;if(j&&U.from<Q)break;let Y=U.type.prop(foldNodeProp);if(Y&&(U.to<X.length-50||X.length==D.doc.length||!isUnfinished(U))){let G=Y(U,D);G&&G.from<=q&&G.from>=Q&&G.to>q&&(j=G)}}return j}function isUnfinished(D){let Q=D.lastChild;return Q&&Q.to==D.to&&Q.type.isError}function foldable(D,Q,q){for(let X of D.facet(foldService)){let B=X(D,Q,q);if(B)return B}return syntaxFolding(D,Q,q)}function mapRange(D,Q){let q=Q.mapPos(D.from,1),X=Q.mapPos(D.to,-1);return q>=X?void 0:{from:q,to:X}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(D){let Q=[];for(let{head:q}of D.state.selection.ranges)Q.some(X=>X.from<=q&&X.to>=q)||Q.push(D.lineBlockAt(q));return Q}const foldState=StateField.define({create(){return Decoration.none},update(D,Q){D=D.map(Q.changes);for(let q of Q.effects)q.is(foldEffect)&&!foldExists(D,q.value.from,q.value.to)?D=D.update({add:[foldWidget.range(q.value.from,q.value.to)]}):q.is(unfoldEffect)&&(D=D.update({filter:(X,B)=>q.value.from!=X||q.value.to!=B,filterFrom:q.value.from,filterTo:q.value.to}));if(Q.selection){let q=!1,{head:X}=Q.selection.main;D.between(X,X,(B,j)=>{B<X&&j>X&&(q=!0)}),q&&(D=D.update({filterFrom:X,filterTo:X,filter:(B,j)=>j<=X||B>=X}))}return D},provide:D=>EditorView.decorations.from(D),toJSON(D,Q){let q=[];return D.between(0,Q.doc.length,(X,B)=>{q.push(X,B)}),q},fromJSON(D){if(!Array.isArray(D)||D.length%2)throw new RangeError("Invalid JSON for fold state");let Q=[];for(let q=0;q<D.length;){let X=D[q++],B=D[q++];if(typeof X!="number"||typeof B!="number")throw new RangeError("Invalid JSON for fold state");Q.push(foldWidget.range(X,B))}return Decoration.set(Q,!0)}});function findFold(D,Q,q){var X;let B=null;return(X=D.field(foldState,!1))===null||X===void 0||X.between(Q,q,(j,U)=>{(!B||B.from>j)&&(B={from:j,to:U})}),B}function foldExists(D,Q,q){let X=!1;return D.between(Q,Q,(B,j)=>{B==Q&&j==q&&(X=!0)}),X}function maybeEnable(D,Q){return D.field(foldState,!1)?Q:Q.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=D=>{for(let Q of selectedLines(D)){let q=foldable(D.state,Q.from,Q.to);if(q)return D.dispatch({effects:maybeEnable(D.state,[foldEffect.of(q),announceFold(D,q)])}),!0}return!1},unfoldCode=D=>{if(!D.state.field(foldState,!1))return!1;let Q=[];for(let q of selectedLines(D)){let X=findFold(D.state,q.from,q.to);X&&Q.push(unfoldEffect.of(X),announceFold(D,X,!1))}return Q.length&&D.dispatch({effects:Q}),Q.length>0};function announceFold(D,Q,q=!0){let X=D.state.doc.lineAt(Q.from).number,B=D.state.doc.lineAt(Q.to).number;return EditorView.announce.of(`${D.state.phrase(q?"Folded lines":"Unfolded lines")} ${X} ${D.state.phrase("to")} ${B}.`)}const foldAll=D=>{let{state:Q}=D,q=[];for(let X=0;X<Q.doc.length;){let B=D.lineBlockAt(X),j=foldable(Q,B.from,B.to);j&&q.push(foldEffect.of(j)),X=(j?D.lineBlockAt(j.to):B).to+1}return q.length&&D.dispatch({effects:maybeEnable(D.state,q)}),!!q.length},unfoldAll=D=>{let Q=D.state.field(foldState,!1);if(!Q||!Q.size)return!1;let q=[];return Q.between(0,D.state.doc.length,(X,B)=>{q.push(unfoldEffect.of({from:X,to:B}))}),D.dispatch({effects:q}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,placeholderText:"\u2026"},foldConfig=Facet.define({combine(D){return combineConfig(D,defaultConfig)}});function codeFolding(D){let Q=[foldState,baseTheme$1$2];return D&&Q.push(foldConfig.of(D)),Q}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(D){let{state:Q}=D,q=Q.facet(foldConfig),X=j=>{let U=D.lineBlockAt(D.posAtDOM(j.target)),Y=findFold(D.state,U.from,U.to);Y&&D.dispatch({effects:unfoldEffect.of(Y)}),j.preventDefault()};if(q.placeholderDOM)return q.placeholderDOM(D,X);let B=document.createElement("span");return B.textContent=q.placeholderText,B.setAttribute("aria-label",Q.phrase("folded code")),B.title=Q.phrase("unfold"),B.className="cm-foldPlaceholder",B.onclick=X,B}}}),foldGutterDefaults={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(Q,q){super(),this.config=Q,this.open=q}eq(Q){return this.config==Q.config&&this.open==Q.open}toDOM(Q){if(this.config.markerDOM)return this.config.markerDOM(this.open);let q=document.createElement("span");return q.textContent=this.open?this.config.openText:this.config.closedText,q.title=Q.state.phrase(this.open?"Fold line":"Unfold line"),q}}function foldGutter(D={}){let Q=Object.assign(Object.assign({},foldGutterDefaults),D),q=new FoldMarker(Q,!0),X=new FoldMarker(Q,!1),B=ViewPlugin.fromClass(class{constructor(U){this.from=U.viewport.from,this.markers=this.buildMarkers(U)}update(U){(U.docChanged||U.viewportChanged||U.startState.facet(language)!=U.state.facet(language)||U.startState.field(foldState,!1)!=U.state.field(foldState,!1)||syntaxTree(U.startState)!=syntaxTree(U.state)||Q.foldingChanged(U))&&(this.markers=this.buildMarkers(U.view))}buildMarkers(U){let Y=new RangeSetBuilder;for(let G of U.viewportLineBlocks){let F=findFold(U.state,G.from,G.to)?X:foldable(U.state,G.from,G.to)?q:null;F&&Y.add(G.from,G.from,F)}return Y.finish()}}),{domEventHandlers:j}=Q;return[B,gutter({class:"cm-foldGutter",markers(U){var Y;return((Y=U.plugin(B))===null||Y===void 0?void 0:Y.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(Q,!1)},domEventHandlers:Object.assign(Object.assign({},j),{click:(U,Y,G)=>{if(j.click&&j.click(U,Y,G))return!0;let F=findFold(U.state,Y.from,Y.to);if(F)return U.dispatch({effects:unfoldEffect.of(F)}),!0;let K=foldable(U.state,Y.from,Y.to);return K?(U.dispatch({effects:foldEffect.of(K)}),!0):!1}})}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(Q,q){let X;function B(Y){let G=StyleModule.newName();return(X||(X=Object.create(null)))["."+G]=Y,G}const j=typeof q.all=="string"?q.all:q.all?B(q.all):void 0,U=q.scope;this.scope=U instanceof Language?Y=>Y.prop(languageDataProp)==U.data:U?Y=>Y==U:void 0,this.style=tagHighlighter(Q.map(Y=>({tag:Y.tag,class:Y.class||B(Object.assign({},Y,{tag:null}))})),{all:j}).style,this.module=X?new StyleModule(X):null,this.themeType=q.themeType}static define(Q,q){return new HighlightStyle(Q,q||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(D){return D.length?[D[0]]:null}});function getHighlighters(D){let Q=D.facet(highlighterFacet);return Q.length?Q:D.facet(fallbackHighlighter)}function syntaxHighlighting(D,Q){let q=[treeHighlighter],X;return D instanceof HighlightStyle&&(D.module&&q.push(EditorView.styleModule.of(D.module)),X=D.themeType),Q!=null&&Q.fallback?q.push(fallbackHighlighter.of(D)):X?q.push(highlighterFacet.computeN([EditorView.darkTheme],B=>B.facet(EditorView.darkTheme)==(X=="dark")?[D]:[])):q.push(highlighterFacet.of(D)),q}class TreeHighlighter{constructor(Q){this.markCache=Object.create(null),this.tree=syntaxTree(Q.state),this.decorations=this.buildDeco(Q,getHighlighters(Q.state))}update(Q){let q=syntaxTree(Q.state),X=getHighlighters(Q.state),B=X!=getHighlighters(Q.startState);q.length<Q.view.viewport.to&&!B&&q.type==this.tree.type?this.decorations=this.decorations.map(Q.changes):(q!=this.tree||Q.viewportChanged||B)&&(this.tree=q,this.decorations=this.buildDeco(Q.view,X))}buildDeco(Q,q){if(!q||!this.tree.length)return Decoration.none;let X=new RangeSetBuilder;for(let{from:B,to:j}of Q.visibleRanges)highlightTree(this.tree,q,(U,Y,G)=>{X.add(U,Y,this.markCache[G]||(this.markCache[G]=Decoration.mark({class:G})))},B,j);return X.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:D=>D.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#7a757a"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(D){return combineConfig(D,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(D){let Q=[],q=D.matched?matchingMark:nonmatchingMark;return Q.push(q.range(D.start.from,D.start.to)),D.end&&Q.push(q.range(D.end.from,D.end.to)),Q}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(D,Q){if(!Q.docChanged&&!Q.selection)return D;let q=[],X=Q.state.facet(bracketMatchingConfig);for(let B of Q.state.selection.ranges){if(!B.empty)continue;let j=matchBrackets(Q.state,B.head,-1,X)||B.head>0&&matchBrackets(Q.state,B.head-1,1,X)||X.afterCursor&&(matchBrackets(Q.state,B.head,1,X)||B.head<Q.state.doc.length&&matchBrackets(Q.state,B.head+1,-1,X));j&&(q=q.concat(X.renderMatch(j,Q.state)))}return Decoration.set(q,!0)},provide:D=>EditorView.decorations.from(D)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(D={}){return[bracketMatchingConfig.of(D),bracketMatchingUnique]}function matchingNodes(D,Q,q){let X=D.prop(Q<0?NodeProp.openedBy:NodeProp.closedBy);if(X)return X;if(D.name.length==1){let B=q.indexOf(D.name);if(B>-1&&B%2==(Q<0?1:0))return[q[B+Q]]}return null}function matchBrackets(D,Q,q,X={}){let B=X.maxScanDistance||DefaultScanDist,j=X.brackets||DefaultBrackets,U=syntaxTree(D),Y=U.resolveInner(Q,q);for(let G=Y;G;G=G.parent){let F=matchingNodes(G.type,q,j);if(F&&G.from<G.to)return matchMarkedBrackets(D,Q,q,G,F,j)}return matchPlainBrackets(D,Q,q,U,Y.type,B,j)}function matchMarkedBrackets(D,Q,q,X,B,j){let U=X.parent,Y={from:X.from,to:X.to},G=0,F=U==null?void 0:U.cursor();if(F&&(q<0?F.childBefore(X.from):F.childAfter(X.to)))do if(q<0?F.to<=X.from:F.from>=X.to){if(G==0&&B.indexOf(F.type.name)>-1&&F.from<F.to)return{start:Y,end:{from:F.from,to:F.to},matched:!0};if(matchingNodes(F.type,q,j))G++;else if(matchingNodes(F.type,-q,j)){if(G==0)return{start:Y,end:F.from==F.to?void 0:{from:F.from,to:F.to},matched:!1};G--}}while(q<0?F.prevSibling():F.nextSibling());return{start:Y,matched:!1}}function matchPlainBrackets(D,Q,q,X,B,j,U){let Y=q<0?D.sliceDoc(Q-1,Q):D.sliceDoc(Q,Q+1),G=U.indexOf(Y);if(G<0||G%2==0!=q>0)return null;let F={from:q<0?Q-1:Q,to:q>0?Q+1:Q},K=D.doc.iterRange(Q,q>0?D.doc.length:0),J=0;for(let ee=0;!K.next().done&&ee<=j;){let te=K.value;q<0&&(ee+=te.length);let ne=Q+ee*q;for(let re=q>0?0:te.length-1,se=q>0?te.length:-1;re!=se;re+=q){let oe=U.indexOf(te[re]);if(!(oe<0||X.resolveInner(ne+re,1).type!=B))if(oe%2==0==q>0)J++;else{if(J==1)return{start:F,end:{from:ne+re,to:ne+re+1},matched:oe>>1==G>>1};J--}}q>0&&(ee+=te.length)}return K.done?{start:F,matched:!1}:null}const noTokens=Object.create(null),typeArray=[NodeType.none],warned=[],defaultTable=Object.create(null);for(let[D,Q]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[D]=createTokenType(noTokens,Q);function warnForPart(D,Q){warned.indexOf(D)>-1||(warned.push(D),console.warn(Q))}function createTokenType(D,Q){let q=null;for(let j of Q.split(".")){let U=D[j]||tags[j];U?typeof U=="function"?q?q=U(q):warnForPart(j,`Modifier ${j} used at start of tag`):q?warnForPart(j,`Tag ${j} used as modifier`):q=U:warnForPart(j,`Unknown highlighting tag ${j}`)}if(!q)return 0;let X=Q.replace(/ /g,"_"),B=NodeType.define({id:typeArray.length,name:X,props:[styleTags({[X]:q})]});return typeArray.push(B),B.id}const toggleComment=D=>{let Q=getConfig(D.state);return Q.line?toggleLineComment(D):Q.block?toggleBlockCommentByLine(D):!1};function command(D,Q){return({state:q,dispatch:X})=>{if(q.readOnly)return!1;let B=D(Q,q);return B?(X(q.update(B)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((D,Q)=>changeBlockComment(D,Q,selectedLineRanges(Q)),0);function getConfig(D,Q=D.selection.main.head){let q=D.languageDataAt("commentTokens",Q);return q.length?q[0]:{}}const SearchMargin=50;function findBlockComment(D,{open:Q,close:q},X,B){let j=D.sliceDoc(X-SearchMargin,X),U=D.sliceDoc(B,B+SearchMargin),Y=/\s*$/.exec(j)[0].length,G=/^\s*/.exec(U)[0].length,F=j.length-Y;if(j.slice(F-Q.length,F)==Q&&U.slice(G,G+q.length)==q)return{open:{pos:X-Y,margin:Y&&1},close:{pos:B+G,margin:G&&1}};let K,J;B-X<=2*SearchMargin?K=J=D.sliceDoc(X,B):(K=D.sliceDoc(X,X+SearchMargin),J=D.sliceDoc(B-SearchMargin,B));let ee=/^\s*/.exec(K)[0].length,te=/\s*$/.exec(J)[0].length,ne=J.length-te-q.length;return K.slice(ee,ee+Q.length)==Q&&J.slice(ne,ne+q.length)==q?{open:{pos:X+ee+Q.length,margin:/\s/.test(K.charAt(ee+Q.length))?1:0},close:{pos:B-te-q.length,margin:/\s/.test(J.charAt(ne-1))?1:0}}:null}function selectedLineRanges(D){let Q=[];for(let q of D.selection.ranges){let X=D.doc.lineAt(q.from),B=q.to<=X.to?X:D.doc.lineAt(q.to),j=Q.length-1;j>=0&&Q[j].to>X.from?Q[j].to=B.to:Q.push({from:X.from,to:B.to})}return Q}function changeBlockComment(D,Q,q=Q.selection.ranges){let X=q.map(j=>getConfig(Q,j.from).block);if(!X.every(j=>j))return null;let B=q.map((j,U)=>findBlockComment(Q,X[U],j.from,j.to));if(D!=2&&!B.every(j=>j))return{changes:Q.changes(q.map((j,U)=>B[U]?[]:[{from:j.from,insert:X[U].open+" "},{from:j.to,insert:" "+X[U].close}]))};if(D!=1&&B.some(j=>j)){let j=[];for(let U=0,Y;U<B.length;U++)if(Y=B[U]){let G=X[U],{open:F,close:K}=Y;j.push({from:F.pos-G.open.length,to:F.pos+F.margin},{from:K.pos-K.margin,to:K.pos+G.close.length})}return{changes:j}}return null}function changeLineComment(D,Q,q=Q.selection.ranges){let X=[],B=-1;for(let{from:j,to:U}of q){let Y=X.length,G=1e9;for(let F=j;F<=U;){let K=Q.doc.lineAt(F);if(K.from>B&&(j==U||U>K.from)){B=K.from;let J=getConfig(Q,F).line;if(!J)continue;let ee=/^\s*/.exec(K.text)[0].length,te=ee==K.length,ne=K.text.slice(ee,ee+J.length)==J?ee:-1;ee<K.text.length&&ee<G&&(G=ee),X.push({line:K,comment:ne,token:J,indent:ee,empty:te,single:!1})}F=K.to+1}if(G<1e9)for(let F=Y;F<X.length;F++)X[F].indent<X[F].line.text.length&&(X[F].indent=G);X.length==Y+1&&(X[Y].single=!0)}if(D!=2&&X.some(j=>j.comment<0&&(!j.empty||j.single))){let j=[];for(let{line:Y,token:G,indent:F,empty:K,single:J}of X)(J||!K)&&j.push({from:Y.from+F,insert:G+" "});let U=Q.changes(j);return{changes:U,selection:Q.selection.map(U,1)}}else if(D!=1&&X.some(j=>j.comment>=0)){let j=[];for(let{line:U,comment:Y,token:G}of X)if(Y>=0){let F=U.from+Y,K=F+G.length;U.text[K-U.from]==" "&&K++,j.push({from:F,to:K})}return{changes:j}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(D){return combineConfig(D,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});function changeEnd(D){let Q=0;return D.iterChangedRanges((q,X)=>Q=X),Q}const historyField_=StateField.define({create(){return HistoryState.empty},update(D,Q){let q=Q.state.facet(historyConfig),X=Q.annotation(fromHistory);if(X){let G=Q.docChanged?EditorSelection.single(changeEnd(Q.changes)):void 0,F=HistEvent.fromTransaction(Q,G),K=X.side,J=K==0?D.undone:D.done;return F?J=updateBranch(J,J.length,q.minDepth,F):J=addSelection(J,Q.startState.selection),new HistoryState(K==0?X.rest:J,K==0?J:X.rest)}let B=Q.annotation(isolateHistory);if((B=="full"||B=="before")&&(D=D.isolate()),Q.annotation(Transaction.addToHistory)===!1)return Q.changes.empty?D:D.addMapping(Q.changes.desc);let j=HistEvent.fromTransaction(Q),U=Q.annotation(Transaction.time),Y=Q.annotation(Transaction.userEvent);return j?D=D.addChanges(j,U,Y,q.newGroupDelay,q.minDepth):Q.selection&&(D=D.addSelection(Q.startState.selection,U,Y,q.newGroupDelay)),(B=="full"||B=="after")&&(D=D.isolate()),D},toJSON(D){return{done:D.done.map(Q=>Q.toJSON()),undone:D.undone.map(Q=>Q.toJSON())}},fromJSON(D){return new HistoryState(D.done.map(HistEvent.fromJSON),D.undone.map(HistEvent.fromJSON))}});function history(D={}){return[historyField_,historyConfig.of(D),EditorView.domEventHandlers({beforeinput(Q,q){let X=Q.inputType=="historyUndo"?undo:Q.inputType=="historyRedo"?redo:null;return X?(Q.preventDefault(),X(q)):!1}})]}function cmd(D,Q){return function({state:q,dispatch:X}){if(!Q&&q.readOnly)return!1;let B=q.field(historyField_,!1);if(!B)return!1;let j=B.pop(D,q,Q);return j?(X(j),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(Q,q,X,B,j){this.changes=Q,this.effects=q,this.mapped=X,this.startSelection=B,this.selectionsAfter=j}setSelAfter(Q){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,Q)}toJSON(){var Q,q,X;return{changes:(Q=this.changes)===null||Q===void 0?void 0:Q.toJSON(),mapped:(q=this.mapped)===null||q===void 0?void 0:q.toJSON(),startSelection:(X=this.startSelection)===null||X===void 0?void 0:X.toJSON(),selectionsAfter:this.selectionsAfter.map(B=>B.toJSON())}}static fromJSON(Q){return new HistEvent(Q.changes&&ChangeSet.fromJSON(Q.changes),[],Q.mapped&&ChangeDesc.fromJSON(Q.mapped),Q.startSelection&&EditorSelection.fromJSON(Q.startSelection),Q.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(Q,q){let X=none$1;for(let B of Q.startState.facet(invertedEffects)){let j=B(Q);j.length&&(X=X.concat(j))}return!X.length&&Q.changes.empty?null:new HistEvent(Q.changes.invert(Q.startState.doc),X,void 0,q||Q.startState.selection,none$1)}static selection(Q){return new HistEvent(void 0,none$1,void 0,void 0,Q)}}function updateBranch(D,Q,q,X){let B=Q+1>q+20?Q-q-1:0,j=D.slice(B,Q);return j.push(X),j}function isAdjacent(D,Q){let q=[],X=!1;return D.iterChangedRanges((B,j)=>q.push(B,j)),Q.iterChangedRanges((B,j,U,Y)=>{for(let G=0;G<q.length;){let F=q[G++],K=q[G++];Y>=F&&U<=K&&(X=!0)}}),X}function eqSelectionShape(D,Q){return D.ranges.length==Q.ranges.length&&D.ranges.filter((q,X)=>q.empty!=Q.ranges[X].empty).length===0}function conc(D,Q){return D.length?Q.length?D.concat(Q):D:Q}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(D,Q){if(D.length){let q=D[D.length-1],X=q.selectionsAfter.slice(Math.max(0,q.selectionsAfter.length-MaxSelectionsPerEvent));return X.length&&X[X.length-1].eq(Q)?D:(X.push(Q),updateBranch(D,D.length-1,1e9,q.setSelAfter(X)))}else return[HistEvent.selection([Q])]}function popSelection(D){let Q=D[D.length-1],q=D.slice();return q[D.length-1]=Q.setSelAfter(Q.selectionsAfter.slice(0,Q.selectionsAfter.length-1)),q}function addMappingToBranch(D,Q){if(!D.length)return D;let q=D.length,X=none$1;for(;q;){let B=mapEvent(D[q-1],Q,X);if(B.changes&&!B.changes.empty||B.effects.length){let j=D.slice(0,q);return j[q-1]=B,j}else Q=B.mapped,q--,X=B.selectionsAfter}return X.length?[HistEvent.selection(X)]:none$1}function mapEvent(D,Q,q){let X=conc(D.selectionsAfter.length?D.selectionsAfter.map(Y=>Y.map(Q)):none$1,q);if(!D.changes)return HistEvent.selection(X);let B=D.changes.map(Q),j=Q.mapDesc(D.changes,!0),U=D.mapped?D.mapped.composeDesc(j):j;return new HistEvent(B,StateEffect.mapEffects(D.effects,Q),U,D.startSelection.map(j),X)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(Q,q,X=0,B=void 0){this.done=Q,this.undone=q,this.prevTime=X,this.prevUserEvent=B}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(Q,q,X,B,j){let U=this.done,Y=U[U.length-1];return Y&&Y.changes&&!Y.changes.empty&&Q.changes&&(!X||joinableUserEvent.test(X))&&(!Y.selectionsAfter.length&&q-this.prevTime<B&&isAdjacent(Y.changes,Q.changes)||X=="input.type.compose")?U=updateBranch(U,U.length-1,j,new HistEvent(Q.changes.compose(Y.changes),conc(Q.effects,Y.effects),Y.mapped,Y.startSelection,none$1)):U=updateBranch(U,U.length,j,Q),new HistoryState(U,none$1,q,X)}addSelection(Q,q,X,B){let j=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return j.length>0&&q-this.prevTime<B&&X==this.prevUserEvent&&X&&/^select($|\.)/.test(X)&&eqSelectionShape(j[j.length-1],Q)?this:new HistoryState(addSelection(this.done,Q),this.undone,q,X)}addMapping(Q){return new HistoryState(addMappingToBranch(this.done,Q),addMappingToBranch(this.undone,Q),this.prevTime,this.prevUserEvent)}pop(Q,q,X){let B=Q==0?this.done:this.undone;if(B.length==0)return null;let j=B[B.length-1];if(X&&j.selectionsAfter.length)return q.update({selection:j.selectionsAfter[j.selectionsAfter.length-1],annotations:fromHistory.of({side:Q,rest:popSelection(B)}),userEvent:Q==0?"select.undo":"select.redo",scrollIntoView:!0});if(j.changes){let U=B.length==1?none$1:B.slice(0,B.length-1);return j.mapped&&(U=addMappingToBranch(U,j.mapped)),q.update({changes:j.changes,selection:j.startSelection,effects:j.effects,annotations:fromHistory.of({side:Q,rest:U}),filter:!1,userEvent:Q==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(D,Q){return EditorSelection.create(D.ranges.map(Q),D.mainIndex)}function setSel(D,Q){return D.update({selection:Q,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:D,dispatch:Q},q){let X=updateSel(D.selection,q);return X.eq(D.selection)?!1:(Q(setSel(D,X)),!0)}function rangeEnd(D,Q){return EditorSelection.cursor(Q?D.to:D.from)}function cursorByChar(D,Q){return moveSel(D,q=>q.empty?D.moveByChar(q,Q):rangeEnd(q,Q))}function ltrAtCursor(D){return D.textDirectionAt(D.state.selection.main.head)==Direction.LTR}const cursorCharLeft=D=>cursorByChar(D,!ltrAtCursor(D)),cursorCharRight=D=>cursorByChar(D,ltrAtCursor(D));function cursorByGroup(D,Q){return moveSel(D,q=>q.empty?D.moveByGroup(q,Q):rangeEnd(q,Q))}const cursorGroupLeft=D=>cursorByGroup(D,!ltrAtCursor(D)),cursorGroupRight=D=>cursorByGroup(D,ltrAtCursor(D));function interestingNode(D,Q,q){if(Q.type.prop(q))return!0;let X=Q.to-Q.from;return X&&(X>2||/[^\s,.;:]/.test(D.sliceDoc(Q.from,Q.to)))||Q.firstChild}function moveBySyntax(D,Q,q){let X=syntaxTree(D).resolveInner(Q.head),B=q?NodeProp.closedBy:NodeProp.openedBy;for(let G=Q.head;;){let F=q?X.childAfter(G):X.childBefore(G);if(!F)break;interestingNode(D,F,B)?X=F:G=q?F.to:F.from}let j=X.type.prop(B),U,Y;return j&&(U=q?matchBrackets(D,X.from,1):matchBrackets(D,X.to,-1))&&U.matched?Y=q?U.end.to:U.end.from:Y=q?X.to:X.from,EditorSelection.cursor(Y,q?-1:1)}const cursorSyntaxLeft=D=>moveSel(D,Q=>moveBySyntax(D.state,Q,!ltrAtCursor(D))),cursorSyntaxRight=D=>moveSel(D,Q=>moveBySyntax(D.state,Q,ltrAtCursor(D)));function cursorByLine(D,Q){return moveSel(D,q=>{if(!q.empty)return rangeEnd(q,Q);let X=D.moveVertically(q,Q);return X.head!=q.head?X:D.moveToLineBoundary(q,Q)})}const cursorLineUp=D=>cursorByLine(D,!1),cursorLineDown=D=>cursorByLine(D,!0);function pageHeight(D){return Math.max(D.defaultLineHeight,Math.min(D.dom.clientHeight,innerHeight)-5)}function cursorByPage(D,Q){let{state:q}=D,X=updateSel(q.selection,Y=>Y.empty?D.moveVertically(Y,Q,pageHeight(D)):rangeEnd(Y,Q));if(X.eq(q.selection))return!1;let B=D.coordsAtPos(q.selection.main.head),j=D.scrollDOM.getBoundingClientRect(),U;return B&&B.top>j.top&&B.bottom<j.bottom&&B.top-j.top<=D.scrollDOM.scrollHeight-D.scrollDOM.scrollTop-D.scrollDOM.clientHeight&&(U=EditorView.scrollIntoView(X.main.head,{y:"start",yMargin:B.top-j.top})),D.dispatch(setSel(q,X),{effects:U}),!0}const cursorPageUp=D=>cursorByPage(D,!1),cursorPageDown=D=>cursorByPage(D,!0);function moveByLineBoundary(D,Q,q){let X=D.lineBlockAt(Q.head),B=D.moveToLineBoundary(Q,q);if(B.head==Q.head&&B.head!=(q?X.to:X.from)&&(B=D.moveToLineBoundary(Q,q,!1)),!q&&B.head==X.from&&X.length){let j=/^\s*/.exec(D.state.sliceDoc(X.from,Math.min(X.from+100,X.to)))[0].length;j&&Q.head!=X.from+j&&(B=EditorSelection.cursor(X.from+j))}return B}const cursorLineBoundaryForward=D=>moveSel(D,Q=>moveByLineBoundary(D,Q,!0)),cursorLineBoundaryBackward=D=>moveSel(D,Q=>moveByLineBoundary(D,Q,!1)),cursorLineStart=D=>moveSel(D,Q=>EditorSelection.cursor(D.lineBlockAt(Q.head).from,1)),cursorLineEnd=D=>moveSel(D,Q=>EditorSelection.cursor(D.lineBlockAt(Q.head).to,-1));function toMatchingBracket(D,Q,q){let X=!1,B=updateSel(D.selection,j=>{let U=matchBrackets(D,j.head,-1)||matchBrackets(D,j.head,1)||j.head>0&&matchBrackets(D,j.head-1,1)||j.head<D.doc.length&&matchBrackets(D,j.head+1,-1);if(!U||!U.end)return j;X=!0;let Y=U.start.from==j.head?U.end.to:U.end.from;return q?EditorSelection.range(j.anchor,Y):EditorSelection.cursor(Y)});return X?(Q(setSel(D,B)),!0):!1}const cursorMatchingBracket=({state:D,dispatch:Q})=>toMatchingBracket(D,Q,!1);function extendSel(D,Q){let q=updateSel(D.state.selection,X=>{let B=Q(X);return EditorSelection.range(X.anchor,B.head,B.goalColumn)});return q.eq(D.state.selection)?!1:(D.dispatch(setSel(D.state,q)),!0)}function selectByChar(D,Q){return extendSel(D,q=>D.moveByChar(q,Q))}const selectCharLeft=D=>selectByChar(D,!ltrAtCursor(D)),selectCharRight=D=>selectByChar(D,ltrAtCursor(D));function selectByGroup(D,Q){return extendSel(D,q=>D.moveByGroup(q,Q))}const selectGroupLeft=D=>selectByGroup(D,!ltrAtCursor(D)),selectGroupRight=D=>selectByGroup(D,ltrAtCursor(D)),selectSyntaxLeft=D=>extendSel(D,Q=>moveBySyntax(D.state,Q,!ltrAtCursor(D))),selectSyntaxRight=D=>extendSel(D,Q=>moveBySyntax(D.state,Q,ltrAtCursor(D)));function selectByLine(D,Q){return extendSel(D,q=>D.moveVertically(q,Q))}const selectLineUp=D=>selectByLine(D,!1),selectLineDown=D=>selectByLine(D,!0);function selectByPage(D,Q){return extendSel(D,q=>D.moveVertically(q,Q,pageHeight(D)))}const selectPageUp=D=>selectByPage(D,!1),selectPageDown=D=>selectByPage(D,!0),selectLineBoundaryForward=D=>extendSel(D,Q=>moveByLineBoundary(D,Q,!0)),selectLineBoundaryBackward=D=>extendSel(D,Q=>moveByLineBoundary(D,Q,!1)),selectLineStart=D=>extendSel(D,Q=>EditorSelection.cursor(D.lineBlockAt(Q.head).from)),selectLineEnd=D=>extendSel(D,Q=>EditorSelection.cursor(D.lineBlockAt(Q.head).to)),cursorDocStart=({state:D,dispatch:Q})=>(Q(setSel(D,{anchor:0})),!0),cursorDocEnd=({state:D,dispatch:Q})=>(Q(setSel(D,{anchor:D.doc.length})),!0),selectDocStart=({state:D,dispatch:Q})=>(Q(setSel(D,{anchor:D.selection.main.anchor,head:0})),!0),selectDocEnd=({state:D,dispatch:Q})=>(Q(setSel(D,{anchor:D.selection.main.anchor,head:D.doc.length})),!0),selectAll=({state:D,dispatch:Q})=>(Q(D.update({selection:{anchor:0,head:D.doc.length},userEvent:"select"})),!0),selectLine=({state:D,dispatch:Q})=>{let q=selectedLineBlocks(D).map(({from:X,to:B})=>EditorSelection.range(X,Math.min(B+1,D.doc.length)));return Q(D.update({selection:EditorSelection.create(q),userEvent:"select"})),!0},selectParentSyntax=({state:D,dispatch:Q})=>{let q=updateSel(D.selection,X=>{var B;let j=syntaxTree(D).resolveInner(X.head,1);for(;!(j.from<X.from&&j.to>=X.to||j.to>X.to&&j.from<=X.from||!(!((B=j.parent)===null||B===void 0)&&B.parent));)j=j.parent;return EditorSelection.range(j.to,j.from)});return Q(setSel(D,q)),!0},simplifySelection=({state:D,dispatch:Q})=>{let q=D.selection,X=null;return q.ranges.length>1?X=EditorSelection.create([q.main]):q.main.empty||(X=EditorSelection.create([EditorSelection.cursor(q.main.head)])),X?(Q(setSel(D,X)),!0):!1};function deleteBy({state:D,dispatch:Q},q){if(D.readOnly)return!1;let X="delete.selection",B=D.changeByRange(j=>{let{from:U,to:Y}=j;if(U==Y){let G=q(U);G<U?X="delete.backward":G>U&&(X="delete.forward"),U=Math.min(U,G),Y=Math.max(Y,G)}return U==Y?{range:j}:{changes:{from:U,to:Y},range:EditorSelection.cursor(U)}});return B.changes.empty?!1:(Q(D.update(B,{scrollIntoView:!0,userEvent:X,effects:X=="delete.selection"?EditorView.announce.of(D.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(D,Q,q){if(D instanceof EditorView)for(let X of D.state.facet(EditorView.atomicRanges).map(B=>B(D)))X.between(Q,Q,(B,j)=>{B<Q&&j>Q&&(Q=q?j:B)});return Q}const deleteByChar=(D,Q)=>deleteBy(D,q=>{let{state:X}=D,B=X.doc.lineAt(q),j,U;if(!Q&&q>B.from&&q<B.from+200&&!/[^ \t]/.test(j=B.text.slice(0,q-B.from))){if(j[j.length-1]=="	")return q-1;let Y=countColumn(j,X.tabSize),G=Y%getIndentUnit(X)||getIndentUnit(X);for(let F=0;F<G&&j[j.length-1-F]==" ";F++)q--;U=q}else U=findClusterBreak(B.text,q-B.from,Q,Q)+B.from,U==q&&B.number!=(Q?X.doc.lines:1)&&(U+=Q?1:-1);return skipAtomic(D,U,Q)}),deleteCharBackward=D=>deleteByChar(D,!1),deleteCharForward=D=>deleteByChar(D,!0),deleteByGroup=(D,Q)=>deleteBy(D,q=>{let X=q,{state:B}=D,j=B.doc.lineAt(X),U=B.charCategorizer(X);for(let Y=null;;){if(X==(Q?j.to:j.from)){X==q&&j.number!=(Q?B.doc.lines:1)&&(X+=Q?1:-1);break}let G=findClusterBreak(j.text,X-j.from,Q)+j.from,F=j.text.slice(Math.min(X,G)-j.from,Math.max(X,G)-j.from),K=U(F);if(Y!=null&&K!=Y)break;(F!=" "||X!=q)&&(Y=K),X=G}return skipAtomic(D,X,Q)}),deleteGroupBackward=D=>deleteByGroup(D,!1),deleteGroupForward=D=>deleteByGroup(D,!0),deleteToLineEnd=D=>deleteBy(D,Q=>{let q=D.lineBlockAt(Q).to;return skipAtomic(D,Q<q?q:Math.min(D.state.doc.length,Q+1),!0)}),deleteToLineStart=D=>deleteBy(D,Q=>{let q=D.lineBlockAt(Q).from;return skipAtomic(D,Q>q?q:Math.max(0,Q-1),!1)}),splitLine=({state:D,dispatch:Q})=>{if(D.readOnly)return!1;let q=D.changeByRange(X=>({changes:{from:X.from,to:X.to,insert:Text.of(["",""])},range:EditorSelection.cursor(X.from)}));return Q(D.update(q,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:D,dispatch:Q})=>{if(D.readOnly)return!1;let q=D.changeByRange(X=>{if(!X.empty||X.from==0||X.from==D.doc.length)return{range:X};let B=X.from,j=D.doc.lineAt(B),U=B==j.from?B-1:findClusterBreak(j.text,B-j.from,!1)+j.from,Y=B==j.to?B+1:findClusterBreak(j.text,B-j.from,!0)+j.from;return{changes:{from:U,to:Y,insert:D.doc.slice(B,Y).append(D.doc.slice(U,B))},range:EditorSelection.cursor(Y)}});return q.changes.empty?!1:(Q(D.update(q,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(D){let Q=[],q=-1;for(let X of D.selection.ranges){let B=D.doc.lineAt(X.from),j=D.doc.lineAt(X.to);if(!X.empty&&X.to==j.from&&(j=D.doc.lineAt(X.to-1)),q>=B.number){let U=Q[Q.length-1];U.to=j.to,U.ranges.push(X)}else Q.push({from:B.from,to:j.to,ranges:[X]});q=j.number+1}return Q}function moveLine(D,Q,q){if(D.readOnly)return!1;let X=[],B=[];for(let j of selectedLineBlocks(D)){if(q?j.to==D.doc.length:j.from==0)continue;let U=D.doc.lineAt(q?j.to+1:j.from-1),Y=U.length+1;if(q){X.push({from:j.to,to:U.to},{from:j.from,insert:U.text+D.lineBreak});for(let G of j.ranges)B.push(EditorSelection.range(Math.min(D.doc.length,G.anchor+Y),Math.min(D.doc.length,G.head+Y)))}else{X.push({from:U.from,to:j.from},{from:j.to,insert:D.lineBreak+U.text});for(let G of j.ranges)B.push(EditorSelection.range(G.anchor-Y,G.head-Y))}}return X.length?(Q(D.update({changes:X,scrollIntoView:!0,selection:EditorSelection.create(B,D.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:D,dispatch:Q})=>moveLine(D,Q,!1),moveLineDown=({state:D,dispatch:Q})=>moveLine(D,Q,!0);function copyLine(D,Q,q){if(D.readOnly)return!1;let X=[];for(let B of selectedLineBlocks(D))q?X.push({from:B.from,insert:D.doc.slice(B.from,B.to)+D.lineBreak}):X.push({from:B.to,insert:D.lineBreak+D.doc.slice(B.from,B.to)});return Q(D.update({changes:X,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:D,dispatch:Q})=>copyLine(D,Q,!1),copyLineDown=({state:D,dispatch:Q})=>copyLine(D,Q,!0),deleteLine=D=>{if(D.state.readOnly)return!1;let{state:Q}=D,q=Q.changes(selectedLineBlocks(Q).map(({from:B,to:j})=>(B>0?B--:j<Q.doc.length&&j++,{from:B,to:j}))),X=updateSel(Q.selection,B=>D.moveVertically(B,!0)).map(q);return D.dispatch({changes:q,selection:X,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(D,Q){if(/\(\)|\[\]|\{\}/.test(D.sliceDoc(Q-1,Q+1)))return{from:Q,to:Q};let q=syntaxTree(D).resolveInner(Q),X=q.childBefore(Q),B=q.childAfter(Q),j;return X&&B&&X.to<=Q&&B.from>=Q&&(j=X.type.prop(NodeProp.closedBy))&&j.indexOf(B.name)>-1&&D.doc.lineAt(X.to).from==D.doc.lineAt(B.from).from?{from:X.to,to:B.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(D){return({state:Q,dispatch:q})=>{if(Q.readOnly)return!1;let X=Q.changeByRange(B=>{let{from:j,to:U}=B,Y=Q.doc.lineAt(j),G=!D&&j==U&&isBetweenBrackets(Q,j);D&&(j=U=(U<=Y.to?Y:Q.doc.lineAt(U)).to);let F=new IndentContext(Q,{simulateBreak:j,simulateDoubleBreak:!!G}),K=getIndentation(F,j);for(K==null&&(K=/^\s*/.exec(Q.doc.lineAt(j).text)[0].length);U<Y.to&&/\s/.test(Y.text[U-Y.from]);)U++;G?{from:j,to:U}=G:j>Y.from&&j<Y.from+100&&!/\S/.test(Y.text.slice(0,j))&&(j=Y.from);let J=["",indentString(Q,K)];return G&&J.push(indentString(Q,F.lineIndent(Y.from,-1))),{changes:{from:j,to:U,insert:Text.of(J)},range:EditorSelection.cursor(j+1+J[1].length)}});return q(Q.update(X,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(D,Q){let q=-1;return D.changeByRange(X=>{let B=[];for(let U=X.from;U<=X.to;){let Y=D.doc.lineAt(U);Y.number>q&&(X.empty||X.to>Y.from)&&(Q(Y,B,X),q=Y.number),U=Y.to+1}let j=D.changes(B);return{changes:B,range:EditorSelection.range(j.mapPos(X.anchor,1),j.mapPos(X.head,1))}})}const indentSelection=({state:D,dispatch:Q})=>{if(D.readOnly)return!1;let q=Object.create(null),X=new IndentContext(D,{overrideIndentation:j=>{let U=q[j];return U==null?-1:U}}),B=changeBySelectedLine(D,(j,U,Y)=>{let G=getIndentation(X,j.from);if(G==null)return;/\S/.test(j.text)||(G=0);let F=/^\s*/.exec(j.text)[0],K=indentString(D,G);(F!=K||Y.from<j.from+F.length)&&(q[j.from]=G,U.push({from:j.from,to:j.from+F.length,insert:K}))});return B.changes.empty||Q(D.update(B,{userEvent:"indent"})),!0},indentMore=({state:D,dispatch:Q})=>D.readOnly?!1:(Q(D.update(changeBySelectedLine(D,(q,X)=>{X.push({from:q.from,insert:D.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:D,dispatch:Q})=>D.readOnly?!1:(Q(D.update(changeBySelectedLine(D,(q,X)=>{let B=/^\s*/.exec(q.text)[0];if(!B)return;let j=countColumn(B,D.tabSize),U=0,Y=indentString(D,Math.max(0,j-getIndentUnit(D)));for(;U<B.length&&U<Y.length&&B.charCodeAt(U)==Y.charCodeAt(U);)U++;X.push({from:q.from+U,to:q.from+B.length,insert:Y.slice(U)})}),{userEvent:"delete.dedent"})),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteToLineStart},{mac:"Mod-Delete",run:deleteToLineEnd}].concat(emacsStyleKeymap.map(D=>({mac:D.key,run:D.run,shift:D.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment}].concat(standardKeymap);function crelt(){var D=arguments[0];typeof D=="string"&&(D=document.createElement(D));var Q=1,q=arguments[1];if(q&&typeof q=="object"&&q.nodeType==null&&!Array.isArray(q)){for(var X in q)if(Object.prototype.hasOwnProperty.call(q,X)){var B=q[X];typeof B=="string"?D.setAttribute(X,B):B!=null&&(D[X]=B)}Q++}for(;Q<arguments.length;Q++)add(D,arguments[Q]);return D}function add(D,Q){if(typeof Q=="string")D.appendChild(document.createTextNode(Q));else if(Q!=null)if(Q.nodeType!=null)D.appendChild(Q);else if(Array.isArray(Q))for(var q=0;q<Q.length;q++)add(D,Q[q]);else throw new RangeError("Unsupported child node: "+Q)}const basicNormalize=typeof String.prototype.normalize=="function"?D=>D.normalize("NFKD"):D=>D;class SearchCursor{constructor(Q,q,X=0,B=Q.length,j){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=Q.iterRange(X,B),this.bufferStart=X,this.normalize=j?U=>j(basicNormalize(U)):basicNormalize,this.query=this.normalize(q)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let Q=this.peek();if(Q<0)return this.done=!0,this;let q=fromCodePoint(Q),X=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(Q);let B=this.normalize(q);for(let j=0,U=X;;j++){let Y=B.charCodeAt(j),G=this.match(Y,U);if(G)return this.value=G,this;if(j==B.length-1)break;U==X&&j<q.length&&q.charCodeAt(j)==Y&&U++}}}match(Q,q){let X=null;for(let B=0;B<this.matches.length;B+=2){let j=this.matches[B],U=!1;this.query.charCodeAt(j)==Q&&(j==this.query.length-1?X={from:this.matches[B+1],to:q+1}:(this.matches[B]++,U=!0)),U||(this.matches.splice(B,2),B-=2)}return this.query.charCodeAt(0)==Q&&(this.query.length==1?X={from:q,to:q+1}:this.matches.push(1,q)),X}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(Q,q,X,B=0,j=Q.length){if(this.to=j,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test(q))return new MultilineRegExpCursor(Q,q,X,B,j);this.re=new RegExp(q,baseFlags+(X!=null&&X.ignoreCase?"i":"")),this.iter=Q.iter();let U=Q.lineAt(B);this.curLineStart=U.from,this.matchPos=B,this.getLine(this.curLineStart)}getLine(Q){this.iter.next(Q),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let Q=this.matchPos-this.curLineStart;;){this.re.lastIndex=Q;let q=this.matchPos<=this.to&&this.re.exec(this.curLine);if(q){let X=this.curLineStart+q.index,B=X+q[0].length;if(this.matchPos=B+(X==B?1:0),X==this.curLine.length&&this.nextLine(),X<B||X>this.value.to)return this.value={from:X,to:B,match:q},this;Q=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),Q=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(Q,q){this.from=Q,this.text=q}get to(){return this.from+this.text.length}static get(Q,q,X){let B=flattened.get(Q);if(!B||B.from>=X||B.to<=q){let Y=new FlattenedDoc(q,Q.sliceString(q,X));return flattened.set(Q,Y),Y}if(B.from==q&&B.to==X)return B;let{text:j,from:U}=B;return U>q&&(j=Q.sliceString(q,U)+j,U=q),B.to<X&&(j+=Q.sliceString(B.to,X)),flattened.set(Q,new FlattenedDoc(U,j)),new FlattenedDoc(q,j.slice(q-U,X-U))}}class MultilineRegExpCursor{constructor(Q,q,X,B,j){this.text=Q,this.to=j,this.done=!1,this.value=empty,this.matchPos=B,this.re=new RegExp(q,baseFlags+(X!=null&&X.ignoreCase?"i":"")),this.flat=FlattenedDoc.get(Q,B,this.chunkEnd(B+5e3))}chunkEnd(Q){return Q>=this.to?this.to:this.text.lineAt(Q).to}next(){for(;;){let Q=this.re.lastIndex=this.matchPos-this.flat.from,q=this.re.exec(this.flat.text);if(q&&!q[0]&&q.index==Q&&(this.re.lastIndex=Q+1,q=this.re.exec(this.flat.text)),q&&this.flat.to<this.to&&q.index+q[0].length>this.flat.text.length-10&&(q=null),q){let X=this.flat.from+q.index,B=X+q[0].length;return this.value={from:X,to:B,match:q},this.matchPos=B+(X==B?1:0),this}else{if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(D){try{return new RegExp(D,baseFlags),!0}catch{return!1}}function createLineDialog(D){let Q=crelt("input",{class:"cm-textfield",name:"line"}),q=crelt("form",{class:"cm-gotoLine",onkeydown:B=>{B.keyCode==27?(B.preventDefault(),D.dispatch({effects:dialogEffect.of(!1)}),D.focus()):B.keyCode==13&&(B.preventDefault(),X())},onsubmit:B=>{B.preventDefault(),X()}},crelt("label",D.state.phrase("Go to line"),": ",Q)," ",crelt("button",{class:"cm-button",type:"submit"},D.state.phrase("go")));function X(){let B=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(Q.value);if(!B)return;let{state:j}=D,U=j.doc.lineAt(j.selection.main.head),[,Y,G,F,K]=B,J=F?+F.slice(1):0,ee=G?+G:U.number;if(G&&K){let ne=ee/100;Y&&(ne=ne*(Y=="-"?-1:1)+U.number/j.doc.lines),ee=Math.round(j.doc.lines*ne)}else G&&Y&&(ee=ee*(Y=="-"?-1:1)+U.number);let te=j.doc.line(Math.max(1,Math.min(j.doc.lines,ee)));D.dispatch({effects:dialogEffect.of(!1),selection:EditorSelection.cursor(te.from+Math.max(0,Math.min(J,te.length))),scrollIntoView:!0}),D.focus()}return{dom:q}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(D,Q){for(let q of Q.effects)q.is(dialogEffect)&&(D=q.value);return D},provide:D=>showPanel.from(D,Q=>Q?createLineDialog:null)}),gotoLine=D=>{let Q=getPanel(D,createLineDialog);if(!Q){let q=[dialogEffect.of(!0)];D.state.field(dialogField,!1)==null&&q.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),D.dispatch({effects:q}),Q=getPanel(D,createLineDialog)}return Q&&Q.dom.querySelector("input").focus(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(D){return combineConfig(D,defaultHighlightOptions,{highlightWordAroundCursor:(Q,q)=>Q||q,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(D){let Q=[defaultTheme,matchHighlighter];return D&&Q.push(highlightConfig.of(D)),Q}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(D,Q,q,X){return(q==0||D(Q.sliceDoc(q-1,q))!=CharCategory.Word)&&(X==Q.doc.length||D(Q.sliceDoc(X,X+1))!=CharCategory.Word)}function insideWord(D,Q,q,X){return D(Q.sliceDoc(q,q+1))==CharCategory.Word&&D(Q.sliceDoc(X-1,X))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(D){this.decorations=this.getDeco(D)}update(D){(D.selectionSet||D.docChanged||D.viewportChanged)&&(this.decorations=this.getDeco(D.view))}getDeco(D){let Q=D.state.facet(highlightConfig),{state:q}=D,X=q.selection;if(X.ranges.length>1)return Decoration.none;let B=X.main,j,U=null;if(B.empty){if(!Q.highlightWordAroundCursor)return Decoration.none;let G=q.wordAt(B.head);if(!G)return Decoration.none;U=q.charCategorizer(B.head),j=q.sliceDoc(G.from,G.to)}else{let G=B.to-B.from;if(G<Q.minSelectionLength||G>200)return Decoration.none;if(Q.wholeWords){if(j=q.sliceDoc(B.from,B.to),U=q.charCategorizer(B.head),!(insideWordBoundaries(U,q,B.from,B.to)&&insideWord(U,q,B.from,B.to)))return Decoration.none}else if(j=q.sliceDoc(B.from,B.to).trim(),!j)return Decoration.none}let Y=[];for(let G of D.visibleRanges){let F=new SearchCursor(q.doc,j,G.from,G.to);for(;!F.next().done;){let{from:K,to:J}=F.value;if((!U||insideWordBoundaries(U,q,K,J))&&(B.empty&&K<=B.from&&J>=B.to?Y.push(mainMatchDeco.range(K,J)):(K>=B.to||J<=B.from)&&Y.push(matchDeco.range(K,J)),Y.length>Q.maxMatches))return Decoration.none}}return Decoration.set(Y)}},{decorations:D=>D.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:D,dispatch:Q})=>{let{selection:q}=D,X=EditorSelection.create(q.ranges.map(B=>D.wordAt(B.head)||EditorSelection.cursor(B.head)),q.mainIndex);return X.eq(q)?!1:(Q(D.update({selection:X})),!0)};function findNextOccurrence(D,Q){let{main:q,ranges:X}=D.selection,B=D.wordAt(q.head),j=B&&B.from==q.from&&B.to==q.to;for(let U=!1,Y=new SearchCursor(D.doc,Q,X[X.length-1].to);;)if(Y.next(),Y.done){if(U)return null;Y=new SearchCursor(D.doc,Q,0,Math.max(0,X[X.length-1].from-1)),U=!0}else{if(U&&X.some(G=>G.from==Y.value.from))continue;if(j){let G=D.wordAt(Y.value.from);if(!G||G.from!=Y.value.from||G.to!=Y.value.to)continue}return Y.value}}const selectNextOccurrence=({state:D,dispatch:Q})=>{let{ranges:q}=D.selection;if(q.some(j=>j.from===j.to))return selectWord({state:D,dispatch:Q});let X=D.sliceDoc(q[0].from,q[0].to);if(D.selection.ranges.some(j=>D.sliceDoc(j.from,j.to)!=X))return!1;let B=findNextOccurrence(D,X);return B?(Q(D.update({selection:D.selection.addRange(EditorSelection.range(B.from,B.to),!1),effects:EditorView.scrollIntoView(B.to)})),!0):!1},searchConfigFacet=Facet.define({combine(D){var Q;return{top:D.reduce((q,X)=>q!=null?q:X.top,void 0)||!1,caseSensitive:D.reduce((q,X)=>q!=null?q:X.caseSensitive,void 0)||!1,createPanel:((Q=D.find(q=>q.createPanel))===null||Q===void 0?void 0:Q.createPanel)||(q=>new SearchPanel(q))}}});class SearchQuery{constructor(Q){this.search=Q.search,this.caseSensitive=!!Q.caseSensitive,this.regexp=!!Q.regexp,this.replace=Q.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=Q.literal?this.search:this.search.replace(/\\([nrt\\])/g,(q,X)=>X=="n"?`
`:X=="r"?"\r":X=="t"?"	":"\\")}eq(Q){return this.search==Q.search&&this.replace==Q.replace&&this.caseSensitive==Q.caseSensitive&&this.regexp==Q.regexp}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(Q,q=0,X=Q.length){return this.regexp?regexpCursor(this,Q,q,X):stringCursor(this,Q,q,X)}}class QueryType{constructor(Q){this.spec=Q}}function stringCursor(D,Q,q,X){return new SearchCursor(Q,D.unquoted,q,X,D.caseSensitive?void 0:B=>B.toLowerCase())}class StringQuery extends QueryType{constructor(Q){super(Q)}nextMatch(Q,q,X){let B=stringCursor(this.spec,Q,X,Q.length).nextOverlapping();return B.done&&(B=stringCursor(this.spec,Q,0,q).nextOverlapping()),B.done?null:B.value}prevMatchInRange(Q,q,X){for(let B=X;;){let j=Math.max(q,B-1e4-this.spec.unquoted.length),U=stringCursor(this.spec,Q,j,B),Y=null;for(;!U.nextOverlapping().done;)Y=U.value;if(Y)return Y;if(j==q)return null;B-=1e4}}prevMatch(Q,q,X){return this.prevMatchInRange(Q,0,q)||this.prevMatchInRange(Q,X,Q.length)}getReplacement(Q){return this.spec.replace}matchAll(Q,q){let X=stringCursor(this.spec,Q,0,Q.length),B=[];for(;!X.next().done;){if(B.length>=q)return null;B.push(X.value)}return B}highlight(Q,q,X,B){let j=stringCursor(this.spec,Q,Math.max(0,q-this.spec.unquoted.length),Math.min(X+this.spec.unquoted.length,Q.length));for(;!j.next().done;)B(j.value.from,j.value.to)}}function regexpCursor(D,Q,q,X){return new RegExpCursor(Q,D.search,D.caseSensitive?void 0:{ignoreCase:!0},q,X)}class RegExpQuery extends QueryType{nextMatch(Q,q,X){let B=regexpCursor(this.spec,Q,X,Q.length).next();return B.done&&(B=regexpCursor(this.spec,Q,0,q).next()),B.done?null:B.value}prevMatchInRange(Q,q,X){for(let B=1;;B++){let j=Math.max(q,X-B*1e4),U=regexpCursor(this.spec,Q,j,X),Y=null;for(;!U.next().done;)Y=U.value;if(Y&&(j==q||Y.from>j+10))return Y;if(j==q)return null}}prevMatch(Q,q,X){return this.prevMatchInRange(Q,0,q)||this.prevMatchInRange(Q,X,Q.length)}getReplacement(Q){return this.spec.replace.replace(/\$([$&\d+])/g,(q,X)=>X=="$"?"$":X=="&"?Q.match[0]:X!="0"&&+X<Q.match.length?Q.match[X]:q)}matchAll(Q,q){let X=regexpCursor(this.spec,Q,0,Q.length),B=[];for(;!X.next().done;){if(B.length>=q)return null;B.push(X.value)}return B}highlight(Q,q,X,B){let j=regexpCursor(this.spec,Q,Math.max(0,q-250),Math.min(X+250,Q.length));for(;!j.next().done;)B(j.value.from,j.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(D){return new SearchState(defaultQuery(D).create(),null)},update(D,Q){for(let q of Q.effects)q.is(setSearchQuery)?D=new SearchState(q.value.create(),D.panel):q.is(togglePanel$1)&&(D=new SearchState(D.query,q.value?createSearchPanel:null));return D},provide:D=>showPanel.from(D,Q=>Q.panel)});class SearchState{constructor(Q,q){this.query=Q,this.panel=q}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(D){this.view=D,this.decorations=this.highlight(D.state.field(searchState))}update(D){let Q=D.state.field(searchState);(Q!=D.startState.field(searchState)||D.docChanged||D.selectionSet||D.viewportChanged)&&(this.decorations=this.highlight(Q))}highlight({query:D,panel:Q}){if(!Q||!D.spec.valid)return Decoration.none;let{view:q}=this,X=new RangeSetBuilder;for(let B=0,j=q.visibleRanges,U=j.length;B<U;B++){let{from:Y,to:G}=j[B];for(;B<U-1&&G>j[B+1].from-2*250;)G=j[++B].to;D.highlight(q.state.doc,Y,G,(F,K)=>{let J=q.state.selection.ranges.some(ee=>ee.from==F&&ee.to==K);X.add(F,K,J?selectedMatchMark:matchMark)})}return X.finish()}},{decorations:D=>D.decorations});function searchCommand(D){return Q=>{let q=Q.state.field(searchState,!1);return q&&q.query.spec.valid?D(Q,q):openSearchPanel(Q)}}const findNext=searchCommand((D,{query:Q})=>{let{to:q}=D.state.selection.main,X=Q.nextMatch(D.state.doc,q,q);return X?(D.dispatch({selection:{anchor:X.from,head:X.to},scrollIntoView:!0,effects:announceMatch(D,X),userEvent:"select.search"}),!0):!1}),findPrevious=searchCommand((D,{query:Q})=>{let{state:q}=D,{from:X}=q.selection.main,B=Q.prevMatch(q.doc,X,X);return B?(D.dispatch({selection:{anchor:B.from,head:B.to},scrollIntoView:!0,effects:announceMatch(D,B),userEvent:"select.search"}),!0):!1}),selectMatches=searchCommand((D,{query:Q})=>{let q=Q.matchAll(D.state.doc,1e3);return!q||!q.length?!1:(D.dispatch({selection:EditorSelection.create(q.map(X=>EditorSelection.range(X.from,X.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:D,dispatch:Q})=>{let q=D.selection;if(q.ranges.length>1||q.main.empty)return!1;let{from:X,to:B}=q.main,j=[],U=0;for(let Y=new SearchCursor(D.doc,D.sliceDoc(X,B));!Y.next().done;){if(j.length>1e3)return!1;Y.value.from==X&&(U=j.length),j.push(EditorSelection.range(Y.value.from,Y.value.to))}return Q(D.update({selection:EditorSelection.create(j,U),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((D,{query:Q})=>{let{state:q}=D,{from:X,to:B}=q.selection.main;if(q.readOnly)return!1;let j=Q.nextMatch(q.doc,X,X);if(!j)return!1;let U=[],Y,G,F=[];if(j.from==X&&j.to==B&&(G=q.toText(Q.getReplacement(j)),U.push({from:j.from,to:j.to,insert:G}),j=Q.nextMatch(q.doc,j.from,j.to),F.push(EditorView.announce.of(q.phrase("replaced match on line $",q.doc.lineAt(X).number)+"."))),j){let K=U.length==0||U[0].from>=j.to?0:j.to-j.from-G.length;Y={anchor:j.from-K,head:j.to-K},F.push(announceMatch(D,j))}return D.dispatch({changes:U,selection:Y,scrollIntoView:!!Y,effects:F,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((D,{query:Q})=>{if(D.state.readOnly)return!1;let q=Q.matchAll(D.state.doc,1e9).map(B=>{let{from:j,to:U}=B;return{from:j,to:U,insert:Q.getReplacement(B)}});if(!q.length)return!1;let X=D.state.phrase("replaced $ matches",q.length)+".";return D.dispatch({changes:q,effects:EditorView.announce.of(X),userEvent:"input.replace.all"}),!0});function createSearchPanel(D){return D.state.facet(searchConfigFacet).createPanel(D)}function defaultQuery(D,Q){var q;let X=D.selection.main,B=X.empty||X.to>X.from+100?"":D.sliceDoc(X.from,X.to),j=(q=Q==null?void 0:Q.caseSensitive)!==null&&q!==void 0?q:D.facet(searchConfigFacet).caseSensitive;return Q&&!B?Q:new SearchQuery({search:B.replace(/\n/g,"\\n"),caseSensitive:j})}const openSearchPanel=D=>{let Q=D.state.field(searchState,!1);if(Q&&Q.panel){let q=getPanel(D,createSearchPanel);if(!q)return!1;let X=q.dom.querySelector("[main-field]");if(X&&X!=D.root.activeElement){let B=defaultQuery(D.state,Q.query.spec);B.valid&&D.dispatch({effects:setSearchQuery.of(B)}),X.focus(),X.select()}}else D.dispatch({effects:[togglePanel$1.of(!0),Q?setSearchQuery.of(defaultQuery(D.state,Q.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=D=>{let Q=D.state.field(searchState,!1);if(!Q||!Q.panel)return!1;let q=getPanel(D,createSearchPanel);return q&&q.dom.contains(D.root.activeElement)&&D.focus(),D.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(Q){this.view=Q;let q=this.query=Q.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:q.search,placeholder:phrase(Q,"Find"),"aria-label":phrase(Q,"Find"),class:"cm-textfield",name:"search","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:q.replace,placeholder:phrase(Q,"Replace"),"aria-label":phrase(Q,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",checked:q.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",checked:q.regexp,onchange:this.commit});function X(B,j,U){return crelt("button",{class:"cm-button",name:B,onclick:j,type:"button"},U)}this.dom=crelt("div",{onkeydown:B=>this.keydown(B),class:"cm-search"},[this.searchField,X("next",()=>findNext(Q),[phrase(Q,"next")]),X("prev",()=>findPrevious(Q),[phrase(Q,"previous")]),X("select",()=>selectMatches(Q),[phrase(Q,"all")]),crelt("label",null,[this.caseField,phrase(Q,"match case")]),crelt("label",null,[this.reField,phrase(Q,"regexp")]),...Q.state.readOnly?[]:[crelt("br"),this.replaceField,X("replace",()=>replaceNext(Q),[phrase(Q,"replace")]),X("replaceAll",()=>replaceAll(Q),[phrase(Q,"replace all")]),crelt("button",{name:"close",onclick:()=>closeSearchPanel(Q),"aria-label":phrase(Q,"close"),type:"button"},["\xD7"])]])}commit(){let Q=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});Q.eq(this.query)||(this.query=Q,this.view.dispatch({effects:setSearchQuery.of(Q)}))}keydown(Q){runScopeHandlers(this.view,Q,"search-panel")?Q.preventDefault():Q.keyCode==13&&Q.target==this.searchField?(Q.preventDefault(),(Q.shiftKey?findPrevious:findNext)(this.view)):Q.keyCode==13&&Q.target==this.replaceField&&(Q.preventDefault(),replaceNext(this.view))}update(Q){for(let q of Q.transactions)for(let X of q.effects)X.is(setSearchQuery)&&!X.value.eq(this.query)&&this.setQuery(X.value)}setQuery(Q){this.query=Q,this.searchField.value=Q.search,this.replaceField.value=Q.replace,this.caseField.checked=Q.caseSensitive,this.reField.checked=Q.regexp}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(D,Q){return D.state.phrase(Q)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(D,{from:Q,to:q}){let X=D.state.doc.lineAt(Q),B=D.state.doc.lineAt(q).to,j=Math.max(X.from,Q-AnnounceMargin),U=Math.min(B,q+AnnounceMargin),Y=D.state.sliceDoc(j,U);if(j!=X.from){for(let G=0;G<AnnounceMargin;G++)if(!Break.test(Y[G+1])&&Break.test(Y[G])){Y=Y.slice(G);break}}if(U!=B){for(let G=Y.length-1;G>Y.length-AnnounceMargin;G--)if(!Break.test(Y[G-1])&&Break.test(Y[G])){Y=Y.slice(0,G);break}}return EditorView.announce.of(`${D.state.phrase("current match")}. ${Y} ${D.state.phrase("on line")} ${X.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.lowest(searchHighlighter),baseTheme$2];class CompletionContext{constructor(Q,q,X){this.state=Q,this.pos=q,this.explicit=X,this.abortListeners=[]}tokenBefore(Q){let q=syntaxTree(this.state).resolveInner(this.pos,-1);for(;q&&Q.indexOf(q.name)<0;)q=q.parent;return q?{from:q.from,to:this.pos,text:this.state.sliceDoc(q.from,this.pos),type:q.type}:null}matchBefore(Q){let q=this.state.doc.lineAt(this.pos),X=Math.max(q.from,this.pos-250),B=q.text.slice(X-q.from,this.pos-q.from),j=B.search(ensureAnchor(Q,!1));return j<0?null:{from:X+j,to:this.pos,text:B.slice(j)}}get aborted(){return this.abortListeners==null}addEventListener(Q,q){Q=="abort"&&this.abortListeners&&this.abortListeners.push(q)}}function toSet(D){let Q=Object.keys(D).join(""),q=/\w/.test(Q);return q&&(Q=Q.replace(/\w/g,"")),`[${q?"\\w":""}${Q.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(D){let Q=Object.create(null),q=Object.create(null);for(let{label:B}of D){Q[B[0]]=!0;for(let j=1;j<B.length;j++)q[B[j]]=!0}let X=toSet(Q)+toSet(q)+"*$";return[new RegExp("^"+X),new RegExp(X)]}function completeFromList(D){let Q=D.map(B=>typeof B=="string"?{label:B}:B),[q,X]=Q.every(B=>/^\w+$/.test(B.label))?[/\w*$/,/\w+$/]:prefixMatch(Q);return B=>{let j=B.matchBefore(X);return j||B.explicit?{from:j?j.from:B.pos,options:Q,validFor:q}:null}}function ifNotIn(D,Q){return q=>{for(let X=syntaxTree(q.state).resolveInner(q.pos,-1);X;X=X.parent)if(D.indexOf(X.name)>-1)return null;return Q(q)}}class Option{constructor(Q,q,X){this.completion=Q,this.source=q,this.match=X}}function cur(D){return D.selection.main.head}function ensureAnchor(D,Q){var q;let{source:X}=D,B=Q&&X[0]!="^",j=X[X.length-1]!="$";return!B&&!j?D:new RegExp(`${B?"^":""}(?:${X})${j?"$":""}`,(q=D.flags)!==null&&q!==void 0?q:D.ignoreCase?"i":"")}function insertCompletionText(D,Q,q,X){return Object.assign(Object.assign({},D.changeByRange(B=>{if(B==D.selection.main)return{changes:{from:q,to:X,insert:Q},range:EditorSelection.cursor(q+Q.length)};let j=X-q;return!B.empty||j&&D.sliceDoc(B.from-j,B.from)!=D.sliceDoc(q,X)?{range:B}:{changes:{from:B.from-j,to:B.from,insert:Q},range:EditorSelection.cursor(B.from-j+Q.length)}})),{userEvent:"input.complete"})}function applyCompletion(D,Q){const q=Q.completion.apply||Q.completion.label;let X=Q.source;typeof q=="string"?D.dispatch(insertCompletionText(D.state,q,X.from,X.to)):q(D,Q.completion,X.from,X.to)}const SourceCache=new WeakMap;function asSource(D){if(!Array.isArray(D))return D;let Q=SourceCache.get(D);return Q||SourceCache.set(D,Q=completeFromList(D)),Q}class FuzzyMatcher{constructor(Q){this.pattern=Q,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let q=0;q<Q.length;){let X=codePointAt(Q,q),B=codePointSize(X);this.chars.push(X);let j=Q.slice(q,q+B),U=j.toUpperCase();this.folded.push(codePointAt(U==j?j.toLowerCase():U,0)),q+=B}this.astral=Q.length!=this.chars.length}match(Q){if(this.pattern.length==0)return[0];if(Q.length<this.pattern.length)return null;let{chars:q,folded:X,any:B,precise:j,byWord:U}=this;if(q.length==1){let ce=codePointAt(Q,0);return ce==q[0]?[0,0,codePointSize(ce)]:ce==X[0]?[-200,0,codePointSize(ce)]:null}let Y=Q.indexOf(this.pattern);if(Y==0)return[0,0,this.pattern.length];let G=q.length,F=0;if(Y<0){for(let ce=0,le=Math.min(Q.length,200);ce<le&&F<G;){let ae=codePointAt(Q,ce);(ae==q[F]||ae==X[F])&&(B[F++]=ce),ce+=codePointSize(ae)}if(F<G)return null}let K=0,J=0,ee=!1,te=0,ne=-1,re=-1,se=/[a-z]/.test(Q),oe=!0;for(let ce=0,le=Math.min(Q.length,200),ae=0;ce<le&&J<G;){let he=codePointAt(Q,ce);Y<0&&(K<G&&he==q[K]&&(j[K++]=ce),te<G&&(he==q[te]||he==X[te]?(te==0&&(ne=ce),re=ce+1,te++):te=0));let de,ue=he<255?he>=48&&he<=57||he>=97&&he<=122?2:he>=65&&he<=90?1:0:(de=fromCodePoint(he))!=de.toLowerCase()?1:de!=de.toUpperCase()?2:0;(!ce||ue==1&&se||ae==0&&ue!=0)&&(q[J]==he||X[J]==he&&(ee=!0)?U[J++]=ce:U.length&&(oe=!1)),ae=ue,ce+=codePointSize(he)}return J==G&&U[0]==0&&oe?this.result(-100+(ee?-200:0),U,Q):te==G&&ne==0?[-200-Q.length,0,re]:Y>-1?[-700-Q.length,Y,Y+this.pattern.length]:te==G?[-200+-700-Q.length,ne,re]:J==G?this.result(-100+(ee?-200:0)+-700+(oe?0:-1100),U,Q):q.length==2?null:this.result((B[0]?-700:0)+-200+-1100,B,Q)}result(Q,q,X){let B=[Q-X.length],j=1;for(let U of q){let Y=U+(this.astral?codePointSize(codePointAt(X,U)):1);j>1&&B[j-1]==U?B[j-1]=Y:(B[j++]=U,B[j++]=Y)}return B}}const completionConfig=Facet.define({combine(D){return combineConfig(D,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(Q,q)=>Q.label.localeCompare(q.label)},{defaultKeymap:(Q,q)=>Q&&q,closeOnBlur:(Q,q)=>Q&&q,icons:(Q,q)=>Q&&q,optionClass:(Q,q)=>X=>joinClass(Q(X),q(X)),addToOptions:(Q,q)=>Q.concat(q)})}});function joinClass(D,Q){return D?Q?D+" "+Q:D:Q}function optionContent(D){let Q=D.addToOptions.slice();return D.icons&&Q.push({render(q){let X=document.createElement("div");return X.classList.add("cm-completionIcon"),q.type&&X.classList.add(...q.type.split(/\s+/g).map(B=>"cm-completionIcon-"+B)),X.setAttribute("aria-hidden","true"),X},position:20}),Q.push({render(q,X,B){let j=document.createElement("span");j.className="cm-completionLabel";let{label:U}=q,Y=0;for(let G=1;G<B.length;){let F=B[G++],K=B[G++];F>Y&&j.appendChild(document.createTextNode(U.slice(Y,F)));let J=j.appendChild(document.createElement("span"));J.appendChild(document.createTextNode(U.slice(F,K))),J.className="cm-completionMatchedText",Y=K}return Y<U.length&&j.appendChild(document.createTextNode(U.slice(Y))),j},position:50},{render(q){if(!q.detail)return null;let X=document.createElement("span");return X.className="cm-completionDetail",X.textContent=q.detail,X},position:80}),Q.sort((q,X)=>q.position-X.position).map(q=>q.render)}function rangeAroundSelected(D,Q,q){if(D<=q)return{from:0,to:D};if(Q<0&&(Q=0),Q<=D>>1){let B=Math.floor(Q/q);return{from:B*q,to:(B+1)*q}}let X=Math.floor((D-Q)/q);return{from:D-(X+1)*q,to:D-X*q}}class CompletionTooltip{constructor(Q,q){this.view=Q,this.stateField=q,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:Y=>this.positionInfo(Y),key:this};let X=Q.state.field(q),{options:B,selected:j}=X.open,U=Q.state.facet(completionConfig);this.optionContent=optionContent(U),this.optionClass=U.optionClass,this.range=rangeAroundSelected(B.length,j,U.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",Y=>{for(let G=Y.target,F;G&&G!=this.dom;G=G.parentNode)if(G.nodeName=="LI"&&(F=/-(\d+)$/.exec(G.id))&&+F[1]<B.length){applyCompletion(Q,B[+F[1]]),Y.preventDefault();return}}),this.list=this.dom.appendChild(this.createListBox(B,X.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(Q){Q.state.field(this.stateField)!=Q.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let Q=this.view.state.field(this.stateField),q=Q.open;if((q.selected<this.range.from||q.selected>=this.range.to)&&(this.range=rangeAroundSelected(q.options.length,q.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(q.options,Q.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(q.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:X}=q.options[q.selected],{info:B}=X;if(!B)return;let j=typeof B=="string"?document.createTextNode(B):B(X);if(!j)return;"then"in j?j.then(U=>{U&&this.view.state.field(this.stateField,!1)==Q&&this.addInfoPane(U)}).catch(U=>logException(this.view.state,U,"completion info")):this.addInfoPane(j)}}addInfoPane(Q){let q=this.info=document.createElement("div");q.className="cm-tooltip cm-completionInfo",q.appendChild(Q),this.dom.appendChild(q),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(Q){let q=null;for(let X=this.list.firstChild,B=this.range.from;X;X=X.nextSibling,B++)B==Q?X.hasAttribute("aria-selected")||(X.setAttribute("aria-selected","true"),q=X):X.hasAttribute("aria-selected")&&X.removeAttribute("aria-selected");return q&&scrollIntoView$1(this.list,q),q}measureInfo(){let Q=this.dom.querySelector("[aria-selected]");if(!Q||!this.info)return null;let q=this.dom.getBoundingClientRect(),X=this.info.getBoundingClientRect(),B=Q.getBoundingClientRect();if(B.top>Math.min(innerHeight,q.bottom)-10||B.bottom<Math.max(0,q.top)+10)return null;let j=Math.max(0,Math.min(B.top,innerHeight-X.height))-q.top,U=this.view.textDirection==Direction.RTL,Y=q.left,G=innerWidth-q.right;return U&&Y<Math.min(X.width,G)?U=!1:!U&&G<Math.min(X.width,Y)&&(U=!0),{top:j,left:U}}positionInfo(Q){this.info&&(this.info.style.top=(Q?Q.top:-1e6)+"px",Q&&(this.info.classList.toggle("cm-completionInfo-left",Q.left),this.info.classList.toggle("cm-completionInfo-right",!Q.left)))}createListBox(Q,q,X){const B=document.createElement("ul");B.id=q,B.setAttribute("role","listbox"),B.setAttribute("aria-expanded","true"),B.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let j=X.from;j<X.to;j++){let{completion:U,match:Y}=Q[j];const G=B.appendChild(document.createElement("li"));G.id=q+"-"+j,G.setAttribute("role","option");let F=this.optionClass(U);F&&(G.className=F);for(let K of this.optionContent){let J=K(U,this.view.state,Y);J&&G.appendChild(J)}}return X.from&&B.classList.add("cm-completionListIncompleteTop"),X.to<Q.length&&B.classList.add("cm-completionListIncompleteBottom"),B}}function completionTooltip(D){return Q=>new CompletionTooltip(Q,D)}function scrollIntoView$1(D,Q){let q=D.getBoundingClientRect(),X=Q.getBoundingClientRect();X.top<q.top?D.scrollTop-=q.top-X.top:X.bottom>q.bottom&&(D.scrollTop+=X.bottom-q.bottom)}function score(D){return(D.boost||0)*100+(D.apply?10:0)+(D.info?5:0)+(D.type?1:0)}function sortOptions(D,Q){let q=[],X=0;for(let Y of D)if(Y.hasResult())if(Y.result.filter===!1){let G=Y.result.getMatch;for(let F of Y.result.options){let K=[1e9-X++];if(G)for(let J of G(F))K.push(J);q.push(new Option(F,Y,K))}}else{let G=new FuzzyMatcher(Q.sliceDoc(Y.from,Y.to)),F;for(let K of Y.result.options)(F=G.match(K.label))&&(K.boost!=null&&(F[0]+=K.boost),q.push(new Option(K,Y,F)))}let B=[],j=null,U=Q.facet(completionConfig).compareCompletions;for(let Y of q.sort((G,F)=>F.match[0]-G.match[0]||U(G.completion,F.completion)))!j||j.label!=Y.completion.label||j.detail!=Y.completion.detail||j.type!=null&&Y.completion.type!=null&&j.type!=Y.completion.type||j.apply!=Y.completion.apply?B.push(Y):score(Y.completion)>score(j)&&(B[B.length-1]=Y),j=Y.completion;return B}class CompletionDialog{constructor(Q,q,X,B,j){this.options=Q,this.attrs=q,this.tooltip=X,this.timestamp=B,this.selected=j}setSelected(Q,q){return Q==this.selected||Q>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(q,Q),this.tooltip,this.timestamp,Q)}static build(Q,q,X,B,j){let U=sortOptions(Q,q);if(!U.length)return null;let Y=q.facet(completionConfig).selectOnOpen?0:-1;if(B&&B.selected!=Y&&B.selected!=-1){let G=B.options[B.selected].completion;for(let F=0;F<U.length;F++)if(U[F].completion==G){Y=F;break}}return new CompletionDialog(U,makeAttrs(X,Y),{pos:Q.reduce((G,F)=>F.hasResult()?Math.min(G,F.from):G,1e8),create:completionTooltip(completionState),above:j.aboveCursor},B?B.timestamp:Date.now(),Y)}map(Q){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:Q.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class CompletionState{constructor(Q,q,X){this.active=Q,this.id=q,this.open=X}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(Q){let{state:q}=Q,X=q.facet(completionConfig),j=(X.override||q.languageDataAt("autocomplete",cur(q)).map(asSource)).map(Y=>(this.active.find(F=>F.source==Y)||new ActiveSource(Y,this.active.some(F=>F.state!=0)?1:0)).update(Q,X));j.length==this.active.length&&j.every((Y,G)=>Y==this.active[G])&&(j=this.active);let U=Q.selection||j.some(Y=>Y.hasResult()&&Q.changes.touchesRange(Y.from,Y.to))||!sameResults(j,this.active)?CompletionDialog.build(j,q,this.id,this.open,X):this.open&&Q.docChanged?this.open.map(Q.changes):this.open;!U&&j.every(Y=>Y.state!=1)&&j.some(Y=>Y.hasResult())&&(j=j.map(Y=>Y.hasResult()?new ActiveSource(Y.source,0):Y));for(let Y of Q.effects)Y.is(setSelectedEffect)&&(U=U&&U.setSelected(Y.value,this.id));return j==this.active&&U==this.open?this:new CompletionState(j,this.id,U)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:baseAttrs}}function sameResults(D,Q){if(D==Q)return!0;for(let q=0,X=0;;){for(;q<D.length&&!D[q].hasResult;)q++;for(;X<Q.length&&!Q[X].hasResult;)X++;let B=q==D.length,j=X==Q.length;if(B||j)return B==j;if(D[q++].result!=Q[X++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"};function makeAttrs(D,Q){let q={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":D};return Q>-1&&(q["aria-activedescendant"]=D+"-"+Q),q}const none=[];function getUserEvent(D){return D.isUserEvent("input.type")?"input":D.isUserEvent("delete.backward")?"delete":null}class ActiveSource{constructor(Q,q,X=-1){this.source=Q,this.state=q,this.explicitPos=X}hasResult(){return!1}update(Q,q){let X=getUserEvent(Q),B=this;X?B=B.handleUserEvent(Q,X,q):Q.docChanged?B=B.handleChange(Q):Q.selection&&B.state!=0&&(B=new ActiveSource(B.source,0));for(let j of Q.effects)if(j.is(startCompletionEffect))B=new ActiveSource(B.source,1,j.value?cur(Q.state):-1);else if(j.is(closeCompletionEffect))B=new ActiveSource(B.source,0);else if(j.is(setActiveEffect))for(let U of j.value)U.source==B.source&&(B=U);return B}handleUserEvent(Q,q,X){return q=="delete"||!X.activateOnTyping?this.map(Q.changes):new ActiveSource(this.source,1)}handleChange(Q){return Q.changes.touchesRange(cur(Q.startState))?new ActiveSource(this.source,0):this.map(Q.changes)}map(Q){return Q.empty||this.explicitPos<0?this:new ActiveSource(this.source,this.state,Q.mapPos(this.explicitPos))}}class ActiveResult extends ActiveSource{constructor(Q,q,X,B,j){super(Q,2,q),this.result=X,this.from=B,this.to=j}hasResult(){return!0}handleUserEvent(Q,q,X){var B;let j=Q.changes.mapPos(this.from),U=Q.changes.mapPos(this.to,1),Y=cur(Q.state);if((this.explicitPos<0?Y<=j:Y<this.from)||Y>U||q=="delete"&&cur(Q.startState)==this.from)return new ActiveSource(this.source,q=="input"&&X.activateOnTyping?1:0);let G=this.explicitPos<0?-1:Q.changes.mapPos(this.explicitPos),F;return checkValid(this.result.validFor,Q.state,j,U)?new ActiveResult(this.source,G,this.result,j,U):this.result.update&&(F=this.result.update(this.result,j,U,new CompletionContext(Q.state,Y,G>=0)))?new ActiveResult(this.source,G,F,F.from,(B=F.to)!==null&&B!==void 0?B:cur(Q.state)):new ActiveSource(this.source,1,G)}handleChange(Q){return Q.changes.touchesRange(this.from,this.to)?new ActiveSource(this.source,0):this.map(Q.changes)}map(Q){return Q.empty?this:new ActiveResult(this.source,this.explicitPos<0?-1:Q.mapPos(this.explicitPos),this.result,Q.mapPos(this.from),Q.mapPos(this.to,1))}}function checkValid(D,Q,q,X){if(!D)return!1;let B=Q.sliceDoc(q,X);return typeof D=="function"?D(B,q,X,Q):ensureAnchor(D,!0).test(B)}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define(),setActiveEffect=StateEffect.define({map(D,Q){return D.map(q=>q.map(Q))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(D,Q){return D.update(Q)},provide:D=>[showTooltip.from(D,Q=>Q.tooltip),EditorView.contentAttributes.from(D,Q=>Q.attrs)]}),CompletionInteractMargin=75;function moveCompletionSelection(D,Q="option"){return q=>{let X=q.state.field(completionState,!1);if(!X||!X.open||Date.now()-X.open.timestamp<CompletionInteractMargin)return!1;let B=1,j;Q=="page"&&(j=getTooltip(q,X.open.tooltip))&&(B=Math.max(2,Math.floor(j.dom.offsetHeight/j.dom.querySelector("li").offsetHeight)-1));let{length:U}=X.open.options,Y=X.open.selected>-1?X.open.selected+B*(D?1:-1):D?0:U-1;return Y<0?Y=Q=="page"?0:U-1:Y>=U&&(Y=Q=="page"?U-1:0),q.dispatch({effects:setSelectedEffect.of(Y)}),!0}}const acceptCompletion=D=>{let Q=D.state.field(completionState,!1);return D.state.readOnly||!Q||!Q.open||Date.now()-Q.open.timestamp<CompletionInteractMargin||Q.open.selected<0?!1:(applyCompletion(D,Q.open.options[Q.open.selected]),!0)},startCompletion=D=>D.state.field(completionState,!1)?(D.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=D=>{let Q=D.state.field(completionState,!1);return!Q||!Q.active.some(q=>q.state!=0)?!1:(D.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(Q,q){this.active=Q,this.context=q,this.time=Date.now(),this.updates=[],this.done=void 0}}const DebounceTime=50,MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(D){this.view=D,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let Q of D.state.field(completionState).active)Q.state==1&&this.startQuery(Q)}update(D){let Q=D.state.field(completionState);if(!D.selectionSet&&!D.docChanged&&D.startState.field(completionState)==Q)return;let q=D.transactions.some(X=>(X.selection||X.docChanged)&&!getUserEvent(X));for(let X=0;X<this.running.length;X++){let B=this.running[X];if(q||B.updates.length+D.transactions.length>MaxUpdateCount&&Date.now()-B.time>MinAbortTime){for(let j of B.context.abortListeners)try{j()}catch(U){logException(this.view.state,U)}B.context.abortListeners=null,this.running.splice(X--,1)}else B.updates.push(...D.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=Q.active.some(X=>X.state==1&&!this.running.some(B=>B.active.source==X.source))?setTimeout(()=>this.startUpdate(),DebounceTime):-1,this.composing!=0)for(let X of D.transactions)getUserEvent(X)=="input"?this.composing=2:this.composing==2&&X.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:D}=this.view,Q=D.field(completionState);for(let q of Q.active)q.state==1&&!this.running.some(X=>X.active.source==q.source)&&this.startQuery(q)}startQuery(D){let{state:Q}=this.view,q=cur(Q),X=new CompletionContext(Q,q,D.explicitPos==q),B=new RunningQuery(D,X);this.running.push(B),Promise.resolve(D.source(X)).then(j=>{B.context.aborted||(B.done=j||null,this.scheduleAccept())},j=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,j)})}scheduleAccept(){this.running.every(D=>D.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),DebounceTime))}accept(){var D;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let Q=[],q=this.view.state.facet(completionConfig);for(let X=0;X<this.running.length;X++){let B=this.running[X];if(B.done===void 0)continue;if(this.running.splice(X--,1),B.done){let U=new ActiveResult(B.active.source,B.active.explicitPos,B.done,B.done.from,(D=B.done.to)!==null&&D!==void 0?D:cur(B.updates.length?B.updates[0].startState:this.view.state));for(let Y of B.updates)U=U.update(Y,q);if(U.hasResult()){Q.push(U);continue}}let j=this.view.state.field(completionState).active.find(U=>U.source==B.active.source);if(j&&j.state==1)if(B.done==null){let U=new ActiveSource(B.active.source,0);for(let Y of B.updates)U=U.update(Y,q);U.state!=1&&Q.push(U)}else this.startQuery(j)}Q.length&&this.view.dispatch({effects:setActiveEffect.of(Q)})}},{eventHandlers:{blur(){let D=this.view.state.field(completionState,!1);D&&D.tooltip&&this.view.state.facet(completionConfig).closeOnBlur&&this.view.dispatch({effects:closeCompletionEffect.of(null)})},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(Q,q,X,B){this.field=Q,this.line=q,this.from=X,this.to=B}}class FieldRange{constructor(Q,q,X){this.field=Q,this.from=q,this.to=X}map(Q){let q=Q.mapPos(this.from,-1,MapMode.TrackDel),X=Q.mapPos(this.to,1,MapMode.TrackDel);return q==null||X==null?null:new FieldRange(this.field,q,X)}}class Snippet{constructor(Q,q){this.lines=Q,this.fieldPositions=q}instantiate(Q,q){let X=[],B=[q],j=Q.doc.lineAt(q),U=/^\s*/.exec(j.text)[0];for(let G of this.lines){if(X.length){let F=U,K=/^\t*/.exec(G)[0].length;for(let J=0;J<K;J++)F+=Q.facet(indentUnit);B.push(q+F.length-K),G=F+G.slice(K)}X.push(G),q+=G.length+1}let Y=this.fieldPositions.map(G=>new FieldRange(G.field,B[G.line]+G.from,B[G.line]+G.to));return{text:X,ranges:Y}}static parse(Q){let q=[],X=[],B=[],j;for(let U of Q.split(/\r\n?|\n/)){for(;j=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(U);){let Y=j[1]?+j[1]:null,G=j[2]||j[3]||"",F=-1;for(let K=0;K<q.length;K++)(Y!=null?q[K].seq==Y:G?q[K].name==G:!1)&&(F=K);if(F<0){let K=0;for(;K<q.length&&(Y==null||q[K].seq!=null&&q[K].seq<Y);)K++;q.splice(K,0,{seq:Y,name:G}),F=K;for(let J of B)J.field>=F&&J.field++}B.push(new FieldPos(F,X.length,j.index,j.index+G.length)),U=U.slice(0,j.index)+G+U.slice(j.index+j[0].length)}for(let Y;Y=/([$#])\\{/.exec(U);){U=U.slice(0,Y.index)+Y[1]+"{"+U.slice(Y.index+Y[0].length);for(let G of B)G.line==X.length&&G.from>Y.index&&(G.from--,G.to--)}X.push(U)}return new Snippet(X,B)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let D=document.createElement("span");return D.className="cm-snippetFieldPosition",D}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(Q,q){this.ranges=Q,this.active=q,this.deco=Decoration.set(Q.map(X=>(X.from==X.to?fieldMarker:fieldRange).range(X.from,X.to)))}map(Q){let q=[];for(let X of this.ranges){let B=X.map(Q);if(!B)return null;q.push(B)}return new ActiveSnippet(q,this.active)}selectionInsideField(Q){return Q.ranges.every(q=>this.ranges.some(X=>X.field==this.active&&X.from<=q.from&&X.to>=q.to))}}const setActive=StateEffect.define({map(D,Q){return D&&D.map(Q)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(D,Q){for(let q of Q.effects){if(q.is(setActive))return q.value;if(q.is(moveToField)&&D)return new ActiveSnippet(D.ranges,q.value)}return D&&Q.docChanged&&(D=D.map(Q.changes)),D&&Q.selection&&!D.selectionInsideField(Q.selection)&&(D=null),D},provide:D=>EditorView.decorations.from(D,Q=>Q?Q.deco:Decoration.none)});function fieldSelection(D,Q){return EditorSelection.create(D.filter(q=>q.field==Q).map(q=>EditorSelection.range(q.from,q.to)))}function snippet(D){let Q=Snippet.parse(D);return(q,X,B,j)=>{let{text:U,ranges:Y}=Q.instantiate(q.state,B),G={changes:{from:B,to:j,insert:Text.of(U)},scrollIntoView:!0};if(Y.length&&(G.selection=fieldSelection(Y,0)),Y.length>1){let F=new ActiveSnippet(Y,0),K=G.effects=[setActive.of(F)];q.state.field(snippetState,!1)===void 0&&K.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}q.dispatch(q.state.update(G))}}function moveField(D){return({state:Q,dispatch:q})=>{let X=Q.field(snippetState,!1);if(!X||D<0&&X.active==0)return!1;let B=X.active+D,j=D>0&&!X.ranges.some(U=>U.field==B+D);return q(Q.update({selection:fieldSelection(X.ranges,B),effects:setActive.of(j?null:new ActiveSnippet(X.ranges,B))})),!0}}const clearSnippet=({state:D,dispatch:Q})=>D.field(snippetState,!1)?(Q(D.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(D){return D.length?D[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],D=>D.facet(snippetKeymap)));function snippetCompletion(D,Q){return Object.assign(Object.assign({},Q),{apply:snippet(D)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(D,Q){let q=Q.state.field(snippetState,!1),X;if(!q||(X=Q.posAtCoords({x:D.clientX,y:D.clientY}))==null)return!1;let B=q.ranges.find(j=>j.from<=X&&j.to>=X);return!B||B.field==q.active?!1:(Q.dispatch({selection:fieldSelection(q.ranges,B.field),effects:setActive.of(q.ranges.some(j=>j.field>B.field)?new ActiveSnippet(q.ranges,B.field):null)}),!0)}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>"},closeBracketEffect=StateEffect.define({map(D,Q){let q=Q.mapPos(D,-1,MapMode.TrackAfter);return q==null?void 0:q}}),skipBracketEffect=StateEffect.define({map(D,Q){return Q.mapPos(D)}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(D,Q){if(Q.selection){let q=Q.state.doc.lineAt(Q.selection.main.head).from,X=Q.startState.doc.lineAt(Q.startState.selection.main.head).from;q!=Q.changes.mapPos(X,-1)&&(D=RangeSet.empty)}D=D.map(Q.changes);for(let q of Q.effects)q.is(closeBracketEffect)?D=D.update({add:[closedBracket.range(q.value,q.value+1)]}):q.is(skipBracketEffect)&&(D=D.update({filter:X=>X!=q.value}));return D}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(D){for(let Q=0;Q<definedClosing.length;Q+=2)if(definedClosing.charCodeAt(Q)==D)return definedClosing.charAt(Q+1);return fromCodePoint(D<128?D:D+1)}function config(D,Q){return D.languageDataAt("closeBrackets",Q)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((D,Q,q,X)=>{if((android$1?D.composing:D.compositionStarted)||D.state.readOnly)return!1;let B=D.state.selection.main;if(X.length>2||X.length==2&&codePointSize(codePointAt(X,0))==1||Q!=B.from||q!=B.to)return!1;let j=insertBracket(D.state,X);return j?(D.dispatch(j),!0):!1}),deleteBracketPair=({state:D,dispatch:Q})=>{if(D.readOnly)return!1;let X=config(D,D.selection.main.head).brackets||defaults.brackets,B=null,j=D.changeByRange(U=>{if(U.empty){let Y=prevChar(D.doc,U.head);for(let G of X)if(G==Y&&nextChar(D.doc,U.head)==closing(codePointAt(G,0)))return{changes:{from:U.head-G.length,to:U.head+G.length},range:EditorSelection.cursor(U.head-G.length),userEvent:"delete.backward"}}return{range:B=U}});return B||Q(D.update(j,{scrollIntoView:!0})),!B},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(D,Q){let q=config(D,D.selection.main.head),X=q.brackets||defaults.brackets;for(let B of X){let j=closing(codePointAt(B,0));if(Q==B)return j==B?handleSame(D,B,X.indexOf(B+B+B)>-1):handleOpen(D,B,j,q.before||defaults.before);if(Q==j&&closedBracketAt(D,D.selection.main.from))return handleClose(D,B,j)}return null}function closedBracketAt(D,Q){let q=!1;return D.field(bracketState).between(0,D.doc.length,X=>{X==Q&&(q=!0)}),q}function nextChar(D,Q){let q=D.sliceString(Q,Q+2);return q.slice(0,codePointSize(codePointAt(q,0)))}function prevChar(D,Q){let q=D.sliceString(Q-2,Q);return codePointSize(codePointAt(q,0))==q.length?q:q.slice(1)}function handleOpen(D,Q,q,X){let B=null,j=D.changeByRange(U=>{if(!U.empty)return{changes:[{insert:Q,from:U.from},{insert:q,from:U.to}],effects:closeBracketEffect.of(U.to+Q.length),range:EditorSelection.range(U.anchor+Q.length,U.head+Q.length)};let Y=nextChar(D.doc,U.head);return!Y||/\s/.test(Y)||X.indexOf(Y)>-1?{changes:{insert:Q+q,from:U.head},effects:closeBracketEffect.of(U.head+Q.length),range:EditorSelection.cursor(U.head+Q.length)}:{range:B=U}});return B?null:D.update(j,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(D,Q,q){let X=null,B=D.selection.ranges.map(j=>j.empty&&nextChar(D.doc,j.head)==q?EditorSelection.cursor(j.head+q.length):X=j);return X?null:D.update({selection:EditorSelection.create(B,D.selection.mainIndex),scrollIntoView:!0,effects:D.selection.ranges.map(({from:j})=>skipBracketEffect.of(j))})}function handleSame(D,Q,q){let X=null,B=D.changeByRange(j=>{if(!j.empty)return{changes:[{insert:Q,from:j.from},{insert:Q,from:j.to}],effects:closeBracketEffect.of(j.to+Q.length),range:EditorSelection.range(j.anchor+Q.length,j.head+Q.length)};let U=j.head,Y=nextChar(D.doc,U);if(Y==Q){if(nodeStart(D,U))return{changes:{insert:Q+Q,from:U},effects:closeBracketEffect.of(U+Q.length),range:EditorSelection.cursor(U+Q.length)};if(closedBracketAt(D,U)){let G=q&&D.sliceDoc(U,U+Q.length*3)==Q+Q+Q;return{range:EditorSelection.cursor(U+Q.length*(G?3:1)),effects:skipBracketEffect.of(U)}}}else{if(q&&D.sliceDoc(U-2*Q.length,U)==Q+Q&&nodeStart(D,U-2*Q.length))return{changes:{insert:Q+Q+Q+Q,from:U},effects:closeBracketEffect.of(U+Q.length),range:EditorSelection.cursor(U+Q.length)};if(D.charCategorizer(U)(Y)!=CharCategory.Word){let G=D.sliceDoc(U-1,U);if(G!=Q&&D.charCategorizer(U)(G)!=CharCategory.Word&&!probablyInString(D,U,Q))return{changes:{insert:Q+Q,from:U},effects:closeBracketEffect.of(U+Q.length),range:EditorSelection.cursor(U+Q.length)}}}return{range:X=j}});return X?null:D.update(B,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(D,Q){let q=syntaxTree(D).resolveInner(Q+1);return q.parent&&q.from==Q}function probablyInString(D,Q,q){let X=syntaxTree(D).resolveInner(Q,-1);for(let B=0;B<5;B++){if(D.sliceDoc(X.from,X.from+q.length)==q){let U=X.firstChild;for(;U&&U.from==X.from&&U.to-U.from>q.length;){if(D.sliceDoc(U.to-q.length,U.to)==q)return!1;U=U.firstChild}return!0}let j=X.to==Q&&X.parent;if(!j)break;X=j}return!1}function autocompletion(D={}){return[completionState,completionConfig.of(D),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],D=>D.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(Q,q,X){this.from=Q,this.to=q,this.diagnostic=X}}class LintState{constructor(Q,q,X){this.diagnostics=Q,this.panel=q,this.selected=X}static init(Q,q,X){let B=Q,j=X.facet(lintConfig).markerFilter;j&&(B=j(B));let U=Decoration.set(B.map(Y=>Y.from==Y.to||Y.from==Y.to-1&&X.doc.lineAt(Y.from).to==Y.from?Decoration.widget({widget:new DiagnosticWidget(Y),diagnostic:Y}).range(Y.from):Decoration.mark({attributes:{class:"cm-lintRange cm-lintRange-"+Y.severity},diagnostic:Y}).range(Y.from,Y.to)),!0);return new LintState(U,q,findDiagnostic(U))}}function findDiagnostic(D,Q=null,q=0){let X=null;return D.between(q,1e9,(B,j,{spec:U})=>{if(!(Q&&U.diagnostic!=Q))return X=new SelectedDiagnostic(B,j,U.diagnostic),!1}),X}function hideTooltip(D,Q){return!!(D.effects.some(q=>q.is(setDiagnosticsEffect))||D.changes.touchesRange(Q.pos))}function maybeEnableLint(D,Q){return D.field(lintState,!1)?Q:Q.concat(StateEffect.appendConfig.of([lintState,EditorView.decorations.compute([lintState],q=>{let{selected:X,panel:B}=q.field(lintState);return!X||!B||X.from==X.to?Decoration.none:Decoration.set([activeMark.range(X.from,X.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme]))}function setDiagnostics(D,Q){return{effects:maybeEnableLint(D,[setDiagnosticsEffect.of(Q)])}}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(D,Q){if(Q.docChanged){let q=D.diagnostics.map(Q.changes),X=null;if(D.selected){let B=Q.changes.mapPos(D.selected.from,1);X=findDiagnostic(q,D.selected.diagnostic,B)||findDiagnostic(q,null,B)}D=new LintState(q,D.panel,X)}for(let q of Q.effects)q.is(setDiagnosticsEffect)?D=LintState.init(q.value,D.panel,Q.state):q.is(togglePanel)?D=new LintState(D.diagnostics,q.value?LintPanel.open:null,D.selected):q.is(movePanelSelection)&&(D=new LintState(D.diagnostics,D.panel,q.value));return D},provide:D=>[showPanel.from(D,Q=>Q.panel),EditorView.decorations.from(D,Q=>Q.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(D,Q,q){let{diagnostics:X}=D.state.field(lintState),B=[],j=2e8,U=0;X.between(Q-(q<0?1:0),Q+(q>0?1:0),(G,F,{spec:K})=>{Q>=G&&Q<=F&&(G==F||(Q>G||q>0)&&(Q<F||q<0))&&(B.push(K.diagnostic),j=Math.min(G,j),U=Math.max(F,U))});let Y=D.state.facet(lintConfig).tooltipFilter;return Y&&(B=Y(B)),B.length?{pos:j,end:U,above:D.state.doc.lineAt(j).to<U,create(){return{dom:diagnosticsTooltip(D,B)}}}:null}function diagnosticsTooltip(D,Q){return crelt("ul",{class:"cm-tooltip-lint"},Q.map(q=>renderDiagnostic(D,q,!1)))}const openLintPanel=D=>{let Q=D.state.field(lintState,!1);(!Q||!Q.panel)&&D.dispatch({effects:maybeEnableLint(D.state,[togglePanel.of(!0)])});let q=getPanel(D,LintPanel.open);return q&&q.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=D=>{let Q=D.state.field(lintState,!1);return!Q||!Q.panel?!1:(D.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=D=>{let Q=D.state.field(lintState,!1);if(!Q)return!1;let q=D.state.selection.main,X=Q.diagnostics.iter(q.to+1);return!X.value&&(X=Q.diagnostics.iter(0),!X.value||X.from==q.from&&X.to==q.to)?!1:(D.dispatch({selection:{anchor:X.from,head:X.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel},{key:"F8",run:nextDiagnostic}],lintPlugin=ViewPlugin.fromClass(class{constructor(D){this.view=D,this.timeout=-1,this.set=!0;let{delay:Q}=D.state.facet(lintConfig);this.lintTime=Date.now()+Q,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,Q)}run(){let D=Date.now();if(D<this.lintTime-10)setTimeout(this.run,this.lintTime-D);else{this.set=!1;let{state:Q}=this.view,{sources:q}=Q.facet(lintConfig);Promise.all(q.map(X=>Promise.resolve(X(this.view)))).then(X=>{let B=X.reduce((j,U)=>j.concat(U));this.view.state.doc==Q.doc&&this.view.dispatch(setDiagnostics(this.view.state,B))},X=>{logException(this.view.state,X)})}}update(D){let Q=D.state.facet(lintConfig);(D.docChanged||Q!=D.startState.facet(lintConfig))&&(this.lintTime=Date.now()+Q.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,Q.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),lintConfig=Facet.define({combine(D){return Object.assign({sources:D.map(Q=>Q.source)},combineConfig(D.map(Q=>Q.config),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:lintPlugin});function assignKeys(D){let Q=[];if(D)e:for(let{name:q}of D){for(let X=0;X<q.length;X++){let B=q[X];if(/[a-zA-Z]/.test(B)&&!Q.some(j=>j.toLowerCase()==B.toLowerCase())){Q.push(B);continue e}}Q.push("")}return Q}function renderDiagnostic(D,Q,q){var X;let B=q?assignKeys(Q.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+Q.severity},crelt("span",{class:"cm-diagnosticText"},Q.renderMessage?Q.renderMessage():Q.message),(X=Q.actions)===null||X===void 0?void 0:X.map((j,U)=>{let Y=J=>{J.preventDefault();let ee=findDiagnostic(D.state.field(lintState).diagnostics,Q);ee&&j.apply(D,ee.from,ee.to)},{name:G}=j,F=B[U]?G.indexOf(B[U]):-1,K=F<0?G:[G.slice(0,F),crelt("u",G.slice(F,F+1)),G.slice(F+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:Y,onmousedown:Y,"aria-label":` Action: ${G}${F<0?"":` (access key "${B[U]})"`}.`},K)}),Q.source&&crelt("div",{class:"cm-diagnosticSource"},Q.source))}class DiagnosticWidget extends WidgetType{constructor(Q){super(),this.diagnostic=Q}eq(Q){return Q.diagnostic==this.diagnostic}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class PanelItem{constructor(Q,q){this.diagnostic=q,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(Q,q,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(Q){this.view=Q,this.items=[];let q=B=>{if(B.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(B.keyCode==38||B.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(B.keyCode==40||B.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(B.keyCode==36)this.moveSelection(0);else if(B.keyCode==35)this.moveSelection(this.items.length-1);else if(B.keyCode==13)this.view.focus();else if(B.keyCode>=65&&B.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:j}=this.items[this.selectedIndex],U=assignKeys(j.actions);for(let Y=0;Y<U.length;Y++)if(U[Y].toUpperCase().charCodeAt(0)==B.keyCode){let G=findDiagnostic(this.view.state.field(lintState).diagnostics,j);G&&j.actions[Y].apply(Q,G.from,G.to)}}else return;B.preventDefault()},X=B=>{for(let j=0;j<this.items.length;j++)this.items[j].dom.contains(B.target)&&this.moveSelection(j)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:q,onclick:X}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"\xD7")),this.update()}get selectedIndex(){let Q=this.view.state.field(lintState).selected;if(!Q)return-1;for(let q=0;q<this.items.length;q++)if(this.items[q].diagnostic==Q.diagnostic)return q;return-1}update(){let{diagnostics:Q,selected:q}=this.view.state.field(lintState),X=0,B=!1,j=null;for(Q.between(0,this.view.state.doc.length,(U,Y,{spec:G})=>{let F=-1,K;for(let J=X;J<this.items.length;J++)if(this.items[J].diagnostic==G.diagnostic){F=J;break}F<0?(K=new PanelItem(this.view,G.diagnostic),this.items.splice(X,0,K),B=!0):(K=this.items[F],F>X&&(this.items.splice(X,F-X),B=!0)),q&&K.diagnostic==q.diagnostic?K.dom.hasAttribute("aria-selected")||(K.dom.setAttribute("aria-selected","true"),j=K):K.dom.hasAttribute("aria-selected")&&K.dom.removeAttribute("aria-selected"),X++});X<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)B=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),B=!0),j?(this.list.setAttribute("aria-activedescendant",j.id),this.view.requestMeasure({key:this,read:()=>({sel:j.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:U,panel:Y})=>{U.top<Y.top?this.list.scrollTop-=Y.top-U.top:U.bottom>Y.bottom&&(this.list.scrollTop+=U.bottom-Y.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),B&&this.sync()}sync(){let Q=this.list.firstChild;function q(){let X=Q;Q=X.nextSibling,X.remove()}for(let X of this.items)if(X.dom.parentNode==this.list){for(;Q!=X.dom;)q();Q=X.dom.nextSibling}else this.list.insertBefore(X.dom,Q);for(;Q;)q()}moveSelection(Q){if(this.selectedIndex<0)return;let q=this.view.state.field(lintState),X=findDiagnostic(q.diagnostics,this.items[Q].diagnostic);!X||this.view.dispatch({selection:{anchor:X.from,head:X.to},scrollIntoView:!0,effects:movePanelSelection.of(X)})}static open(Q){return new LintPanel(Q)}}function svg(D,Q='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${Q}>${encodeURIComponent(D)}</svg>')`}function underline(D){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${D}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});class Stack{constructor(Q,q,X,B,j,U,Y,G,F,K=0,J){this.p=Q,this.stack=q,this.state=X,this.reducePos=B,this.pos=j,this.score=U,this.buffer=Y,this.bufferBase=G,this.curContext=F,this.lookAhead=K,this.parent=J}toString(){return`[${this.stack.filter((Q,q)=>q%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(Q,q,X=0){let B=Q.parser.context;return new Stack(Q,[],q,X,X,0,[],0,B?new StackContext(B,B.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(Q,q){this.stack.push(this.state,q,this.bufferBase+this.buffer.length),this.state=Q}reduce(Q){let q=Q>>19,X=Q&65535,{parser:B}=this.p,j=B.dynamicPrecedence(X);if(j&&(this.score+=j),q==0){this.pushState(B.getGoto(this.state,X,!0),this.reducePos),X<B.minRepeatTerm&&this.storeNode(X,this.reducePos,this.reducePos,4,!0),this.reduceContext(X,this.reducePos);return}let U=this.stack.length-(q-1)*3-(Q&262144?6:0),Y=this.stack[U-2],G=this.stack[U-1],F=this.bufferBase+this.buffer.length-G;if(X<B.minRepeatTerm||Q&131072){let K=B.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(X,Y,K,F+4,!0)}if(Q&262144)this.state=this.stack[U];else{let K=this.stack[U-3];this.state=B.getGoto(K,X,!0)}for(;this.stack.length>U;)this.stack.pop();this.reduceContext(X,Y)}storeNode(Q,q,X,B=4,j=!1){if(Q==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let U=this,Y=this.buffer.length;if(Y==0&&U.parent&&(Y=U.bufferBase-U.parent.bufferBase,U=U.parent),Y>0&&U.buffer[Y-4]==0&&U.buffer[Y-1]>-1){if(q==X)return;if(U.buffer[Y-2]>=q){U.buffer[Y-2]=X;return}}}if(!j||this.pos==X)this.buffer.push(Q,q,X,B);else{let U=this.buffer.length;if(U>0&&this.buffer[U-4]!=0)for(;U>0&&this.buffer[U-2]>X;)this.buffer[U]=this.buffer[U-4],this.buffer[U+1]=this.buffer[U-3],this.buffer[U+2]=this.buffer[U-2],this.buffer[U+3]=this.buffer[U-1],U-=4,B>4&&(B-=4);this.buffer[U]=Q,this.buffer[U+1]=q,this.buffer[U+2]=X,this.buffer[U+3]=B}}shift(Q,q,X){let B=this.pos;if(Q&131072)this.pushState(Q&65535,this.pos);else if((Q&262144)==0){let j=Q,{parser:U}=this.p;(X>this.pos||q<=U.maxNode)&&(this.pos=X,U.stateFlag(j,1)||(this.reducePos=X)),this.pushState(j,B),this.shiftContext(q,B),q<=U.maxNode&&this.buffer.push(q,B,X,4)}else this.pos=X,this.shiftContext(q,B),q<=this.p.parser.maxNode&&this.buffer.push(q,B,X,4)}apply(Q,q,X){Q&65536?this.reduce(Q):this.shift(Q,q,X)}useNode(Q,q){let X=this.p.reused.length-1;(X<0||this.p.reused[X]!=Q)&&(this.p.reused.push(Q),X++);let B=this.pos;this.reducePos=this.pos=B+Q.length,this.pushState(q,B),this.buffer.push(X,B,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,Q,this,this.p.stream.reset(this.pos-Q.length)))}split(){let Q=this,q=Q.buffer.length;for(;q>0&&Q.buffer[q-2]>Q.reducePos;)q-=4;let X=Q.buffer.slice(q),B=Q.bufferBase+q;for(;Q&&B==Q.bufferBase;)Q=Q.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,X,B,this.curContext,this.lookAhead,Q)}recoverByDelete(Q,q){let X=Q<=this.p.parser.maxNode;X&&this.storeNode(Q,this.pos,q,4),this.storeNode(0,this.pos,q,X?8:4),this.pos=this.reducePos=q,this.score-=190}canShift(Q){for(let q=new SimulatedStack(this);;){let X=this.p.parser.stateSlot(q.state,4)||this.p.parser.hasAction(q.state,Q);if((X&65536)==0)return!0;if(X==0)return!1;q.reduce(X)}}recoverByInsert(Q){if(this.stack.length>=300)return[];let q=this.p.parser.nextStates(this.state);if(q.length>4<<1||this.stack.length>=120){let B=[];for(let j=0,U;j<q.length;j+=2)(U=q[j+1])!=this.state&&this.p.parser.hasAction(U,Q)&&B.push(q[j],U);if(this.stack.length<120)for(let j=0;B.length<4<<1&&j<q.length;j+=2){let U=q[j+1];B.some((Y,G)=>G&1&&Y==U)||B.push(q[j],U)}q=B}let X=[];for(let B=0;B<q.length&&X.length<4;B+=2){let j=q[B+1];if(j==this.state)continue;let U=this.split();U.pushState(j,this.pos),U.storeNode(0,U.pos,U.pos,4,!0),U.shiftContext(q[B],this.pos),U.score-=200,X.push(U)}return X}forceReduce(){let Q=this.p.parser.stateSlot(this.state,5);if((Q&65536)==0)return!1;let{parser:q}=this.p;if(!q.validAction(this.state,Q)){let X=Q>>19,B=Q&65535,j=this.stack.length-X*3;if(j<0||q.getGoto(this.stack[j],B,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(Q),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:Q}=this.p;return Q.data[Q.stateSlot(this.state,1)]==65535&&!Q.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(Q){if(this.state!=Q.state||this.stack.length!=Q.stack.length)return!1;for(let q=0;q<this.stack.length;q+=3)if(this.stack[q]!=Q.stack[q])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(Q){return this.p.parser.dialect.flags[Q]}shiftContext(Q,q){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,Q,this,this.p.stream.reset(q)))}reduceContext(Q,q){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,Q,this,this.p.stream.reset(q)))}emitContext(){let Q=this.buffer.length-1;(Q<0||this.buffer[Q]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let Q=this.buffer.length-1;(Q<0||this.buffer[Q]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(Q){if(Q!=this.curContext.context){let q=new StackContext(this.curContext.tracker,Q);q.hash!=this.curContext.hash&&this.emitContext(),this.curContext=q}}setLookAhead(Q){Q>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=Q)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(Q,q){this.tracker=Q,this.context=q,this.hash=Q.strict?Q.hash(q):0}}var Recover;(function(D){D[D.Insert=200]="Insert",D[D.Delete=190]="Delete",D[D.Reduce=100]="Reduce",D[D.MaxNext=4]="MaxNext",D[D.MaxInsertStackDepth=300]="MaxInsertStackDepth",D[D.DampenInsertStackDepth=120]="DampenInsertStackDepth"})(Recover||(Recover={}));class SimulatedStack{constructor(Q){this.start=Q,this.state=Q.state,this.stack=Q.stack,this.base=this.stack.length}reduce(Q){let q=Q&65535,X=Q>>19;X==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(X-1)*3;let B=this.start.p.parser.getGoto(this.stack[this.base-3],q,!0);this.state=B}}class StackBufferCursor{constructor(Q,q,X){this.stack=Q,this.pos=q,this.index=X,this.buffer=Q.buffer,this.index==0&&this.maybeNext()}static create(Q,q=Q.bufferBase+Q.buffer.length){return new StackBufferCursor(Q,q,q-Q.bufferBase)}maybeNext(){let Q=this.stack.parent;Q!=null&&(this.index=this.stack.bufferBase-Q.bufferBase,this.stack=Q,this.buffer=Q.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(Q,q){this.input=Q,this.ranges=q,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=q[0].from,this.range=q[0],this.end=q[q.length-1].to,this.readNext()}resolveOffset(Q,q){let X=this.range,B=this.rangeIndex,j=this.pos+Q;for(;j<X.from;){if(!B)return null;let U=this.ranges[--B];j-=X.from-U.to,X=U}for(;q<0?j>X.to:j>=X.to;){if(B==this.ranges.length-1)return null;let U=this.ranges[++B];j+=U.from-X.to,X=U}return j}peek(Q){let q=this.chunkOff+Q,X,B;if(q>=0&&q<this.chunk.length)X=this.pos+Q,B=this.chunk.charCodeAt(q);else{let j=this.resolveOffset(Q,1);if(j==null)return-1;if(X=j,X>=this.chunk2Pos&&X<this.chunk2Pos+this.chunk2.length)B=this.chunk2.charCodeAt(X-this.chunk2Pos);else{let U=this.rangeIndex,Y=this.range;for(;Y.to<=X;)Y=this.ranges[++U];this.chunk2=this.input.chunk(this.chunk2Pos=X),X+this.chunk2.length>Y.to&&(this.chunk2=this.chunk2.slice(0,Y.to-X)),B=this.chunk2.charCodeAt(0)}}return X>=this.token.lookAhead&&(this.token.lookAhead=X+1),B}acceptToken(Q,q=0){let X=q?this.resolveOffset(q,-1):this.pos;if(X==null||X<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=Q,this.token.end=X}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:Q,chunkPos:q}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=Q,this.chunk2Pos=q,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let Q=this.input.chunk(this.pos),q=this.pos+Q.length;this.chunk=q>this.range.to?Q.slice(0,this.range.to-this.pos):Q,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(Q=1){for(this.chunkOff+=Q;this.pos+Q>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();Q-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=Q,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(Q,q){if(q?(this.token=q,q.start=Q,q.lookAhead=Q+1,q.value=q.extended=-1):this.token=nullToken,this.pos!=Q){if(this.pos=Q,Q==this.end)return this.setDone(),this;for(;Q<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;Q>=this.range.to;)this.range=this.ranges[++this.rangeIndex];Q>=this.chunkPos&&Q<this.chunkPos+this.chunk.length?this.chunkOff=Q-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(Q,q){if(Q>=this.chunkPos&&q<=this.chunkPos+this.chunk.length)return this.chunk.slice(Q-this.chunkPos,q-this.chunkPos);if(Q>=this.chunk2Pos&&q<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(Q-this.chunk2Pos,q-this.chunk2Pos);if(Q>=this.range.from&&q<=this.range.to)return this.input.read(Q,q);let X="";for(let B of this.ranges){if(B.from>=q)break;B.to>Q&&(X+=this.input.read(Math.max(B.from,Q),Math.min(B.to,q)))}return X}}class TokenGroup{constructor(Q,q){this.data=Q,this.id=q}token(Q,q){readToken(this.data,Q,q,this.id)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(Q,q={}){this.token=Q,this.contextual=!!q.contextual,this.fallback=!!q.fallback,this.extend=!!q.extend}}function readToken(D,Q,q,X){let B=0,j=1<<X,{parser:U}=q.p,{dialect:Y}=U;e:for(;(j&D[B])!=0;){let G=D[B+1];for(let ee=B+3;ee<G;ee+=2)if((D[ee+1]&j)>0){let te=D[ee];if(Y.allows(te)&&(Q.token.value==-1||Q.token.value==te||U.overrides(te,Q.token.value))){Q.acceptToken(te);break}}let F=Q.next,K=0,J=D[B+2];if(Q.next<0&&J>K&&D[G+J*3-3]==65535){B=D[G+J*3-1];continue e}for(;K<J;){let ee=K+J>>1,te=G+ee+(ee<<1),ne=D[te],re=D[te+1];if(F<ne)J=ee;else if(F>=re)K=ee+1;else{B=D[te+2],Q.advance();continue e}}break}}function decodeArray(D,Q=Uint16Array){if(typeof D!="string")return D;let q=null;for(let X=0,B=0;X<D.length;){let j=0;for(;;){let U=D.charCodeAt(X++),Y=!1;if(U==126){j=65535;break}U>=92&&U--,U>=34&&U--;let G=U-32;if(G>=46&&(G-=46,Y=!0),j+=G,Y)break;j*=46}q?q[B++]=j:q=new Q(j)}return q}const verbose=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG);let stackIDs=null;var Safety;(function(D){D[D.Margin=25]="Margin"})(Safety||(Safety={}));function cutAt(D,Q,q){let X=D.cursor(IterMode.IncludeAnonymous);for(X.moveTo(Q);;)if(!(q<0?X.childBefore(Q):X.childAfter(Q)))for(;;){if((q<0?X.to<Q:X.from>Q)&&!X.type.isError)return q<0?Math.max(0,Math.min(X.to-1,Q-25)):Math.min(D.length,Math.max(X.from+1,Q+25));if(q<0?X.prevSibling():X.nextSibling())break;if(!X.parent())return q<0?0:D.length}}class FragmentCursor{constructor(Q,q){this.fragments=Q,this.nodeSet=q,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let Q=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(Q){for(this.safeFrom=Q.openStart?cutAt(Q.tree,Q.from+Q.offset,1)-Q.offset:Q.from,this.safeTo=Q.openEnd?cutAt(Q.tree,Q.to+Q.offset,-1)-Q.offset:Q.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(Q.tree),this.start.push(-Q.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(Q){if(Q<this.nextStart)return null;for(;this.fragment&&this.safeTo<=Q;)this.nextFragment();if(!this.fragment)return null;for(;;){let q=this.trees.length-1;if(q<0)return this.nextFragment(),null;let X=this.trees[q],B=this.index[q];if(B==X.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let j=X.children[B],U=this.start[q]+X.positions[B];if(U>Q)return this.nextStart=U,null;if(j instanceof Tree){if(U==Q){if(U<this.safeFrom)return null;let Y=U+j.length;if(Y<=this.safeTo){let G=j.prop(NodeProp.lookAhead);if(!G||Y+G<this.fragment.to)return j}}this.index[q]++,U+j.length>=Math.max(this.safeFrom,Q)&&(this.trees.push(j),this.start.push(U),this.index.push(0))}else this.index[q]++,this.nextStart=U+j.length}}}class TokenCache{constructor(Q,q){this.stream=q,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=Q.tokenizers.map(X=>new CachedToken)}getActions(Q){let q=0,X=null,{parser:B}=Q.p,{tokenizers:j}=B,U=B.stateSlot(Q.state,3),Y=Q.curContext?Q.curContext.hash:0,G=0;for(let F=0;F<j.length;F++){if((1<<F&U)==0)continue;let K=j[F],J=this.tokens[F];if(!(X&&!K.fallback)&&((K.contextual||J.start!=Q.pos||J.mask!=U||J.context!=Y)&&(this.updateCachedToken(J,K,Q),J.mask=U,J.context=Y),J.lookAhead>J.end+25&&(G=Math.max(J.lookAhead,G)),J.value!=0)){let ee=q;if(J.extended>-1&&(q=this.addActions(Q,J.extended,J.end,q)),q=this.addActions(Q,J.value,J.end,q),!K.extend&&(X=J,q>ee))break}}for(;this.actions.length>q;)this.actions.pop();return G&&Q.setLookAhead(G),!X&&Q.pos==this.stream.end&&(X=new CachedToken,X.value=Q.p.parser.eofTerm,X.start=X.end=Q.pos,q=this.addActions(Q,X.value,X.end,q)),this.mainToken=X,this.actions}getMainToken(Q){if(this.mainToken)return this.mainToken;let q=new CachedToken,{pos:X,p:B}=Q;return q.start=X,q.end=Math.min(X+1,B.stream.end),q.value=X==B.stream.end?B.parser.eofTerm:0,q}updateCachedToken(Q,q,X){if(q.token(this.stream.reset(X.pos,Q),X),Q.value>-1){let{parser:B}=X.p;for(let j=0;j<B.specialized.length;j++)if(B.specialized[j]==Q.value){let U=B.specializers[j](this.stream.read(Q.start,Q.end),X);if(U>=0&&X.p.parser.dialect.allows(U>>1)){(U&1)==0?Q.value=U>>1:Q.extended=U>>1;break}}}else Q.value=0,Q.end=Math.min(X.p.stream.end,X.pos+1)}putAction(Q,q,X,B){for(let j=0;j<B;j+=3)if(this.actions[j]==Q)return B;return this.actions[B++]=Q,this.actions[B++]=q,this.actions[B++]=X,B}addActions(Q,q,X,B){let{state:j}=Q,{parser:U}=Q.p,{data:Y}=U;for(let G=0;G<2;G++)for(let F=U.stateSlot(j,G?2:1);;F+=3){if(Y[F]==65535)if(Y[F+1]==1)F=pair(Y,F+2);else{B==0&&Y[F+1]==2&&(B=this.putAction(pair(Y,F+2),q,X,B));break}Y[F]==q&&(B=this.putAction(pair(Y,F+1),q,X,B))}return B}}var Rec;(function(D){D[D.Distance=5]="Distance",D[D.MaxRemainingPerStep=3]="MaxRemainingPerStep",D[D.MinBufferLengthPrune=500]="MinBufferLengthPrune",D[D.ForceReduceLimit=10]="ForceReduceLimit",D[D.CutDepth=15e3]="CutDepth",D[D.CutTo=9e3]="CutTo"})(Rec||(Rec={}));class Parse{constructor(Q,q,X,B){this.parser=Q,this.input=q,this.ranges=B,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new InputStream(q,B),this.tokens=new TokenCache(Q,this.stream),this.topTerm=Q.top[1];let{from:j}=B[0];this.stacks=[Stack.start(this,Q.top[0],j)],this.fragments=X.length&&this.stream.end-j>Q.bufferLength*4?new FragmentCursor(X,Q.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let Q=this.stacks,q=this.minStackPos,X=this.stacks=[],B,j;for(let U=0;U<Q.length;U++){let Y=Q[U];for(;;){if(this.tokens.mainToken=null,Y.pos>q)X.push(Y);else{if(this.advanceStack(Y,X,Q))continue;{B||(B=[],j=[]),B.push(Y);let G=this.tokens.getMainToken(Y);j.push(G.value,G.end)}}break}}if(!X.length){let U=B&&findFinished(B);if(U)return this.stackToTree(U);if(this.parser.strict)throw verbose&&B&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+q);this.recovering||(this.recovering=5)}if(this.recovering&&B){let U=this.stoppedAt!=null&&B[0].pos>this.stoppedAt?B[0]:this.runRecovery(B,j,X);if(U)return this.stackToTree(U.forceAll())}if(this.recovering){let U=this.recovering==1?1:this.recovering*3;if(X.length>U)for(X.sort((Y,G)=>G.score-Y.score);X.length>U;)X.pop();X.some(Y=>Y.reducePos>q)&&this.recovering--}else if(X.length>1){e:for(let U=0;U<X.length-1;U++){let Y=X[U];for(let G=U+1;G<X.length;G++){let F=X[G];if(Y.sameState(F)||Y.buffer.length>500&&F.buffer.length>500)if((Y.score-F.score||Y.buffer.length-F.buffer.length)>0)X.splice(G--,1);else{X.splice(U--,1);continue e}}}}this.minStackPos=X[0].pos;for(let U=1;U<X.length;U++)X[U].pos<this.minStackPos&&(this.minStackPos=X[U].pos);return null}stopAt(Q){if(this.stoppedAt!=null&&this.stoppedAt<Q)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=Q}advanceStack(Q,q,X){let B=Q.pos,{parser:j}=this,U=verbose?this.stackID(Q)+" -> ":"";if(this.stoppedAt!=null&&B>this.stoppedAt)return Q.forceReduce()?Q:null;if(this.fragments){let F=Q.curContext&&Q.curContext.tracker.strict,K=F?Q.curContext.hash:0;for(let J=this.fragments.nodeAt(B);J;){let ee=this.parser.nodeSet.types[J.type.id]==J.type?j.getGoto(Q.state,J.type.id):-1;if(ee>-1&&J.length&&(!F||(J.prop(NodeProp.contextHash)||0)==K))return Q.useNode(J,ee),verbose&&console.log(U+this.stackID(Q)+` (via reuse of ${j.getName(J.type.id)})`),!0;if(!(J instanceof Tree)||J.children.length==0||J.positions[0]>0)break;let te=J.children[0];if(te instanceof Tree&&J.positions[0]==0)J=te;else break}}let Y=j.stateSlot(Q.state,4);if(Y>0)return Q.reduce(Y),verbose&&console.log(U+this.stackID(Q)+` (via always-reduce ${j.getName(Y&65535)})`),!0;if(Q.stack.length>=15e3)for(;Q.stack.length>9e3&&Q.forceReduce(););let G=this.tokens.getActions(Q);for(let F=0;F<G.length;){let K=G[F++],J=G[F++],ee=G[F++],te=F==G.length||!X,ne=te?Q:Q.split();if(ne.apply(K,J,ee),verbose&&console.log(U+this.stackID(ne)+` (via ${(K&65536)==0?"shift":`reduce of ${j.getName(K&65535)}`} for ${j.getName(J)} @ ${B}${ne==Q?"":", split"})`),te)return!0;ne.pos>B?q.push(ne):X.push(ne)}return!1}advanceFully(Q,q){let X=Q.pos;for(;;){if(!this.advanceStack(Q,null,null))return!1;if(Q.pos>X)return pushStackDedup(Q,q),!0}}runRecovery(Q,q,X){let B=null,j=!1;for(let U=0;U<Q.length;U++){let Y=Q[U],G=q[U<<1],F=q[(U<<1)+1],K=verbose?this.stackID(Y)+" -> ":"";if(Y.deadEnd&&(j||(j=!0,Y.restart(),verbose&&console.log(K+this.stackID(Y)+" (restarted)"),this.advanceFully(Y,X))))continue;let J=Y.split(),ee=K;for(let te=0;J.forceReduce()&&te<10&&(verbose&&console.log(ee+this.stackID(J)+" (via force-reduce)"),!this.advanceFully(J,X));te++)verbose&&(ee=this.stackID(J)+" -> ");for(let te of Y.recoverByInsert(G))verbose&&console.log(K+this.stackID(te)+" (via recover-insert)"),this.advanceFully(te,X);this.stream.end>Y.pos?(F==Y.pos&&(F++,G=0),Y.recoverByDelete(G,F),verbose&&console.log(K+this.stackID(Y)+` (via recover-delete ${this.parser.getName(G)})`),pushStackDedup(Y,X)):(!B||B.score<Y.score)&&(B=Y)}return B}stackToTree(Q){return Q.close(),Tree.build({buffer:StackBufferCursor.create(Q),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:Q.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(Q){let q=(stackIDs||(stackIDs=new WeakMap)).get(Q);return q||stackIDs.set(Q,q=String.fromCodePoint(this.nextStackID++)),q+Q}}function pushStackDedup(D,Q){for(let q=0;q<Q.length;q++){let X=Q[q];if(X.pos==D.pos&&X.sameState(D)){Q[q].score<D.score&&(Q[q]=D);return}}Q.push(D)}class Dialect{constructor(Q,q,X){this.source=Q,this.flags=q,this.disabled=X}allows(Q){return!this.disabled||this.disabled[Q]==0}}const id=D=>D;class ContextTracker{constructor(Q){this.start=Q.start,this.shift=Q.shift||id,this.reduce=Q.reduce||id,this.reuse=Q.reuse||id,this.hash=Q.hash||(()=>0),this.strict=Q.strict!==!1}}class LRParser extends Parser{constructor(Q){if(super(),this.wrappers=[],Q.version!=14)throw new RangeError(`Parser version (${Q.version}) doesn't match runtime version (${14})`);let q=Q.nodeNames.split(" ");this.minRepeatTerm=q.length;for(let Y=0;Y<Q.repeatNodeCount;Y++)q.push("");let X=Object.keys(Q.topRules).map(Y=>Q.topRules[Y][1]),B=[];for(let Y=0;Y<q.length;Y++)B.push([]);function j(Y,G,F){B[Y].push([G,G.deserialize(String(F))])}if(Q.nodeProps)for(let Y of Q.nodeProps){let G=Y[0];typeof G=="string"&&(G=NodeProp[G]);for(let F=1;F<Y.length;){let K=Y[F++];if(K>=0)j(K,G,Y[F++]);else{let J=Y[F+-K];for(let ee=-K;ee>0;ee--)j(Y[F++],G,J);F++}}}this.nodeSet=new NodeSet(q.map((Y,G)=>NodeType.define({name:G>=this.minRepeatTerm?void 0:Y,id:G,props:B[G],top:X.indexOf(G)>-1,error:G==0,skipped:Q.skippedNodes&&Q.skippedNodes.indexOf(G)>-1}))),Q.propSources&&(this.nodeSet=this.nodeSet.extend(...Q.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let U=decodeArray(Q.tokenData);this.context=Q.context,this.specializerSpecs=Q.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let Y=0;Y<this.specializerSpecs.length;Y++)this.specialized[Y]=this.specializerSpecs[Y].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(Q.states,Uint32Array),this.data=decodeArray(Q.stateData),this.goto=decodeArray(Q.goto),this.maxTerm=Q.maxTerm,this.tokenizers=Q.tokenizers.map(Y=>typeof Y=="number"?new TokenGroup(U,Y):Y),this.topRules=Q.topRules,this.dialects=Q.dialects||{},this.dynamicPrecedences=Q.dynamicPrecedences||null,this.tokenPrecTable=Q.tokenPrec,this.termNames=Q.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(Q,q,X){let B=new Parse(this,Q,q,X);for(let j of this.wrappers)B=j(B,Q,q,X);return B}getGoto(Q,q,X=!1){let B=this.goto;if(q>=B[0])return-1;for(let j=B[q+1];;){let U=B[j++],Y=U&1,G=B[j++];if(Y&&X)return G;for(let F=j+(U>>1);j<F;j++)if(B[j]==Q)return G;if(Y)return-1}}hasAction(Q,q){let X=this.data;for(let B=0;B<2;B++)for(let j=this.stateSlot(Q,B?2:1),U;;j+=3){if((U=X[j])==65535)if(X[j+1]==1)U=X[j=pair(X,j+2)];else{if(X[j+1]==2)return pair(X,j+2);break}if(U==q||U==0)return pair(X,j+1)}return 0}stateSlot(Q,q){return this.states[Q*6+q]}stateFlag(Q,q){return(this.stateSlot(Q,0)&q)>0}validAction(Q,q){if(q==this.stateSlot(Q,4))return!0;for(let X=this.stateSlot(Q,1);;X+=3){if(this.data[X]==65535)if(this.data[X+1]==1)X=pair(this.data,X+2);else return!1;if(q==pair(this.data,X+1))return!0}}nextStates(Q){let q=[];for(let X=this.stateSlot(Q,1);;X+=3){if(this.data[X]==65535)if(this.data[X+1]==1)X=pair(this.data,X+2);else break;if((this.data[X+2]&1)==0){let B=this.data[X+1];q.some((j,U)=>U&1&&j==B)||q.push(this.data[X],B)}}return q}overrides(Q,q){let X=findOffset(this.data,this.tokenPrecTable,q);return X<0||findOffset(this.data,this.tokenPrecTable,Q)<X}configure(Q){let q=Object.assign(Object.create(LRParser.prototype),this);if(Q.props&&(q.nodeSet=this.nodeSet.extend(...Q.props)),Q.top){let X=this.topRules[Q.top];if(!X)throw new RangeError(`Invalid top rule name ${Q.top}`);q.top=X}return Q.tokenizers&&(q.tokenizers=this.tokenizers.map(X=>{let B=Q.tokenizers.find(j=>j.from==X);return B?B.to:X})),Q.specializers&&(q.specializers=this.specializers.slice(),q.specializerSpecs=this.specializerSpecs.map((X,B)=>{let j=Q.specializers.find(Y=>Y.from==X.external);if(!j)return X;let U=Object.assign(Object.assign({},X),{external:j.to});return q.specializers[B]=getSpecializer(U),U})),Q.contextTracker&&(q.context=Q.contextTracker),Q.dialect&&(q.dialect=this.parseDialect(Q.dialect)),Q.strict!=null&&(q.strict=Q.strict),Q.wrap&&(q.wrappers=q.wrappers.concat(Q.wrap)),Q.bufferLength!=null&&(q.bufferLength=Q.bufferLength),q}hasWrappers(){return this.wrappers.length>0}getName(Q){return this.termNames?this.termNames[Q]:String(Q<=this.maxNode&&this.nodeSet.types[Q].name||Q)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(Q){let q=this.dynamicPrecedences;return q==null?0:q[Q]||0}parseDialect(Q){let q=Object.keys(this.dialects),X=q.map(()=>!1);if(Q)for(let j of Q.split(" ")){let U=q.indexOf(j);U>=0&&(X[U]=!0)}let B=null;for(let j=0;j<q.length;j++)if(!X[j])for(let U=this.dialects[q[j]],Y;(Y=this.data[U++])!=65535;)(B||(B=new Uint8Array(this.maxTerm+1)))[Y]=1;return new Dialect(Q,X,B)}static deserialize(Q){return new LRParser(Q)}}function pair(D,Q){return D[Q]|D[Q+1]<<16}function findOffset(D,Q,q){for(let X=Q,B;(B=D[X])!=65535;X++)if(B==q)return X-Q;return-1}function findFinished(D){let Q=null;for(let q of D){let X=q.p.stoppedAt;(q.pos==q.p.stream.end||X!=null&&q.pos>X)&&q.p.parser.stateFlag(q.state,2)&&(!Q||Q.score<q.score)&&(Q=q)}return Q}function getSpecializer(D){if(D.external){let Q=D.extend?1:0;return(q,X)=>D.external(q,X)<<1|Q}return D.get}const TSExtends=1,noSemi=281,incdec=2,incdecPrefix=3,templateContent=282,InterpolationStart=4,templateEnd=283,insertSemi=284,spaces=286,newline$2=287,LineComment=5,BlockComment=6,Dialect_ts=1,space$1=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,braceL=123,semicolon=59,slash=47,star=42,plus=43,minus=45,dollar=36,backtick=96,backslash=92,trackNewline=new ContextTracker({start:!1,shift(D,Q){return Q==LineComment||Q==BlockComment||Q==spaces?D:Q==newline$2},strict:!1}),insertSemicolon=new ExternalTokenizer((D,Q)=>{let{next:q}=D;(q==braceR||q==-1||Q.context)&&Q.canShift(insertSemi)&&D.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((D,Q)=>{let{next:q}=D,X;space$1.indexOf(q)>-1||q==slash&&((X=D.peek(1))==slash||X==star)||q!=braceR&&q!=semicolon&&q!=-1&&!Q.context&&Q.canShift(noSemi)&&D.acceptToken(noSemi)},{contextual:!0}),incdecToken=new ExternalTokenizer((D,Q)=>{let{next:q}=D;if((q==plus||q==minus)&&(D.advance(),q==D.next)){D.advance();let X=!Q.context&&Q.canShift(incdec);D.acceptToken(X?incdec:incdecPrefix)}},{contextual:!0}),template=new ExternalTokenizer(D=>{for(let Q=!1,q=0;;q++){let{next:X}=D;if(X<0){q&&D.acceptToken(templateContent);break}else if(X==backtick){q?D.acceptToken(templateContent):D.acceptToken(templateEnd,1);break}else if(X==braceL&&Q){q==1?D.acceptToken(InterpolationStart,1):D.acceptToken(templateContent,-1);break}else if(X==10&&q){D.advance(),D.acceptToken(templateContent);break}else X==backslash&&D.advance();Q=X==dollar,D.advance()}}),tsExtends=new ExternalTokenizer((D,Q)=>{if(!(D.next!=101||!Q.dialectEnabled(Dialect_ts))){D.advance();for(let q=0;q<6;q++){if(D.next!="xtends".charCodeAt(q))return;D.advance()}D.next>=57&&D.next<=65||D.next>=48&&D.next<=90||D.next==95||D.next>=97&&D.next<=122||D.next>160||D.acceptToken(TSExtends)}}),jsHighlight=styleTags({"get set async static":tags.modifier,"for while do if else switch try catch finally return throw break continue default case":tags.controlKeyword,"in of await yield void typeof delete instanceof":tags.operatorKeyword,"let var const function class extends":tags.definitionKeyword,"import export from":tags.moduleKeyword,"with debugger as new":tags.keyword,TemplateString:tags.special(tags.string),super:tags.atom,BooleanLiteral:tags.bool,this:tags.self,null:tags.null,Star:tags.modifier,VariableName:tags.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags.function(tags.variableName),VariableDefinition:tags.definition(tags.variableName),Label:tags.labelName,PropertyName:tags.propertyName,PrivatePropertyName:tags.special(tags.propertyName),"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),"FunctionDeclaration/VariableDefinition":tags.function(tags.definition(tags.variableName)),"ClassDeclaration/VariableDefinition":tags.definition(tags.className),PropertyDefinition:tags.definition(tags.propertyName),PrivatePropertyDefinition:tags.definition(tags.special(tags.propertyName)),UpdateOp:tags.updateOperator,LineComment:tags.lineComment,BlockComment:tags.blockComment,Number:tags.number,String:tags.string,ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,RegExp:tags.regexp,Equals:tags.definitionOperator,Arrow:tags.function(tags.punctuation),": Spread":tags.punctuation,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,"InterpolationStart InterpolationEnd":tags.special(tags.brace),".":tags.derefOperator,", ;":tags.separator,TypeName:tags.typeName,TypeDefinition:tags.definition(tags.typeName),"type enum interface implements namespace module declare":tags.definitionKeyword,"abstract global Privacy readonly override":tags.modifier,"is keyof unique infer":tags.operatorKeyword,JSXAttributeValue:tags.attributeValue,JSXText:tags.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags.angleBracket,"JSXIdentifier JSXNameSpacedName":tags.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags.attributeName}),spec_identifier$1={__proto__:null,export:18,as:23,from:29,default:32,async:37,function:38,this:48,true:56,false:56,void:66,typeof:70,null:86,super:88,new:122,await:139,yield:141,delete:142,class:152,extends:154,public:197,private:197,protected:197,readonly:199,instanceof:220,in:222,const:224,import:256,keyof:307,unique:311,infer:317,is:351,abstract:371,implements:373,type:375,let:378,var:380,interface:387,enum:391,namespace:397,module:399,declare:403,global:407,for:428,of:437,while:440,with:444,do:448,if:452,else:454,switch:458,case:464,try:470,catch:474,finally:478,return:482,throw:486,break:490,continue:494,debugger:498},spec_word={__proto__:null,async:109,get:111,set:113,public:161,private:161,protected:161,static:163,abstract:165,override:167,readonly:173,new:355},spec_LessThan={__proto__:null,"<":129},parser$2=LRParser.deserialize({version:14,states:"$8SO`QdOOO'QQ(C|O'#ChO'XOWO'#DVO)dQdO'#D]O)tQdO'#DhO){QdO'#DrO-xQdO'#DxOOQO'#E]'#E]O.]Q`O'#E[O.bQ`O'#E[OOQ(C['#Ef'#EfO0aQ(C|O'#ItO2wQ(C|O'#IuO3eQ`O'#EzO3jQ!bO'#FaOOQ(C['#FS'#FSO3rO#tO'#FSO4QQ&jO'#FhO5bQ`O'#FgOOQ(C['#Iu'#IuOOQ(CW'#It'#ItOOQS'#J^'#J^O5gQ`O'#HpO5lQ(ChO'#HqOOQS'#Ih'#IhOOQS'#Hr'#HrQ`QdOOO){QdO'#DjO5tQ`O'#G[O5yQ&jO'#CmO6XQ`O'#EZO6dQ`O'#EgO6iQ,UO'#FRO7TQ`O'#G[O7YQ`O'#G`O7eQ`O'#G`O7sQ`O'#GcO7sQ`O'#GdO7sQ`O'#GfO5tQ`O'#GiO8dQ`O'#GlO9rQ`O'#CdO:SQ`O'#GyO:[Q`O'#HPO:[Q`O'#HRO`QdO'#HTO:[Q`O'#HVO:[Q`O'#HYO:aQ`O'#H`O:fQ(CjO'#HfO){QdO'#HhO:qQ(CjO'#HjO:|Q(CjO'#HlO5lQ(ChO'#HnO){QdO'#DWOOOW'#Ht'#HtO;XOWO,59qOOQ(C[,59q,59qO=jQtO'#ChO=tQdO'#HuO>XQ`O'#IvO@WQtO'#IvO'dQdO'#IvO@_Q`O,59wO@uQ7[O'#DbOAnQ`O'#E]OA{Q`O'#JROBWQ`O'#JQOBWQ`O'#JQOB`Q`O,5:yOBeQ`O'#JPOBlQaO'#DyO5yQ&jO'#EZOBzQ`O'#EZOCVQpO'#FROOQ(C[,5:S,5:SOC_QdO,5:SOE]Q(C|O,5:^OEyQ`O,5:dOFdQ(ChO'#JOO7YQ`O'#I}OFkQ`O'#I}OFsQ`O,5:xOFxQ`O'#I}OGWQdO,5:vOIWQ&jO'#EWOJeQ`O,5:vOKwQ&jO'#DlOLOQdO'#DqOLYQ7[O,5;PO){QdO,5;POOQS'#Er'#ErOOQS'#Et'#EtO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;ROOQS'#Ex'#ExOLbQdO,5;cOOQ(C[,5;h,5;hOOQ(C[,5;i,5;iONbQ`O,5;iOOQ(C[,5;j,5;jO){QdO'#IPONgQ(ChO,5<TO! RQ&jO,5;RO){QdO,5;fO! kQ!bO'#JVO! YQ!bO'#JVO! rQ!bO'#JVO!!TQ!bO,5;qOOOO,5;{,5;{O!!cQdO'#FcOOOO'#IO'#IOO3rO#tO,5;nO!!jQ!bO'#FeOOQ(C[,5;n,5;nO!#WQ,VO'#CrOOQ(C]'#Cu'#CuO!#kQ`O'#CuO!#pOWO'#CyO!$^Q,VO,5<QO!$eQ`O,5<SO!%tQ&jO'#FrO!&RQ`O'#FsO!&WQ`O'#FsO!&]Q&jO'#FwO!'[Q7[O'#F{O!'}Q,VO'#IqOOQ(C]'#Iq'#IqO!(XQaO'#IpO!(gQ`O'#IoO!(oQ`O'#CqOOQ(C]'#Cs'#CsOOQ(C]'#C|'#C|O!(wQ`O'#DOOJjQ&jO'#FjOJjQ&jO'#FlO!(|Q`O'#FnO!)RQ`O'#FoO!&WQ`O'#FuOJjQ&jO'#FzO!)WQ`O'#E^O!)oQ`O,5<RO`QdO,5>[OOQS'#Ik'#IkOOQS,5>],5>]OOQS-E;p-E;pO!+kQ(C|O,5:UOOQ(CX'#Cp'#CpO!,[Q&kO,5<vOOQO'#Cf'#CfO!,mQ(ChO'#IlO5bQ`O'#IlO:aQ`O,59XO!-OQ!bO,59XO!-WQ&jO,59XO5yQ&jO,59XO!-cQ`O,5:vO!-kQ`O'#GxO!-yQ`O'#JbO){QdO,5;kO!.RQ7[O,5;mO!.WQ`O,5=cO!.]Q`O,5=cO!.bQ`O,5=cO5lQ(ChO,5=cO5tQ`O,5<vO!.pQ`O'#E_O!/UQ7[O'#E`OOQ(CW'#JP'#JPO!/gQ(ChO'#J_O5lQ(ChO,5<zO7sQ`O,5=QOOQP'#Cr'#CrO!/rQ!bO,5<}O!/zQ!cO,5=OO!0VQ`O,5=QO!0[QpO,5=TO:aQ`O'#GnO5tQ`O'#GpO!0dQ`O'#GpO5yQ&jO'#GsO!0iQ`O'#GsOOQS,5=W,5=WO!0nQ`O'#GtO!0vQ`O'#CmO!0{Q`O,59OO!1VQ`O,59OO!3XQdO,59OOOQS,59O,59OO!3fQ(ChO,59OO){QdO,59OO!3qQdO'#G{OOQS'#G|'#G|OOQS'#G}'#G}O`QdO,5=eO!4RQ`O,5=eO){QdO'#DxO`QdO,5=kO`QdO,5=mO!4WQ`O,5=oO`QdO,5=qO!4]Q`O,5=tO!4bQdO,5=zOOQS,5>Q,5>QO){QdO,5>QO5lQ(ChO,5>SOOQS,5>U,5>UO!8cQ`O,5>UOOQS,5>W,5>WO!8cQ`O,5>WOOQS,5>Y,5>YO!8hQpO,59rOOOW-E;r-E;rOOQ(C[1G/]1G/]O!8mQtO,5>aO'dQdO,5>aOOQO,5>f,5>fO!8wQdO'#HuOOQO-E;s-E;sO!9UQ`O,5?bO!9^QtO,5?bO!9eQ`O,5?lOOQ(C[1G/c1G/cO!9mQ!bO'#DTOOQO'#Ix'#IxO){QdO'#IxO!:[Q!bO'#IxO!:yQ!bO'#DcO!;[Q7[O'#DcO!=gQdO'#DcO!=nQ`O'#IwO!=vQ`O,59|O!={Q`O'#EaO!>ZQ`O'#JSO!>cQ`O,5:zO!>yQ7[O'#DcO){QdO,5?mO!?TQ`O'#HzOOQO-E;x-E;xO!9eQ`O,5?lOOQ(CW1G0e1G0eO!@aQ7[O'#D|OOQ(C[,5:e,5:eO){QdO,5:eOIWQ&jO,5:eO!@hQaO,5:eO:aQ`O,5:uO!-OQ!bO,5:uO!-WQ&jO,5:uO5yQ&jO,5:uOOQ(C[1G/n1G/nOOQ(C[1G0O1G0OOOQ(CW'#EV'#EVO){QdO,5?jO!@sQ(ChO,5?jO!AUQ(ChO,5?jO!A]Q`O,5?iO!AeQ`O'#H|O!A]Q`O,5?iOOQ(CW1G0d1G0dO7YQ`O,5?iOOQ(C[1G0b1G0bO!BPQ(C|O1G0bO!CRQ(CyO,5:rOOQ(C]'#Fq'#FqO!CoQ(C}O'#IqOGWQdO1G0bO!EqQ,VO'#IyO!E{Q`O,5:WO!FQQtO'#IzO){QdO'#IzO!F[Q`O,5:]OOQ(C]'#DT'#DTOOQ(C[1G0k1G0kO!FaQ`O1G0kO!HrQ(C|O1G0mO!HyQ(C|O1G0mO!K^Q(C|O1G0mO!KeQ(C|O1G0mO!MlQ(C|O1G0mO!NPQ(C|O1G0mO#!pQ(C|O1G0mO#!wQ(C|O1G0mO#%[Q(C|O1G0mO#%cQ(C|O1G0mO#'WQ(C|O1G0mO#*QQMlO'#ChO#+{QMlO1G0}O#-vQMlO'#IuOOQ(C[1G1T1G1TO#.ZQ(C|O,5>kOOQ(CW-E;}-E;}O#.zQ(C}O1G0mOOQ(C[1G0m1G0mO#1PQ(C|O1G1QO#1pQ!bO,5;sO#1uQ!bO,5;tO#1zQ!bO'#F[O#2`Q`O'#FZOOQO'#JW'#JWOOQO'#H}'#H}O#2eQ!bO1G1]OOQ(C[1G1]1G1]OOOO1G1f1G1fO#2sQMlO'#ItO#2}Q`O,5;}OLbQdO,5;}OOOO-E;|-E;|OOQ(C[1G1Y1G1YOOQ(C[,5<P,5<PO#3SQ!bO,5<POOQ(C],59a,59aOIWQ&jO'#C{OOOW'#Hs'#HsO#3XOWO,59eOOQ(C],59e,59eO){QdO1G1lO!)RQ`O'#IRO#3dQ`O,5<eOOQ(C],5<b,5<bOOQO'#GV'#GVOJjQ&jO,5<pOOQO'#GX'#GXOJjQ&jO,5<rOIWQ&jO,5<tOOQO1G1n1G1nO#3oQqO'#CpO#4SQqO,5<^O#4ZQ`O'#JZO5tQ`O'#JZO#4iQ`O,5<`OJjQ&jO,5<_O#4nQ`O'#FtO#4yQ`O,5<_O#5OQqO'#FqO#5]QqO'#J[O#5gQ`O'#J[OIWQ&jO'#J[O#5lQ`O,5<cOOQ(CW'#Dg'#DgO#5qQ!bO'#F|O!'VQ7[O'#F|O!'VQ7[O'#GOO#6SQ`O'#GPO!&WQ`O'#GSO#6XQ(ChO'#ITO#6dQ7[O,5<gOOQ(C],5<g,5<gO#6kQ7[O'#F|O#6yQ7[O'#F}O#7RQ7[O'#F}OOQ(C],5<u,5<uOJjQ&jO,5?[OJjQ&jO,5?[O#7WQ`O'#IUO#7cQ`O,5?ZO#7kQ`O,59]OOQ(C]'#Ch'#ChO#8[Q,VO,59jOOQ(C],59j,59jO#8}Q,VO,5<UO#9pQ,VO,5<WO#9zQ`O,5<YOOQ(C],5<Z,5<ZO#:PQ`O,5<aO#:UQ,VO,5<fOGWQdO1G1mO#:fQ`O1G1mOOQS1G3v1G3vOOQ(C[1G/p1G/pONbQ`O1G/pOOQS1G2b1G2bOIWQ&jO1G2bO){QdO1G2bOIWQ&jO1G2bO#:kQaO1G2bO#<QQ&jO'#EWOOQ(CW,5?W,5?WO#<[Q(ChO,5?WOOQS1G.s1G.sO:aQ`O1G.sO!-OQ!bO1G.sO!-WQ&jO1G.sO#<mQ`O1G0bO#<rQ`O'#ChO#<}Q`O'#JcO#=VQ`O,5=dO#=[Q`O'#JcO#=aQ`O'#JcO#=iQ`O'#I^O#=wQ`O,5?|O#>PQtO1G1VOOQ(C[1G1X1G1XO5tQ`O1G2}O#>WQ`O1G2}O#>]Q`O1G2}O#>bQ`O1G2}OOQS1G2}1G2}O#>gQ&kO1G2bO7YQ`O'#JQO7YQ`O'#EaO7YQ`O'#IWO#>xQ(ChO,5?yOOQS1G2f1G2fO!0VQ`O1G2lOIWQ&jO1G2iO#?TQ`O1G2iOOQS1G2j1G2jOIWQ&jO1G2jO#?YQaO1G2jO#?bQ7[O'#GhOOQS1G2l1G2lO!'VQ7[O'#IYO!0[QpO1G2oOOQS1G2o1G2oOOQS,5=Y,5=YO#?jQ&kO,5=[O5tQ`O,5=[O#6SQ`O,5=_O5bQ`O,5=_O!-OQ!bO,5=_O!-WQ&jO,5=_O5yQ&jO,5=_O#?{Q`O'#JaO#@WQ`O,5=`OOQS1G.j1G.jO#@]Q(ChO1G.jO#@hQ`O1G.jO#@mQ`O1G.jO5lQ(ChO1G.jO#@uQtO,5@OO#APQ`O,5@OO#A[QdO,5=gO#AcQ`O,5=gO7YQ`O,5@OOOQS1G3P1G3PO`QdO1G3POOQS1G3V1G3VOOQS1G3X1G3XO:[Q`O1G3ZO#AhQdO1G3]O#EcQdO'#H[OOQS1G3`1G3`O#EpQ`O'#HbO:aQ`O'#HdOOQS1G3f1G3fO#ExQdO1G3fO5lQ(ChO1G3lOOQS1G3n1G3nOOQ(CW'#Fx'#FxO5lQ(ChO1G3pO5lQ(ChO1G3rOOOW1G/^1G/^O#IvQpO,5<TO#JOQtO1G3{OOQO1G4Q1G4QO){QdO,5>aO#JYQ`O1G4|O#JbQ`O1G5WO#JjQ`O,5?dOLbQdO,5:{O7YQ`O,5:{O:aQ`O,59}OLbQdO,59}O!-OQ!bO,59}O#JoQMlO,59}OOQO,5:{,5:{O#JyQ7[O'#HvO#KaQ`O,5?cOOQ(C[1G/h1G/hO#KiQ7[O'#H{O#K}Q`O,5?nOOQ(CW1G0f1G0fO!;[Q7[O,59}O#LVQtO1G5XO7YQ`O,5>fOOQ(CW'#ES'#ESO#LaQ(DjO'#ETO!@XQ7[O'#D}OOQO'#Hy'#HyO#L{Q7[O,5:hOOQ(C[,5:h,5:hO#MSQ7[O'#D}O#MeQ7[O'#D}O#MlQ7[O'#EYO#MoQ7[O'#ETO#M|Q7[O'#ETO!@XQ7[O'#ETO#NaQ`O1G0PO#NfQqO1G0POOQ(C[1G0P1G0PO){QdO1G0POIWQ&jO1G0POOQ(C[1G0a1G0aO:aQ`O1G0aO!-OQ!bO1G0aO!-WQ&jO1G0aO#NmQ(C|O1G5UO){QdO1G5UO#N}Q(ChO1G5UO$ `Q`O1G5TO7YQ`O,5>hOOQO,5>h,5>hO$ hQ`O,5>hOOQO-E;z-E;zO$ `Q`O1G5TO$ vQ(C}O,59jO$#xQ(C}O,5<UO$%}Q(C}O,5<WO$(SQ(C}O,5<fOOQ(C[7+%|7+%|O$*_Q(C|O7+%|O$+OQ&jO'#HwO$+YQ`O,5?eOOQ(C]1G/r1G/rO$+bQdO'#HxO$+oQ`O,5?fO$+wQtO,5?fOOQ(C[1G/w1G/wOOQ(C[7+&V7+&VO$,RQMlO,5:^O){QdO7+&iO$,]QMlO,5:UOOQO1G1_1G1_OOQO1G1`1G1`O$,jQ!LQO,5;vOLbQdO,5;uOOQO-E;{-E;{OOQ(C[7+&w7+&wOOOO7+'Q7+'QOOOO1G1i1G1iO$,uQ`O1G1iOOQ(C[1G1k1G1kO$,zQqO,59gOOOW-E;q-E;qOOQ(C]1G/P1G/PO$-RQ(C|O7+'WOOQ(C],5>m,5>mO$-rQ`O,5>mOOQ(C]1G2P1G2PP$-wQ`O'#IRPOQ(C]-E<P-E<PO$.hQ,VO1G2[O$/ZQ,VO1G2^O$/eQqO1G2`OOQ(C]1G1x1G1xO$/lQ`O'#IQO$/zQ`O,5?uO$/zQ`O,5?uO$0SQ`O,5?uO$0_Q`O,5?uOOQO1G1z1G1zO$0mQ,VO1G1yOJjQ&jO1G1yO$0}Q&jO'#ISO$1_Q`O,5?vOIWQ&jO,5?vO$1gQqO,5?vOOQ(C]1G1}1G1}OOQ(CW,5<h,5<hOOQ(CW,5<i,5<iO$1qQ`O,5<iO#5}Q`O,5<iO!-OQ!bO,5<hO$1vQ`O,5<jOOQ(CW,5<k,5<kO$1qQ`O,5<nOOQO,5>o,5>oOOQO-E<R-E<ROOQ(C]1G2R1G2RO!'VQ7[O,5<hO$2OQ`O,5<iO!'VQ7[O,5<jO!'VQ7[O,5<iO$2ZQ,VO1G4vO$2eQ,VO1G4vOOQO,5>p,5>pOOQO-E<S-E<SOOQP1G.w1G.wO!.RQ7[O,59lO){QdO,59lO$2rQ`O1G1tOJjQ&jO1G1{O$2wQ(C|O7+'XOOQ(C[7+'X7+'XOGWQdO7+'XOOQ(C[7+%[7+%[O$3hQqO'#J]O#NaQ`O7+'|O$3rQ`O7+'|O$3zQqO7+'|OOQS7+'|7+'|OIWQ&jO7+'|O){QdO7+'|OIWQ&jO7+'|O$4UQ(CyO'#ChO$4iQ(CyO,5<lO$5ZQ`O,5<lOOQ(CW1G4r1G4rOOQS7+$_7+$_O:aQ`O7+$_O!-OQ!bO7+$_OGWQdO7+%|O$5`Q`O'#I]O$5qQ`O,5?}OOQO1G3O1G3OO5tQ`O,5?}O$5qQ`O,5?}O$5yQ`O,5?}OOQO,5>x,5>xOOQO-E<[-E<[OOQ(C[7+&q7+&qO$6OQ`O7+(iO5lQ(ChO7+(iO5tQ`O7+(iO$6TQ`O7+(iO$6YQaO7+'|OOQ(CW,5>r,5>rOOQ(CW-E<U-E<UOOQS7+(W7+(WO$6hQ(CyO7+(TOIWQ&jO7+(TO$6rQqO7+(UOOQS7+(U7+(UOIWQ&jO7+(UO$6yQ`O'#J`O$7UQ`O,5=SOOQO,5>t,5>tOOQO-E<W-E<WOOQS7+(Z7+(ZO$8OQ7[O'#GqOOQS1G2v1G2vOIWQ&jO1G2vO){QdO1G2vOIWQ&jO1G2vO$8VQaO1G2vO$8eQ&kO1G2vO5lQ(ChO1G2yO#6SQ`O1G2yO5bQ`O1G2yO!-OQ!bO1G2yO!-WQ&jO1G2yO$8vQ`O'#I[O$9RQ`O,5?{O$9ZQ7[O,5?{OOQ(CW1G2z1G2zOOQS7+$U7+$UO$9cQ`O7+$UO5lQ(ChO7+$UO$9hQ`O7+$UO){QdO1G5jO){QdO1G5kO$9mQdO1G3RO$9tQ`O1G3RO$9yQdO1G3RO$:QQ(ChO1G5jOOQS7+(k7+(kO5lQ(ChO7+(uO`QdO7+(wOOQS'#Jf'#JfOOQS'#I_'#I_O$:[QdO,5=vOOQS,5=v,5=vO){QdO'#H]O$:iQ`O'#H_OOQS,5=|,5=|O7YQ`O,5=|OOQS,5>O,5>OOOQS7+)Q7+)QOOQS7+)W7+)WOOQS7+)[7+)[OOQS7+)^7+)^OOQO1G5O1G5OO$:nQMlO1G0gO$:xQ`O1G0gOOQO1G/i1G/iO$;TQMlO1G/iO:aQ`O1G/iOLbQdO'#DcOOQO,5>b,5>bOOQO-E;t-E;tOOQO,5>g,5>gOOQO-E;y-E;yO!-OQ!bO1G/iO:aQ`O,5:iOOQO,5:o,5:oO){QdO,5:oO$;_Q(ChO,5:oO$;jQ(ChO,5:oO!-OQ!bO,5:iOOQO-E;w-E;wOOQ(C[1G0S1G0SO!@XQ7[O,5:iO$;xQ7[O,5:iO$<ZQ(DjO,5:oO$<uQ7[O,5:iO!@XQ7[O,5:oOOQO,5:t,5:tO$<|Q7[O,5:oO$=ZQ(ChO,5:oOOQ(C[7+%k7+%kO#NaQ`O7+%kO#NfQqO7+%kOOQ(C[7+%{7+%{O:aQ`O7+%{O!-OQ!bO7+%{O$=oQ(C|O7+*pO){QdO7+*pOOQO1G4S1G4SO7YQ`O1G4SO$>PQ`O7+*oO$>XQ(C}O1G2[O$@^Q(C}O1G2^O$BcQ(C}O1G1yO$DnQ,VO,5>cOOQO-E;u-E;uO$DxQtO,5>dO){QdO,5>dOOQO-E;v-E;vO$ESQ`O1G5QO$E[QMlO1G0bO$GcQMlO1G0mO$GjQMlO1G0mO$IkQMlO1G0mO$IrQMlO1G0mO$KgQMlO1G0mO$KzQMlO1G0mO$NXQMlO1G0mO$N`QMlO1G0mO%!aQMlO1G0mO%!hQMlO1G0mO%$]QMlO1G0mO%$pQ(C|O<<JTO%%rQMmO1G0mO%'|QMmO'#IqO%)iQMlO1G1QOLbQdO'#F^OOQO'#JX'#JXOOQO1G1b1G1bO%)vQ`O1G1aO%){QMlO,5>kOOOO7+'T7+'TOOOW1G/R1G/ROOQ(C]1G4X1G4XOJjQ&jO7+'zO%*VQ`O,5>lO5tQ`O,5>lOOQO-E<O-E<OO%*eQ`O1G5aO%*eQ`O1G5aO%*mQ`O1G5aO%*xQ,VO7+'eO%+YQqO,5>nO%+dQ`O,5>nOIWQ&jO,5>nOOQO-E<Q-E<QO%+iQqO1G5bO%+sQ`O1G5bOOQ(CW1G2T1G2TO$1qQ`O1G2TOOQ(CW1G2S1G2SO%+{Q`O1G2UOIWQ&jO1G2UOOQ(CW1G2Y1G2YO!-OQ!bO1G2SO#5}Q`O1G2TO%,QQ`O1G2UO%,YQ`O1G2TOJjQ&jO7+*bOOQ(C]1G/W1G/WO%,eQ`O1G/WOOQ(C]7+'`7+'`O%,jQ,VO7+'gO%,zQ(C|O<<JsOOQ(C[<<Js<<JsOIWQ&jO'#IVO%-kQ`O,5?wOOQS<<Kh<<KhOIWQ&jO<<KhO#NaQ`O<<KhO%-sQ`O<<KhO%-{QqO<<KhOIWQ&jO1G2WOOQS<<Gy<<GyO:aQ`O<<GyO%.VQ(C|O<<IhOOQ(C[<<Ih<<IhOOQO,5>w,5>wO%.vQ`O,5>wO%.{Q`O,5>wOOQO-E<Z-E<ZO%/TQ`O1G5iO%/TQ`O1G5iO5tQ`O1G5iO%/]Q`O<<LTOOQS<<LT<<LTO%/bQ`O<<LTO5lQ(ChO<<LTO){QdO<<KhOIWQ&jO<<KhOOQS<<Ko<<KoO$6hQ(CyO<<KoOOQS<<Kp<<KpO$6rQqO<<KpO%/gQ7[O'#IXO%/rQ`O,5?zOLbQdO,5?zOOQS1G2n1G2nO#LaQ(DjO'#ETO!@XQ7[O'#GrOOQO'#IZ'#IZO%/zQ7[O,5=]OOQS,5=],5=]O%0RQ7[O'#ETO%0^Q7[O'#ETO%0uQ7[O'#ETO%1PQ7[O'#GrO%1bQ`O7+(bO%1gQ`O7+(bO%1oQqO7+(bOOQS7+(b7+(bOIWQ&jO7+(bO){QdO7+(bOIWQ&jO7+(bO%1yQaO7+(bOOQS7+(e7+(eO5lQ(ChO7+(eO#6SQ`O7+(eO5bQ`O7+(eO!-OQ!bO7+(eO%2XQ`O,5>vOOQO-E<Y-E<YOOQO'#Gu'#GuO%2dQ`O1G5gO5lQ(ChO<<GpOOQS<<Gp<<GpO%2lQ`O<<GpO%2qQ`O7++UO%2vQ`O7++VOOQS7+(m7+(mO%2{Q`O7+(mO%3QQdO7+(mO%3XQ`O7+(mO){QdO7++UO){QdO7++VOOQS<<La<<LaOOQS<<Lc<<LcOOQS-E<]-E<]OOQS1G3b1G3bO%3^Q`O,5=wOOQS,5=y,5=yO%3cQ`O1G3hOLbQdO7+&ROOQO7+%T7+%TO%3hQMlO1G5XO:aQ`O7+%TOOQO1G0T1G0TO%3rQ(C|O1G0ZOOQO1G0Z1G0ZO){QdO1G0ZO%3|Q(ChO1G0ZO:aQ`O1G0TO!-OQ!bO1G0TO!@XQ7[O1G0TO%4XQ(ChO1G0ZO%4gQ7[O1G0TO%4xQ(ChO1G0ZO%5^Q(DjO1G0ZO%5hQ7[O1G0TO!@XQ7[O1G0ZOOQ(C[<<IV<<IVOOQ(C[<<Ig<<IgO:aQ`O<<IgO%5oQ(C|O<<N[OOQO7+)n7+)nO%6PQ(C}O7+'eO%8[Q(C}O7+'gO%:gQtO1G4OO%:qQMlO7+%|O%;gQMmO,59jO%=hQMmO,5<UO%?lQMmO,5<WO%A[QMmO,5<fO%B}QMlO7+'WO%C[QMlO7+'XO%CiQ`O,5;xOOQO7+&{7+&{O%CnQ,VO<<KfOOQO1G4W1G4WO%CuQ`O1G4WO%DQQ`O1G4WO%D`Q`O7+*{O%D`Q`O7+*{OIWQ&jO1G4YO%DhQqO1G4YO%DrQ`O7+*|OOQ(CW7+'o7+'oO$1qQ`O7+'pO%DzQqO7+'pOOQ(CW7+'n7+'nO$1qQ`O7+'oO%ERQ`O7+'pOIWQ&jO7+'pO#5}Q`O7+'oO%EWQ,VO<<M|OOQ(C]7+$r7+$rO%EbQqO,5>qOOQO-E<T-E<TO#NaQ`OANASOOQSANASANASOIWQ&jOANASO%ElQ(CyO7+'rOOQSAN=eAN=eO5tQ`O1G4cOOQO1G4c1G4cO%E|Q`O1G4cO%FRQ`O7++TO%FRQ`O7++TO5lQ(ChOANAoO%FZQ`OANAoOOQSANAoANAoO%F`Q`OANASO%FhQqOANASOOQSANAZANAZOOQSANA[ANA[O%FrQ`O,5>sOOQO-E<V-E<VO%F}QMlO1G5fO#6SQ`O,5=^O5bQ`O,5=^O!-OQ!bO,5=^OOQO-E<X-E<XOOQS1G2w1G2wO$<ZQ(DjO,5:oO!@XQ7[O,5=^O%GXQ7[O,5=^O%GjQ7[O,5:oOOQS<<K|<<K|OIWQ&jO<<K|O%1bQ`O<<K|O%GtQ`O<<K|O%G|QqO<<K|O){QdO<<K|OIWQ&jO<<K|OOQS<<LP<<LPO5lQ(ChO<<LPO#6SQ`O<<LPO5bQ`O<<LPO%HWQ7[O1G4bO%H`Q`O7++ROOQSAN=[AN=[O5lQ(ChOAN=[OOQS<<Np<<NpOOQS<<Nq<<NqOOQS<<LX<<LXO%HhQ`O<<LXO%HmQdO<<LXO%HtQ`O<<NpO%HyQ`O<<NqOOQS1G3c1G3cO:aQ`O7+)SO%IOQMlO<<ImOOQO<<Ho<<HoOOQO7+%u7+%uO%3rQ(C|O7+%uO){QdO7+%uOOQO7+%o7+%oO:aQ`O7+%oO!-OQ!bO7+%oO%IYQ(ChO7+%uO!@XQ7[O7+%oO%IeQ(ChO7+%uO%IsQ7[O7+%oO%JUQ(ChO7+%uOOQ(C[AN?RAN?RO%JjQMlO<<JTO%JwQMmO1G1yO%MOQMmO1G2[O& SQMmO1G2^O&!rQMlO<<JsO&#PQMlO<<IhOOQO1G1d1G1dOJjQ&jOANAQOOQO7+)r7+)rO&#^Q`O7+)rO&#iQ`O<<NgO&#qQqO7+)tOOQ(CW<<K[<<K[O$1qQ`O<<K[OOQ(CW<<KZ<<KZO&#{QqO<<K[O$1qQ`O<<KZOOQSG26nG26nO#NaQ`OG26nOOQO7+)}7+)}O5tQ`O7+)}O&$SQ`O<<NoOOQSG27ZG27ZO5lQ(ChOG27ZOIWQ&jOG26nOLbQdO1G4_O&$[Q`O7++QO5lQ(ChO1G2xO#6SQ`O1G2xO5bQ`O1G2xO!-OQ!bO1G2xO!@XQ7[O1G2xO%5^Q(DjO1G0ZO&$dQ7[O1G2xO%1bQ`OANAhOOQSANAhANAhOIWQ&jOANAhO&$uQ`OANAhO&$}QqOANAhOOQSANAkANAkO5lQ(ChOANAkO#6SQ`OANAkOOQO'#Gv'#GvOOQO7+)|7+)|OOQSG22vG22vOOQSANAsANAsO&%XQ`OANAsOOQSAND[AND[OOQSAND]AND]OOQS<<Ln<<LnOOQO<<Ia<<IaO%3rQ(C|O<<IaOOQO<<IZ<<IZO:aQ`O<<IZO){QdO<<IaO!-OQ!bO<<IZO&%^Q(ChO<<IaO!@XQ7[O<<IZO&%iQ(ChO<<IaO&%wQMmO7+'eO&'jQMmO7+'gO&)]Q,VOG26lOOQO<<M^<<M^OOQ(CWAN@vAN@vO$1qQ`OAN@vOOQ(CWAN@uAN@uOOQSLD,YLD,YOOQO<<Mi<<MiOOQSLD,uLD,uO#NaQ`OLD,YO&)mQMlO7+)yOOQO7+(d7+(dO5lQ(ChO7+(dO#6SQ`O7+(dO5bQ`O7+(dO!-OQ!bO7+(dO!@XQ7[O7+(dOOQSG27SG27SO%1bQ`OG27SOIWQ&jOG27SOOQSG27VG27VO5lQ(ChOG27VOOQSG27_G27_OOQOAN>{AN>{OOQOAN>uAN>uO%3rQ(C|OAN>{O:aQ`OAN>uO){QdOAN>{O!-OQ!bOAN>uO&)wQ(ChOAN>{O&*SQ(C}OG26lOOQ(CWG26bG26bOOQS!$( t!$( tOOQO<<LO<<LOO5lQ(ChO<<LOO#6SQ`O<<LOO5bQ`O<<LOO!-OQ!bO<<LOOOQSLD,nLD,nO%1bQ`OLD,nOOQSLD,qLD,qOOQOG24gG24gOOQOG24aG24aO%3rQ(C|OG24gO:aQ`OG24aO){QdOG24gO&,pQ!LRO,5:rO&-gQ$ITO'#IqOOQOANAjANAjO5lQ(ChOANAjO#6SQ`OANAjO5bQ`OANAjOOQS!$(!Y!$(!YOOQOLD*RLD*ROOQOLD){LD){O%3rQ(C|OLD*RO&.ZQMmOG26lO&/|Q!LRO,59jO&0pQ!LRO,5<UO&1dQ!LRO,5<WO&2WQ!LRO,5<fOOQOG27UG27UO5lQ(ChOG27UO#6SQ`OG27UOOQO!$'Mm!$'MmO&2}Q!LRO1G2[O&3qQ!LRO1G2^O&4eQ!LRO1G1yOOQOLD,pLD,pO5lQ(ChOLD,pO&5[Q!LRO7+'eO&6RQ!LRO7+'gOOQO!$(![!$(![O&6xQ!LROG26lOLbQdO'#DrO&7oQtO'#ItOLbQdO'#DjO&7vQ(C|O'#ChO&8aQtO'#ChO&8qQdO,5:vO&:qQ&jO'#EWOLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO'#IPO&<OQ`O,5<TO&=eQ&jO,5;ROLbQdO,5;fO!(wQ`O'#DOO!(wQ`O'#DOO!(wQ`O'#DOOIWQ&jO'#FjO&:qQ&jO'#FjO&<WQ&jO'#FjOIWQ&jO'#FlO&:qQ&jO'#FlO&<WQ&jO'#FlOIWQ&jO'#FzO&:qQ&jO'#FzO&<WQ&jO'#FzOLbQdO,5?mO&8qQdO1G0bO&=lQMlO'#ChOLbQdO1G1lOIWQ&jO,5<pO&:qQ&jO,5<pO&<WQ&jO,5<pOIWQ&jO,5<rO&:qQ&jO,5<rO&<WQ&jO,5<rOIWQ&jO,5<_O&:qQ&jO,5<_O&<WQ&jO,5<_O&8qQdO1G1mOLbQdO7+&iOIWQ&jO1G1yO&:qQ&jO1G1yO&<WQ&jO1G1yOIWQ&jO1G1{O&:qQ&jO1G1{O&<WQ&jO1G1{O&8qQdO7+'XO&8qQdO7+%|O&=vQ`O7+'pOIWQ&jOANAQO&:qQ&jOANAQO&<WQ&jOANAQO&=vQ`O<<K[O&=vQ`OAN@vO&={Q`O'#E[O&>QQ`O'#E[O&>YQ`O'#EzO&>_Q`O'#EgO&>dQ`O'#JRO&>oQ`O'#JPO&>zQ`O,5:vO&?PQ,VO,5<QO&?WQ`O'#FsO&?]Q`O'#FsO&?bQ`O'#FsO&?gQ`O,5<RO&?oQ`O,5:vO&?wQMlO1G0}O&@OQ`O,5<_O&@TQ`O,5<_O&@YQ`O,5<_O&@_Q`O,5<aO&@dQ`O,5<aO&@iQ`O,5<aO&@nQ`O1G1mO&@sQ`O1G0bO&@xQ`O1G2UO&@}Q,VO<<KfO&AUQ,VO<<KfO&A]Q,VO<<KfO&AdQqO7+'pO&AkQ`O7+'pO&ApQqO<<K[O4QQ&jO'#FhO5bQ`O'#FgOBzQ`O'#EZOLbQdO,5;cO!&WQ`O'#FsO!&WQ`O'#FsO!&WQ`O'#FsO!&WQ`O'#FuO!&WQ`O'#FuO!&WQ`O'#FuO&AwQ`O,5<jOJjQ&jO7+'zOJjQ&jO7+'zOJjQ&jO7+'zOIWQ&jO1G2UO&BPQ`O1G2UOIWQ&jO7+'pO!'VQ7[O'#GOO$/eQqO1G2`O$/eQqO1G2`O$/eQqO1G2`O!'VQ7[O,5<jOIWQ&jO,5<tOIWQ&jO,5<tOIWQ&jO,5<t",stateData:"&B}~O'YOS'ZOSTOSUOS~OQTORTOXyO]cO_hObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#dsO#tpO#x^O%PqO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO%axO%nzO%t{O%v|O%x}O%z!OO%}!PO&T!QO&Z!RO&]!SO&_!TO&a!UO&c!VO']PO'fQO'oYO'|aO~OQ[XZ[X_[Xj[Xu[Xv[Xx[X!R[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'W[X'f[X'p[X'w[X'x[X~O!]$lX~P$zOS!WO'U!XO'V!ZO~OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']![O'fQO'oYO'|aO~O!Q!`O!R!]O!O'jP!O'tP~P'dO!S!mO~P`OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9aO'fQO'oYO'|aO~OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O'fQO'oYO'|aO~O!Q!rO#U!uO#V!rO']9bO!c'qP~P+{O#W!vO~O!]!wO#W!vO~OQ#^OZ#dOj#ROu!{Ov!{Ox!|O!R#bO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_'hX'W'hX!c'hX!O'hX!T'hX%Q'hX!]'hX~P.jO!{#eO#o#eOQ'iXZ'iX_'iXj'iXu'iXv'iXx'iX!R'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX~O#c'iX'W'iX!O'iX!c'iXn'iX!T'iX%Q'iX!]'iX~P0zO!{#eO~O#z#fO$R#jO~O!T#kO#x^O$U#lO$W#nO~O]#qOh$QOj#rOk#qOl#qOq$ROs$SOx#yO!T#zO!_$XO!d#vO#V$YO#t$VO$_$TO$a$UO$d$WO']#pO'b$PO'f#sO'a'cP~O!d$ZO~O!]$]O~O_$^O'W$^O~O']$bO~O!d$ZO']$bO'^$dO'b$PO~Oc$jO!d$ZO']$bO~O#c#TO~O]$sOu$oO!T$lO!d$nO%R$rO']$bO'^$dO^(UP~O!n$tO~Ox$uO!T$vO']$bO~Ox$uO!T$vO%Z$zO']$bO~O']${O~O#dsO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO~Ob%UOc%TO!n%RO%P%SO%c%QO~P7xOb%XOcmO!T%WO!nlO#dsO%PqO%TrO%UrO%XuO%ZvO%^wO%_wO%axO~O`%[O!{%_O%R%YO'^$dO~P8wO!d%`O!g%dO~O!d%eO~O!TSO~O_$^O'T%mO'W$^O~O_$^O'T%pO'W$^O~O_$^O'T%rO'W$^O~OS!WO'U!XO'V%vO~OQ[XZ[Xj[Xu[Xv[Xx[X!R[X!RdX!a[X!b[X!d[X!j[X!{[X!{dX#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X~O!O[X!OdX~P;dO!Q%xO!O&iX!O&nX!R&iX!R&nX~P'dO!R%zO!O'jX~OQ#^OZ#dOj#ROu!{Ov!{Ox!|O!R%zO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O!O'jX~P>aO!O&PO~Ox&SO!W&^O!X&VO!Y&VO'^$dO~O]&TOk&TO!Q&WO'g&QO!S'kP!S'vP~P@dO!O'sX!R'sX!]'sX!c'sX'p'sX~O!{'sX#W#PX!S'sX~PA]O!{&_O!O'uX!R'uX~O!R&`O!O'tX~O!O&cO~O!{#eO~PA]OP&gO!T&dO!o&fO']$bO~Oc&lO!d$ZO']$bO~Ou$oO!d$nO~O!S&mO~P`Ou!{Ov!{Ox!|O!b!yO!d!zO'fQOQ!faZ!faj!fa!R!fa!a!fa!j!fa#[!fa#]!fa#^!fa#_!fa#`!fa#a!fa#b!fa#c!fa#e!fa#g!fa#i!fa#j!fa'p!fa'w!fa'x!fa~O_!fa'W!fa!O!fa!c!fan!fa!T!fa%Q!fa!]!fa~PCfO!c&nO~O!]!wO!{&pO'p&oO!R'rX_'rX'W'rX~O!c'rX~PFOO!R&tO!c'qX~O!c&vO~Ox$uO!T$vO#V&wO']$bO~OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9aO'fQO'oYO'|aO~O]#qOh$QOj#rOk#qOl#qOq$ROs9tOx#yO!T#zO!_;eO!d#vO#V9}O#t$VO$_9wO$a9zO$d$WO']&{O'b$PO'f#sO~O#W&}O~O]#qOh$QOj#rOk#qOl#qOq$ROs$SOx#yO!T#zO!_$XO!d#vO#V$YO#t$VO$_$TO$a$UO$d$WO']&{O'b$PO'f#sO~O'a'mP~PJjO!Q'RO!c'nP~P){O'g'TO'oYO~OQ9^OR9^O]cOb;`Oc!jOhcOj9^OkcOlcOq9^Os9^OxRO{cO|cO}cO!T!bO!_9`O!dUO!g9^O!h9^O!i9^O!j9^O!k9^O!n!iO#t!lO#x^O']'cO'fQO'oYO'|;^O~O!d!zO~O!R#bO_$]a'W$]a!c$]a!O$]a!T$]a%Q$]a!]$]a~O#d'jO~PIWO!]'lO!T'yX#w'yX#z'yX$R'yX~Ou'mO~P! YOu'mO!T'yX#w'yX#z'yX$R'yX~O!T'oO#w'sO#z'nO$R'tO~O!Q'wO~PLbO#z#fO$R'zO~OP$eXu$eXx$eX!b$eX'w$eX'x$eX~OPfX!RfX!{fX'afX'a$eX~P!!rOk'|O~OS'}O'U(OO'V(QO~OP(ZOu(SOx(TO'w(VO'x(XO~O'a(RO~P!#{O'a([O~O]#qOh$QOj#rOk#qOl#qOq$ROs9tOx#yO!T#zO!_;eO!d#vO#V9}O#t$VO$_9wO$a9zO$d$WO'b$PO'f#sO~O!Q(`O'](]O!c'}P~P!$jO#W(bO~O!d(cO~O!Q(hO'](eO!O(OP~P!$jOj(uOx(mO!W(sO!X(lO!Y(lO!d(cO!x(tO$w(oO'^$dO'g(jO~O!S(rO~P!&jO!b!yOP'eXu'eXx'eX'w'eX'x'eX!R'eX!{'eX~O'a'eX#m'eX~P!'cOP(xO!{(wO!R'dX'a'dX~O!R(yO'a'cX~O']${O'a'cP~O'](|O~O!d)RO~O']&{O~Ox$uO!Q!rO!T$vO#U!uO#V!rO']$bO!c'qP~O!]!wO#W)VO~OQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_!^a!R!^a'W!^a!O!^a!c!^an!^a!T!^a%Q!^a!]!^a~P!)wOP)_O!T&dO!o)^O%Q)]O'b$PO~O!])aO!T'`X_'`X!R'`X'W'`X~O!d$ZO'b$PO~O!d$ZO']$bO'b$PO~O!]!wO#W&}O~O])lO%R)mO'])iO!S(VP~O!R)nO^(UX~O'g'TO~OZ)rO~O^)sO~O!T$lO']$bO'^$dO^(UP~Ox$uO!Q)xO!R&`O!T$vO']$bO!O'tP~O]&ZOk&ZO!Q)yO'g'TO!S'vP~O!R)zO_(RX'W(RX~O!{*OO'b$PO~OP*RO!T#zO'b$PO~O!T*TO~Ou*VO!TSO~O!n*[O~Oc*aO~O'](|O!S(TP~Oc$jO~O%RtO']${O~P8wOZ*gO^*fO~OQTORTO]cObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#x^O%PqO'fQO'oYO'|aO~O!T!bO#t!lO']9aO~P!1_O^*fO_$^O'W$^O~O_*kO#d*mO%T*mO%U*mO~P){O!d%`O~O%t*rO~O!T*tO~O&V*vO&X*wOQ&SaR&SaX&Sa]&Sa_&Sab&Sac&Sah&Saj&Sak&Sal&Saq&Sas&Sax&Sa{&Sa|&Sa}&Sa!T&Sa!_&Sa!d&Sa!g&Sa!h&Sa!i&Sa!j&Sa!k&Sa!n&Sa#d&Sa#t&Sa#x&Sa%P&Sa%R&Sa%T&Sa%U&Sa%X&Sa%Z&Sa%^&Sa%_&Sa%a&Sa%n&Sa%t&Sa%v&Sa%x&Sa%z&Sa%}&Sa&T&Sa&Z&Sa&]&Sa&_&Sa&a&Sa&c&Sa'S&Sa']&Sa'f&Sa'o&Sa'|&Sa!S&Sa%{&Sa`&Sa&Q&Sa~O']*|O~On+PO~O!O&ia!R&ia~P!)wO!Q+TO!O&iX!R&iX~P){O!R%zO!O'ja~O!O'ja~P>aO!R&`O!O'ta~O!RwX!R!ZX!SwX!S!ZX!]wX!]!ZX!d!ZX!{wX'b!ZX~O!]+YO!{+XO!R#TX!R'lX!S#TX!S'lX!]'lX!d'lX'b'lX~O!]+[O!d$ZO'b$PO!R!VX!S!VX~O]&ROk&ROx&SO'g(jO~OQ9^OR9^O]cOb;`Oc!jOhcOj9^OkcOlcOq9^Os9^OxRO{cO|cO}cO!T!bO!_9`O!dUO!g9^O!h9^O!i9^O!j9^O!k9^O!n!iO#t!lO#x^O'fQO'oYO'|;^O~O']:SO~P!;jO!R+`O!S'kX~O!S+bO~O!]+YO!{+XO!R#TX!S#TX~O!R+cO!S'vX~O!S+eO~O]&ROk&ROx&SO'^$dO'g(jO~O!X+fO!Y+fO~P!>hOx$uO!Q+hO!T$vO']$bO!O&nX!R&nX~O_+lO!W+oO!X+kO!Y+kO!r+sO!s+qO!t+rO!u+pO!x+tO'^$dO'g(jO'o+iO~O!S+nO~P!?iOP+yO!T&dO!o+xO~O!{,PO!R'ra!c'ra_'ra'W'ra~O!]!wO~P!@sO!R&tO!c'qa~Ox$uO!Q,SO!T$vO#U,UO#V,SO']$bO!R&pX!c&pX~O_#Oi!R#Oi'W#Oi!O#Oi!c#Oin#Oi!T#Oi%Q#Oi!]#Oi~P!)wOP;tOu(SOx(TO'w(VO'x(XO~O#W!za!R!za!c!za!{!za!T!za_!za'W!za!O!za~P!BpO#W'eXQ'eXZ'eX_'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX'W'eX'f'eX'p'eX!c'eX!O'eX!T'eXn'eX%Q'eX!]'eX~P!'cO!R,_O'a'mX~P!#{O'a,aO~O!R,bO!c'nX~P!)wO!c,eO~O!O,fO~OQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zi_#Zij#Zi!R#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O#[#Zi~P!FfO#[#PO~P!FfOQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO'fQOZ#Zi_#Zi!R#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~Oj#Zi~P!IQOj#RO~P!IQOQ#^Oj#ROu!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO'fQO_#Zi!R#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P!KlOZ#dO!a#TO#a#TO#b#TO#c#TO~P!KlOQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO'fQO_#Zi!R#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'w#Zi~P!NdO'w!}O~P!NdOQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO'fQO'w!}O_#Zi!R#Zi#i#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'x#Zi~P##OO'x#OO~P##OOQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO'fQO'w!}O'x#OO~O_#Zi!R#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P#%jOQ[XZ[Xj[Xu[Xv[Xx[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X!R[X!S[X~O#m[X~P#'}OQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO#g9lO#i9nO#j9oO'fQO'p#[O'w!}O'x#OO~O#m,hO~P#*XOQ'iXZ'iXj'iXu'iXv'iXx'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX!R'iX~O!{9sO#o9sO#c'iX#m'iX!S'iX~P#,SO_&sa!R&sa'W&sa!c&san&sa!O&sa!T&sa%Q&sa!]&sa~P!)wOQ#ZiZ#Zi_#Zij#Ziv#Zi!R#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'f#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P!BpO_#ni!R#ni'W#ni!O#ni!c#nin#ni!T#ni%Q#ni!]#ni~P!)wO#z,jO~O#z,kO~O!]'lO!{,lO!T$OX#w$OX#z$OX$R$OX~O!Q,mO~O!T'oO#w,oO#z'nO$R,pO~O!R9pO!S'hX~P#*XO!S,qO~O$R,sO~OS'}O'U(OO'V,vO~O],yOk,yO!O,zO~O!RdX!]dX!cdX!c$eX'pdX~P!!rO!c-QO~P!BpO!R-RO!]!wO'p&oO!c'}X~O!c-WO~O!Q(`O']$bO!c'}P~O#W-YO~O!O$eX!R$eX!]$lX~P!!rO!R-ZO!O(OX~P!BpO!]-]O~O!O-_O~Oj-cO!]!wO!d$ZO'b$PO'p&oO~O!])aO~O_$^O!R-hO'W$^O~O!S-jO~P!&jO!X-kO!Y-kO'^$dO'g(jO~Ox-mO'g(jO~O!x-nO~O']${O!R&xX'a&xX~O!R(yO'a'ca~O'a-sO~Ou-tOv-tOx-uOPra'wra'xra!Rra!{ra~O'ara#mra~P#7pOu(SOx(TOP$^a'w$^a'x$^a!R$^a!{$^a~O'a$^a#m$^a~P#8fOu(SOx(TOP$`a'w$`a'x$`a!R$`a!{$`a~O'a$`a#m$`a~P#9XO]-vO~O#W-wO~O'a$na!R$na!{$na#m$na~P!#{O#W-zO~OP.TO!T&dO!o.SO%Q.RO~O]#qOj#rOk#qOl#qOq$ROs9tOx#yO!T#zO!_;eO!d#vO#V9}O#t$VO$_9wO$a9zO$d$WO'b$PO'f#sO~Oh.VO'].UO~P#:yO!])aO!T'`a_'`a!R'`a'W'`a~O#W.]O~OZ[X!RdX!SdX~O!R.^O!S(VX~O!S.`O~OZ.aO~O].cO'])iO~O!T$lO']$bO^'QX!R'QX~O!R)nO^(Ua~O!c.fO~P!)wO].hO~OZ.iO~O^.jO~OP.TO!T&dO!o.SO%Q.RO'b$PO~O!R)zO_(Ra'W(Ra~O!{.pO~OP.sO!T#zO~O'g'TO!S(SP~OP.}O!T.yO!o.|O%Q.{O'b$PO~OZ/XO!R/VO!S(TX~O!S/YO~O^/[O_$^O'W$^O~O]/]O~O]/^O'](|O~O#c/_O%r/`O~P0zO!{#eO#c/_O%r/`O~O_/aO~P){O_/cO~O%{/gOQ%yiR%yiX%yi]%yi_%yib%yic%yih%yij%yik%yil%yiq%yis%yix%yi{%yi|%yi}%yi!T%yi!_%yi!d%yi!g%yi!h%yi!i%yi!j%yi!k%yi!n%yi#d%yi#t%yi#x%yi%P%yi%R%yi%T%yi%U%yi%X%yi%Z%yi%^%yi%_%yi%a%yi%n%yi%t%yi%v%yi%x%yi%z%yi%}%yi&T%yi&Z%yi&]%yi&_%yi&a%yi&c%yi'S%yi']%yi'f%yi'o%yi'|%yi!S%yi`%yi&Q%yi~O`/mO!S/kO&Q/lO~P`O!TSO!d/oO~O&X*wOQ&SiR&SiX&Si]&Si_&Sib&Sic&Sih&Sij&Sik&Sil&Siq&Sis&Six&Si{&Si|&Si}&Si!T&Si!_&Si!d&Si!g&Si!h&Si!i&Si!j&Si!k&Si!n&Si#d&Si#t&Si#x&Si%P&Si%R&Si%T&Si%U&Si%X&Si%Z&Si%^&Si%_&Si%a&Si%n&Si%t&Si%v&Si%x&Si%z&Si%}&Si&T&Si&Z&Si&]&Si&_&Si&a&Si&c&Si'S&Si']&Si'f&Si'o&Si'|&Si!S&Si%{&Si`&Si&Q&Si~O!R#bOn$]a~O!O&ii!R&ii~P!)wO!R%zO!O'ji~O!R&`O!O'ti~O!O/uO~O!R!Va!S!Va~P#*XO]&ROk&RO!Q/{O'g(jO!R&jX!S&jX~P@dO!R+`O!S'ka~O]&ZOk&ZO!Q)yO'g'TO!R&oX!S&oX~O!R+cO!S'va~O!O'ui!R'ui~P!)wO_$^O!]!wO!d$ZO!j0VO!{0TO'W$^O'b$PO'p&oO~O!S0YO~P!?iO!X0ZO!Y0ZO'^$dO'g(jO'o+iO~O!W0[O~P#MSO!TSO!W0[O!u0^O!x0_O~P#MSO!W0[O!s0aO!t0aO!u0^O!x0_O~P#MSO!T&dO~O!T&dO~P!BpO!R'ri!c'ri_'ri'W'ri~P!)wO!{0jO!R'ri!c'ri_'ri'W'ri~O!R&tO!c'qi~Ox$uO!T$vO#V0lO']$bO~O#WraQraZra_rajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra'Wra'fra'pra!cra!Ora!Tranra%Qra!]ra~P#7pO#W$^aQ$^aZ$^a_$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a'W$^a'f$^a'p$^a!c$^a!O$^a!T$^an$^a%Q$^a!]$^a~P#8fO#W$`aQ$`aZ$`a_$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a'W$`a'f$`a'p$`a!c$`a!O$`a!T$`an$`a%Q$`a!]$`a~P#9XO#W$naQ$naZ$na_$naj$nav$na!R$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na'W$na'f$na'p$na!c$na!O$na!T$na!{$nan$na%Q$na!]$na~P!BpO_#Oq!R#Oq'W#Oq!O#Oq!c#Oqn#Oq!T#Oq%Q#Oq!]#Oq~P!)wO!R&kX'a&kX~PJjO!R,_O'a'ma~O!Q0tO!R&lX!c&lX~P){O!R,bO!c'na~O!R,bO!c'na~P!)wO#m!fa!S!fa~PCfO#m!^a!R!^a!S!^a~P#*XO!T1XO#x^O$P1YO~O!S1^O~On1_O~P!BpO_$Yq!R$Yq'W$Yq!O$Yq!c$Yqn$Yq!T$Yq%Q$Yq!]$Yq~P!)wO!O1`O~O],yOk,yO~Ou(SOx(TO'x(XOP$xi'w$xi!R$xi!{$xi~O'a$xi#m$xi~P$.POu(SOx(TOP$zi'w$zi'x$zi!R$zi!{$zi~O'a$zi#m$zi~P$.rO'p#[O~P!BpO!Q1cO']$bO!R&tX!c&tX~O!R-RO!c'}a~O!R-RO!]!wO!c'}a~O!R-RO!]!wO'p&oO!c'}a~O'a$gi!R$gi!{$gi#m$gi~P!#{O!Q1kO'](eO!O&vX!R&vX~P!$jO!R-ZO!O(Oa~O!R-ZO!O(Oa~P!BpO!]!wO~O!]!wO#c1sO~Oj1vO!]!wO'p&oO~O!R'di'a'di~P!#{O!{1yO!R'di'a'di~P!#{O!c1|O~O_$Zq!R$Zq'W$Zq!O$Zq!c$Zqn$Zq!T$Zq%Q$Zq!]$Zq~P!)wO!R2QO!T(PX~P!BpO!T&dO%Q2TO~O!T&dO%Q2TO~P!BpO!T$eX$u[X_$eX!R$eX'W$eX~P!!rO$u2XOPgXugXxgX!TgX'wgX'xgX_gX!RgX'WgX~O$u2XO~O]2_O%R2`O'])iO!R'PX!S'PX~O!R.^O!S(Va~OZ2dO~O^2eO~O]2hO~OP2jO!T&dO!o2iO%Q2TO~O_$^O'W$^O~P!BpO!T#zO~P!BpO!R2oO!{2qO!S(SX~O!S2rO~Ox;oO!W2{O!X2tO!Y2tO!r2zO!s2yO!t2yO!x2xO'^$dO'g(jO'o+iO~O!S2wO~P$7ZOP3SO!T.yO!o3RO%Q3QO~OP3SO!T.yO!o3RO%Q3QO'b$PO~O'](|O!R'OX!S'OX~O!R/VO!S(Ta~O]3^O'g3]O~O]3_O~O^3aO~O!c3dO~P){O_3fO~O_3fO~P){O#c3hO%r3iO~PFOO`/mO!S3mO&Q/lO~P`O!]3oO~O!R#Ti!S#Ti~P#*XO!{3qO!R#Ti!S#Ti~O!R!Vi!S!Vi~P#*XO_$^O!{3xO'W$^O~O_$^O!]!wO!{3xO'W$^O~O!X3|O!Y3|O'^$dO'g(jO'o+iO~O_$^O!]!wO!d$ZO!j3}O!{3xO'W$^O'b$PO'p&oO~O!W4OO~P$;xO!W4OO!u4RO!x4SO~P$;xO_$^O!]!wO!j3}O!{3xO'W$^O'p&oO~O!R'rq!c'rq_'rq'W'rq~P!)wO!R&tO!c'qq~O#W$xiQ$xiZ$xi_$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi'W$xi'f$xi'p$xi!c$xi!O$xi!T$xin$xi%Q$xi!]$xi~P$.PO#W$ziQ$ziZ$zi_$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi'W$zi'f$zi'p$zi!c$zi!O$zi!T$zin$zi%Q$zi!]$zi~P$.rO#W$giQ$giZ$gi_$gij$giv$gi!R$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi'W$gi'f$gi'p$gi!c$gi!O$gi!T$gi!{$gin$gi%Q$gi!]$gi~P!BpO!R&ka'a&ka~P!#{O!R&la!c&la~P!)wO!R,bO!c'ni~O#m#Oi!R#Oi!S#Oi~P#*XOQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zij#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~O#[#Zi~P$EiO#[9eO~P$EiOQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO'fQOZ#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~Oj#Zi~P$GqOj9gO~P$GqOQ#^Oj9gOu!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO'fQO#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P$IyOZ9rO!a9iO#a9iO#b9iO#c9iO~P$IyOQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO'fQO#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'x#Zi!R#Zi!S#Zi~O'w#Zi~P$L_O'w!}O~P$L_OQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO#g9lO'fQO'w!}O#i#Zi#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~O'x#Zi~P$NgO'x#OO~P$NgOQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO#g9lO#i9nO'fQO'w!}O'x#OO~O#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~P%!oO_#ky!R#ky'W#ky!O#ky!c#kyn#ky!T#ky%Q#ky!]#ky~P!)wOP;vOu(SOx(TO'w(VO'x(XO~OQ#ZiZ#Zij#Ziv#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'f#Zi'p#Zi!R#Zi!S#Zi~P%%aO!b!yOP'eXu'eXx'eX'w'eX'x'eX!S'eX~OQ'eXZ'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX#m'eX'f'eX'p'eX!R'eX~P%'eO#m#ni!R#ni!S#ni~P#*XO!S4eO~O!R&sa!S&sa~P#*XO!]!wO'p&oO!R&ta!c&ta~O!R-RO!c'}i~O!R-RO!]!wO!c'}i~O'a$gq!R$gq!{$gq#m$gq~P!#{O!O&va!R&va~P!BpO!]4lO~O!R-ZO!O(Oi~P!BpO!R-ZO!O(Oi~O!O4pO~O!]!wO#c4uO~Oj4vO!]!wO'p&oO~O!O4xO~O'a$iq!R$iq!{$iq#m$iq~P!#{O_$Zy!R$Zy'W$Zy!O$Zy!c$Zyn$Zy!T$Zy%Q$Zy!]$Zy~P!)wO!R2QO!T(Pa~O!T&dO%Q4}O~O!T&dO%Q4}O~P!BpO_#Oy!R#Oy'W#Oy!O#Oy!c#Oyn#Oy!T#Oy%Q#Oy!]#Oy~P!)wOZ5QO~O]5SO'])iO~O!R.^O!S(Vi~O]5VO~O^5WO~O'g'TO!R&{X!S&{X~O!R2oO!S(Sa~O!S5eO~P$7ZOx;sO'g(jO'o+iO~O!W5hO!X5gO!Y5gO!x0_O'^$dO'g(jO'o+iO~O!s5iO!t5iO~P%0^O!X5gO!Y5gO'^$dO'g(jO'o+iO~O!T.yO~O!T.yO%Q5kO~O!T.yO%Q5kO~P!BpOP5pO!T.yO!o5oO%Q5kO~OZ5uO!R'Oa!S'Oa~O!R/VO!S(Ti~O]5xO~O!c5yO~O!c5zO~O!c5{O~O!c5{O~P){O_5}O~O!]6QO~O!c6RO~O!R'ui!S'ui~P#*XO_$^O'W$^O~P!)wO_$^O!{6WO'W$^O~O_$^O!]!wO!{6WO'W$^O~O!X6]O!Y6]O'^$dO'g(jO'o+iO~O_$^O!]!wO!j6^O!{6WO'W$^O'p&oO~O!d$ZO'b$PO~P%4xO!W6_O~P%4gO!R'ry!c'ry_'ry'W'ry~P!)wO#W$gqQ$gqZ$gq_$gqj$gqv$gq!R$gq!a$gq!b$gq!d$gq!j$gq#[$gq#]$gq#^$gq#_$gq#`$gq#a$gq#b$gq#c$gq#e$gq#g$gq#i$gq#j$gq'W$gq'f$gq'p$gq!c$gq!O$gq!T$gq!{$gqn$gq%Q$gq!]$gq~P!BpO#W$iqQ$iqZ$iq_$iqj$iqv$iq!R$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq'W$iq'f$iq'p$iq!c$iq!O$iq!T$iq!{$iqn$iq%Q$iq!]$iq~P!BpO!R&li!c&li~P!)wO#m#Oq!R#Oq!S#Oq~P#*XOu-tOv-tOx-uOPra'wra'xra!Sra~OQraZrajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra#mra'fra'pra!Rra~P%;OOu(SOx(TOP$^a'w$^a'x$^a!S$^a~OQ$^aZ$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a#m$^a'f$^a'p$^a!R$^a~P%=SOu(SOx(TOP$`a'w$`a'x$`a!S$`a~OQ$`aZ$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a#m$`a'f$`a'p$`a!R$`a~P%?WOQ$naZ$naj$nav$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na#m$na'f$na'p$na!R$na!S$na~P%%aO#m$Yq!R$Yq!S$Yq~P#*XO#m$Zq!R$Zq!S$Zq~P#*XO!S6hO~O#m6iO~P!#{O!]!wO!R&ti!c&ti~O!]!wO'p&oO!R&ti!c&ti~O!R-RO!c'}q~O!O&vi!R&vi~P!BpO!R-ZO!O(Oq~O!O6oO~P!BpO!O6oO~O!R'dy'a'dy~P!#{O!R&ya!T&ya~P!BpO!T$tq_$tq!R$tq'W$tq~P!BpOZ6vO~O!R.^O!S(Vq~O]6yO~O!T&dO%Q6zO~O!T&dO%Q6zO~P!BpO!{6{O!R&{a!S&{a~O!R2oO!S(Si~P#*XO!X7RO!Y7RO'^$dO'g(jO'o+iO~O!W7TO!x4SO~P%GXO!T.yO%Q7WO~O!T.yO%Q7WO~P!BpO]7_O'g7^O~O!R/VO!S(Tq~O!c7aO~O!c7aO~P){O!c7cO~O!c7dO~O!R#Ty!S#Ty~P#*XO_$^O!{7jO'W$^O~O_$^O!]!wO!{7jO'W$^O~O!X7mO!Y7mO'^$dO'g(jO'o+iO~O_$^O!]!wO!j7nO!{7jO'W$^O'p&oO~O#m#ky!R#ky!S#ky~P#*XOQ$giZ$gij$giv$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi#m$gi'f$gi'p$gi!R$gi!S$gi~P%%aOu(SOx(TO'x(XOP$xi'w$xi!S$xi~OQ$xiZ$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi#m$xi'f$xi'p$xi!R$xi~P%LjOu(SOx(TOP$zi'w$zi'x$zi!S$zi~OQ$ziZ$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi#m$zi'f$zi'p$zi!R$zi~P%NnO#m$Zy!R$Zy!S$Zy~P#*XO#m#Oy!R#Oy!S#Oy~P#*XO!]!wO!R&tq!c&tq~O!R-RO!c'}y~O!O&vq!R&vq~P!BpO!O7tO~P!BpO!R.^O!S(Vy~O!R2oO!S(Sq~O!X8QO!Y8QO'^$dO'g(jO'o+iO~O!T.yO%Q8TO~O!T.yO%Q8TO~P!BpO!c8WO~O_$^O!{8]O'W$^O~O_$^O!]!wO!{8]O'W$^O~OQ$gqZ$gqj$gqv$gq!a$gq!b$gq!d$gq!j$gq#[$gq#]$gq#^$gq#_$gq#`$gq#a$gq#b$gq#c$gq#e$gq#g$gq#i$gq#j$gq#m$gq'f$gq'p$gq!R$gq!S$gq~P%%aOQ$iqZ$iqj$iqv$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq#m$iq'f$iq'p$iq!R$iq!S$iq~P%%aO'a$|!Z!R$|!Z!{$|!Z#m$|!Z~P!#{O!R&{q!S&{q~P#*XO_$^O!{8oO'W$^O~O#W$|!ZQ$|!ZZ$|!Z_$|!Zj$|!Zv$|!Z!R$|!Z!a$|!Z!b$|!Z!d$|!Z!j$|!Z#[$|!Z#]$|!Z#^$|!Z#_$|!Z#`$|!Z#a$|!Z#b$|!Z#c$|!Z#e$|!Z#g$|!Z#i$|!Z#j$|!Z'W$|!Z'f$|!Z'p$|!Z!c$|!Z!O$|!Z!T$|!Z!{$|!Zn$|!Z%Q$|!Z!]$|!Z~P!BpOP;uOu(SOx(TO'w(VO'x(XO~O!S!za!W!za!X!za!Y!za!r!za!s!za!t!za!x!za'^!za'g!za'o!za~P&,_O!W'eX!X'eX!Y'eX!r'eX!s'eX!t'eX!x'eX'^'eX'g'eX'o'eX~P%'eOQ$|!ZZ$|!Zj$|!Zv$|!Z!a$|!Z!b$|!Z!d$|!Z!j$|!Z#[$|!Z#]$|!Z#^$|!Z#_$|!Z#`$|!Z#a$|!Z#b$|!Z#c$|!Z#e$|!Z#g$|!Z#i$|!Z#j$|!Z#m$|!Z'f$|!Z'p$|!Z!R$|!Z!S$|!Z~P%%aO!Wra!Xra!Yra!rra!sra!tra!xra'^ra'gra'ora~P%;OO!W$^a!X$^a!Y$^a!r$^a!s$^a!t$^a!x$^a'^$^a'g$^a'o$^a~P%=SO!W$`a!X$`a!Y$`a!r$`a!s$`a!t$`a!x$`a'^$`a'g$`a'o$`a~P%?WO!S$na!W$na!X$na!Y$na!r$na!s$na!t$na!x$na'^$na'g$na'o$na~P&,_O!W$xi!X$xi!Y$xi!r$xi!s$xi!t$xi!x$xi'^$xi'g$xi'o$xi~P%LjO!W$zi!X$zi!Y$zi!r$zi!s$zi!t$zi!x$zi'^$zi'g$zi'o$zi~P%NnO!S$gi!W$gi!X$gi!Y$gi!r$gi!s$gi!t$gi!x$gi'^$gi'g$gi'o$gi~P&,_O!S$gq!W$gq!X$gq!Y$gq!r$gq!s$gq!t$gq!x$gq'^$gq'g$gq'o$gq~P&,_O!S$iq!W$iq!X$iq!Y$iq!r$iq!s$iq!t$iq!x$iq'^$iq'g$iq'o$iq~P&,_O!S$|!Z!W$|!Z!X$|!Z!Y$|!Z!r$|!Z!s$|!Z!t$|!Z!x$|!Z'^$|!Z'g$|!Z'o$|!Z~P&,_On'hX~P.jOn[X!O[X!c[X%r[X!T[X%Q[X!][X~P$zO!]dX!c[X!cdX'pdX~P;dOQ9^OR9^O]cOb;`Oc!jOhcOj9^OkcOlcOq9^Os9^OxRO{cO|cO}cO!TSO!_9`O!dUO!g9^O!h9^O!i9^O!j9^O!k9^O!n!iO#t!lO#x^O']'cO'fQO'oYO'|;^O~O]#qOh$QOj#rOk#qOl#qOq$ROs9uOx#yO!T#zO!_;fO!d#vO#V:OO#t$VO$_9xO$a9{O$d$WO']&{O'b$PO'f#sO~O!R9pO!S$]a~O]#qOh$QOj#rOk#qOl#qOq$ROs9vOx#yO!T#zO!_;gO!d#vO#V:PO#t$VO$_9yO$a9|O$d$WO']&{O'b$PO'f#sO~O#d'jO~P&<WO!S[X!SdX~P;dO!]9dO~O#W9cO~O!]!wO#W9cO~O!{9sO~O#c9iO~O!{:QO!R'uX!S'uX~O!{9sO!R'sX!S'sX~O#W:RO~O'a:TO~P!#{O#W:[O~O#W:]O~O#W:^O~O!]!wO#W:_O~O!]!wO#W:RO~O#m:`O~P#*XO#W:aO~O#W:bO~O#W:cO~O#W:dO~O#W:eO~O#W:fO~O#W:gO~O#W:hO~O!O:iO~O#m:jO~P!#{O#m:kO~P!#{O#m:lO~P!#{O!O:mO~P!BpO!O:mO~O!O:nO~P!BpO!]!wO#c;lO~O!]!wO#c;nO~O#x~!b!r!t!u#U#V'|$_$a$d$u%P%Q%R%X%Z%^%_%a%c~UT#x'|#]}'Y'Z#z'Y']'g~",goto:"#Kk(ZPPPPPPPP([P(lP*`PPPP-zPP.a3s7o8SP8SPPP8SP:U8SP8SP:YPP:`P:t?VPPPP?ZPPPP?ZA{PPPBRDdP?ZPFwPPPPHp?ZPPPPPJi?ZPPMjNgPPPPNk!!TP!!]!#^PNg?Z?Z!&n!)i!.[!.[!1kPPP!1r!4h?ZPPPPPPPPPP!7_P!8pPP?Z!9}P?ZP?Z?Z?Z?ZP?Z!;dPP!>]P!AQ!AY!A^!A^P!>YP!Ab!AbP!DVP!DZ?Z?Z!Da!GT8SP8SP8S8SP!HW8S8S!Jf8S!M_8S# g8S8S#!T#$c#$c#$g#$c#$oP#$cP8S#%k8S#'X8S8S-zPPP#(yPP#)c#)cP#)cP#)x#)cPP#*OP#)uP#)u#*b!!X#)u#+P#+V#+Y([#+]([P#+d#+d#+dP([P([P([P([PP([P#+j#+mP#+m([P#+qP#+tP([P([P([P([P([P([([#+z#,U#,[#,b#,p#,v#,|#-W#-^#-m#-s#.R#.X#._#.m#/S#0z#1Y#1`#1f#1l#1r#1|#2S#2Y#2d#2v#2|PPPPPPPP#3SPP#3v#7OPP#8f#8m#8uPP#>a#@t#Fp#Fs#Fv#GR#GUPP#GX#G]#Gz#Hq#Hu#IZPP#I_#Ie#IiP#Il#Ip#Is#Jc#Jy#KO#KR#KU#K[#K_#Kc#KgmhOSj}!n$]%c%f%g%i*o*t/g/jQ$imQ$ppQ%ZyS&V!b+`Q&k!jS(l#z(qQ)g$jQ)t$rQ*`%TQ+f&^S+k&d+mQ+}&lQ-k(sQ/U*aY0Z+o+p+q+r+sS2t.y2vU3|0[0^0aU5g2y2z2{S6]4O4RS7R5h5iQ7m6_R8Q7T$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8o!j'e#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ(}$SQ)l$lQ*b%WQ*i%`Q,X9tQ.W)aQ.c)mQ/^*gQ2_.^Q3Z/VQ4^9vQ5S2`R8{9upeOSjy}!n$]%Y%c%f%g%i*o*t/g/jR*d%[&WVOSTjkn}!S!W!k!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%z&S&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;`;a[!cRU!]!`%x&WQ$clQ$hmS$mp$rv$wrs!r!u$Z$u&`&t&w)x)y)z*m+Y+h,S,U/o0lQ%PwQ&h!iQ&j!jS(_#v(cS)f$i$jQ)j$lQ)w$tQ*Z%RQ*_%TS+|&k&lQ-V(`Q.[)gQ.b)mQ.d)nQ.g)rQ/P*[S/T*`*aQ0h+}Q1b-RQ2^.^Q2b.aQ2g.iQ3Y/UQ4i1cQ5R2`Q5U2dQ6u5QR7w6vx#xa!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;k!Y$fm!j$h$i$j&U&j&k&l(k)f)g+]+j+|+}-d.[0Q0W0]0h1u3{4Q6Z7k8^Q)`$cQ*P$|Q*S$}Q*^%TQ.k)wQ/O*ZU/S*_*`*aQ3T/PS3X/T/UQ5b2sQ5t3YS7P5c5fS8O7Q7SQ8f8PQ8u8g#[;b!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vd;c9d9x9{:O:V:Y:]:b:e:ke;d9r9y9|:P:W:Z:^:c:f:lW#}a$P(y;^S$|t%YQ$}uQ%OvR)}$z%P#|a!w!y#d#v#y$T$U$Y&g'}(W(Y(Z(b(h(w(x)])_)a*O*R+y,_-Y-Z-]-w.R.T.p.s.{.}1a1k1s1y2Q2T2X2j3Q3S4l4u4}5k5p6i6z7W8T9d9r9w9x9y9z9{9|9}:O:P:U:V:W:X:Y:Z:[:]:^:a:b:c:d:e:f:j:k:l;^;i;j;k;l;n;t;u;vT(O#s(PX)O$S9t9u9vU&Z!b$v+cQ'U!{Q)q$oQ.t*TQ1z-tR5^2o&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;a$]#aZ!_!o$a%w%}&y'Q'W'X'Y'Z'[']'^'_'`'a'b'd'g'k'u)p+R+^+g,O,^,d,g,i,w-x/v/y0i0s0w0x0y0z0{0|0}1O1P1Q1R1S1T1W1]2O2[3s3v4W4[4]4b4c5`6S6V6b6f6g7g7z8Z8m8y9_:|T!XQ!Y&_cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ&X!bR/|+`Y&R!b&V&^+`+fS(k#z(qS+j&d+mS-d(l(sQ-e(mQ-l(tQ.v*VU0W+k+o+pU0]+q+r+sS0b+t2xQ1u-kQ1w-mQ1x-nS2s.y2vU3{0Z0[0^Q4P0_Q4Q0aS5c2t2{S5f2y2zU6Z3|4O4RQ6`4SS7Q5g5hQ7S5iS7k6]6_S8P7R7TQ8^7mQ8g8QQ;h;oR;m;slhOSj}!n$]%c%f%g%i*o*t/g/jQ%k!QS&x!v9cQ)d$gQ*X%PQ*Y%QQ+z&iS,]&}:RS-y)V:_Q.Y)eQ.x*WQ/n*vQ/p*wQ/x+ZQ0`+qQ0f+{S2P-z:gQ2Y.ZS2].]:hQ3r/zQ3u0RQ4U0gQ5P2ZQ6T3tQ6X3zQ6a4VQ7e6RQ7h6YQ8Y7iQ8l8[R8x8n$W#`Z!_!o%w%}&y'Q'W'X'Y'Z'[']'^'_'`'a'b'd'g'k'u)p+R+^+g,O,^,d,g,w-x/v/y0i0s0w0x0y0z0{0|0}1O1P1Q1R1S1T1W1]2O2[3s3v4W4[4]4b4c5`6S6V6b6f6g7g7z8Z8m8y9_:|W(v#{&|1V8qT)Z$a,i$W#_Z!_!o%w%}&y'Q'W'X'Y'Z'[']'^'_'`'a'b'd'g'k'u)p+R+^+g,O,^,d,g,w-x/v/y0i0s0w0x0y0z0{0|0}1O1P1Q1R1S1T1W1]2O2[3s3v4W4[4]4b4c5`6S6V6b6f6g7g7z8Z8m8y9_:|Q'f#`S)Y$a,iR-{)Z&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ%f{Q%g|Q%i!OQ%j!PR/f*rQ&e!iQ)[$cQ+w&hS.Q)`)wS0c+u+vW2S-}.O.P.kS4T0d0eU4|2U2V2WU6s4{5Y5ZQ7v6tR8b7yT+l&d+mS+j&d+mU0W+k+o+pU0]+q+r+sS0b+t2xS2s.y2vU3{0Z0[0^Q4P0_Q4Q0aS5c2t2{S5f2y2zU6Z3|4O4RQ6`4SS7Q5g5hQ7S5iS7k6]6_S8P7R7TQ8^7mR8g8QS+l&d+mT2u.y2vS&r!q/dQ-U(_Q-b(kS0V+j2sQ1g-VS1p-c-lU3}0]0b5fQ4h1bS4s1v1xU6^4P4Q7SQ6k4iQ6r4vR7n6`Q!xXS&q!q/dQ)W$[Q)b$eQ)h$kQ,Q&rQ-T(_Q-a(kQ-f(nQ.X)cQ/Q*]S0U+j2sS1f-U-VS1o-b-lQ1r-eQ1t-gQ3V/RW3y0V0]0b5fQ4g1bQ4k1gS4o1p1xQ4t1wQ5r3WW6[3}4P4Q7SS6j4h4iS6n4p:iQ6p4sQ6}5aQ7[5sS7l6^6`Q7r6kS7s6o:mQ7u6rQ7|7OQ8V7]Q8_7nS8a7t:nQ8d7}Q8s8eQ9Q8tQ9X9RQ:u:pQ;T:zQ;U:{Q;V;hR;[;m$rWORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oS!xn!k!j:o#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aR:u;`$rXORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oQ$[b!Y$em!j$h$i$j&U&j&k&l(k)f)g+]+j+|+}-d.[0Q0W0]0h1u3{4Q6Z7k8^S$kn!kQ)c$fQ*]%TW/R*^*_*`*aU3W/S/T/UQ5a2sS5s3X3YU7O5b5c5fQ7]5tU7}7P7Q7SS8e8O8PS8t8f8gQ9R8u!j:p#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ:z;_R:{;`$f]OSTjk}!S!W!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%c%e%f%g%i%m%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oY!hRU!]!`%xv$wrs!r!u$Z$u&`&t&w)x)y)z*m+Y+h,S,U/o0lQ*j%`!h:q#]#k'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aR:t&WS&[!b$vR0O+c$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8o!j'e#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aR*i%`$roORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oQ'U!{!k:r#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;a!h#VZ!_$a%w%}&y'Q'_'`'a'b'g'k)p+R+g,O,^,d,w-x0i0s1T2O2[3v4W4[6V7g8Z8m8y9_!R9k'd'u+^,i/v/y0w1P1Q1R1S1W1]3s4]4b4c5`6S6b6f6g7z:|!d#XZ!_$a%w%}&y'Q'a'b'g'k)p+R+g,O,^,d,w-x0i0s1T2O2[3v4W4[6V7g8Z8m8y9_}9m'd'u+^,i/v/y0w1R1S1W1]3s4]4b4c5`6S6b6f6g7z:|!`#]Z!_$a%w%}&y'Q'g'k)p+R+g,O,^,d,w-x0i0s1T2O2[3v4W4[6V7g8Z8m8y9_Q1a-Px;a'd'u+^,i/v/y0w1W1]3s4]4b4c5`6S6b6f6g7z:|Q;i;pQ;j;qR;k;r&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aS#l`#mR1Y,l&e_ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,l,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aS#g^#nT'n#i'rT#h^#nT'p#i'r&e`ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,l,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aT#l`#mQ#o`R'y#m$rbORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8o!k;_#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;a#RdOSUj}!S!W!n!|#k$]%[%_%`%c%e%f%g%i%m&S&f'w)^*k*o*t+x,m-u.S.|/_/`/a/c/g/j/l1X2i3R3f3h3i5o5}x#{a!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;k#[&|!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vQ)S$WQ,x(Sd1V9r9y9|:P:W:Z:^:c:f:le8q9d9x9{:O:V:Y:]:b:e:kx#wa!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;kQ(d#xS(n#z(qQ)T$XQ-g(o#[:w!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vd:x9d9x9{:O:V:Y:]:b:e:kd:y9r9y9|:P:W:Z:^:c:f:lQ:};bQ;O;cQ;P;dQ;Q;eQ;R;fR;S;gx#{a!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;k#[&|!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vd1V9r9y9|:P:W:Z:^:c:f:le8q9d9x9{:O:V:Y:]:b:e:klfOSj}!n$]%c%f%g%i*o*t/g/jQ(g#yQ*}%pQ+O%rR1j-Z%O#|a!w!y#d#v#y$T$U$Y&g'}(W(Y(Z(b(h(w(x)])_)a*O*R+y,_-Y-Z-]-w.R.T.p.s.{.}1a1k1s1y2Q2T2X2j3Q3S4l4u4}5k5p6i6z7W8T9d9r9w9x9y9z9{9|9}:O:P:U:V:W:X:Y:Z:[:]:^:a:b:c:d:e:f:j:k:l;^;i;j;k;l;n;t;u;vQ*Q$}Q.r*SQ2m.qR5]2nT(p#z(qS(p#z(qT2u.y2vQ)b$eQ-f(nQ.X)cQ/Q*]Q3V/RQ5r3WQ6}5aQ7[5sQ7|7OQ8V7]Q8d7}Q8s8eQ9Q8tR9X9Rp(W#t'O)U-X-o-p0q1h1}4f4w7q:v;W;X;Y!n:U&z'i(^(f+v,[,t-P-^-|.P.o.q0e0p1i1m2W2l2n3O4Y4Z4m4q4y5O5Z5n6m6q7Y8`;Z;];p;q;r[:V8p9O9V9Y9Z9]]:W1U4a6c7o7p8zr(Y#t'O)U,}-X-o-p0q1h1}4f4w7q:v;W;X;Y!p:X&z'i(^(f+v,[,t-P-^-|.P.o.q0e0n0p1i1m2W2l2n3O4Y4Z4m4q4y5O5Z5n6m6q7Y8`;Z;];p;q;r^:Y8p9O9T9V9Y9Z9]_:Z1U4a6c6d7o7p8zpeOSjy}!n$]%Y%c%f%g%i*o*t/g/jQ%VxR*k%`peOSjy}!n$]%Y%c%f%g%i*o*t/g/jR%VxQ*U%OR.n)}qeOSjy}!n$]%Y%c%f%g%i*o*t/g/jQ.z*ZS3P/O/PW5j2|2}3O3TU7V5l5m5nU8R7U7X7YQ8h8SR8v8iQ%^yR*e%YR3^/XR7_5uS$mp$rR.d)nQ%czR*o%dR*u%jT/h*t/jR*y%kQ*x%kR/q*yQjOQ!nST$`j!nQ(P#sR,u(PQ!YQR%u!YQ!^RU%{!^%|+UQ%|!_R+U%}Q+a&XR/}+aQ,`'OR0r,`Q,c'QS0u,c0vR0v,dQ+m&dR0X+mS!eR$uU&a!e&b+VQ&b!fR+V&OQ+d&[R0P+dQ&u!sQ,R&sU,V&u,R0mR0m,WQ'r#iR,n'rQ#m`R'x#mQ#cZU'h#c+Q9qQ+Q9_R9q'uQ-S(_W1d-S1e4j6lU1e-T-U-VS4j1f1gR6l4k$k(U#t&z'O'i(^(f)P)Q)U+v,Y,Z,[,t,}-O-P-X-^-o-p-|.P.o.q0e0n0o0p0q1U1h1i1m1}2W2l2n3O4Y4Z4_4`4a4f4m4q4w4y5O5Z5n6c6d6e6m6q7Y7o7p7q8`8p8z8|8}9O9T9U9V9Y9Z9]:v;W;X;Y;Z;];p;q;rQ-[(fU1l-[1n4nQ1n-^R4n1mQ(q#zR-i(qQ(z$OR-r(zQ2R-|R4z2RQ){$xR.m){Q2p.tS5_2p6|R6|5`Q*W%PR.w*WQ2v.yR5d2vQ/W*bS3[/W5vR5v3^Q._)jW2a._2c5T6wQ2c.bQ5T2bR6w5UQ)o$mR.e)oQ/j*tR3l/jWiOSj!nQ%h}Q)X$]Q*n%cQ*p%fQ*q%gQ*s%iQ/e*oS/h*t/jR3k/gQ$_gQ%l!RQ%o!TQ%q!UQ%s!VQ)v$sQ)|$yQ*d%^Q*{%nQ-h(pS/Z*e*hQ/r*zQ/s*}Q/t+OS0S+j2sQ2f.hQ2k.oQ3U/QQ3`/]Q3j/fY3w0U0V0]0b5fQ5X2hQ5[2lQ5q3VQ5w3_[6U3v3y3}4P4Q7SQ6x5VQ7Z5rQ7`5xW7f6V6[6^6`Q7x6yQ7{6}Q8U7[U8X7g7l7nQ8c7|Q8j8VS8k8Z8_Q8r8dQ8w8mQ9P8sQ9S8yQ9W9QR9[9XQ$gmQ&i!jU)e$h$i$jQ+Z&UU+{&j&k&lQ-`(kS.Z)f)gQ/z+]Q0R+jS0g+|+}Q1q-dQ2Z.[Q3t0QS3z0W0]Q4V0hQ4r1uS6Y3{4QQ7i6ZQ8[7kR8n8^S#ua;^R({$PU$Oa$P;^R-q(yQ#taS&z!w)aQ'O!yQ'i#dQ(^#vQ(f#yQ)P$TQ)Q$UQ)U$YQ+v&gQ,Y9wQ,Z9zQ,[9}Q,t'}Q,}(WQ-O(YQ-P(ZQ-X(bQ-^(hQ-o(wQ-p(xd-|)].R.{2T3Q4}5k6z7W8TQ.P)_Q.o*OQ.q*RQ0e+yQ0n:UQ0o:XQ0p:[Q0q,_Q1U9rQ1h-YQ1i-ZQ1m-]Q1}-wQ2W.TQ2l.pQ2n.sQ3O.}Q4Y:aQ4Z:dQ4_9yQ4`9|Q4a:PQ4f1aQ4m1kQ4q1sQ4w1yQ4y2QQ5O2XQ5Z2jQ5n3SQ6c:^Q6d:WQ6e:ZQ6m4lQ6q4uQ7Y5pQ7o:cQ7p:fQ7q6iQ8`:jQ8p9dQ8z:lQ8|9xQ8}9{Q9O:OQ9T:VQ9U:YQ9V:]Q9Y:bQ9Z:eQ9]:kQ:v;^Q;W;iQ;X;jQ;Y;kQ;Z;lQ;];nQ;p;tQ;q;uR;r;vlgOSj}!n$]%c%f%g%i*o*t/g/jS!pU%eQ%n!SQ%t!WQ'V!|Q'v#kS*h%[%_Q*l%`Q*z%mQ+W&SQ+u&fQ,r'wQ.O)^Q/b*kQ0d+xQ1[,mQ1{-uQ2V.SQ2}.|Q3b/_Q3c/`Q3e/aQ3g/cQ3n/lQ4d1XQ5Y2iQ5m3RQ5|3fQ6O3hQ6P3iQ7X5oR7b5}!vZOSUj}!S!n!|$]%[%_%`%c%e%f%g%i%m&S&f)^*k*o*t+x-u.S.|/_/`/a/c/g/j/l2i3R3f3h3i5o5}Q!_RQ!oTQ$akS%w!]%zQ%}!`Q&y!vQ'Q!zQ'W#PQ'X#QQ'Y#RQ'Z#SQ'[#TQ']#UQ'^#VQ'_#WQ'`#XQ'a#YQ'b#ZQ'd#]Q'g#bQ'k#eW'u#k'w,m1XQ)p$nS+R%x+TS+^&W/{Q+g&_Q,O&pQ,^&}Q,d'RQ,g9^Q,i9`Q,w(RQ-x)VQ/v+XQ/y+[Q0i,PQ0s,bQ0w9cQ0x9eQ0y9fQ0z9gQ0{9hQ0|9iQ0}9jQ1O9kQ1P9lQ1Q9mQ1R9nQ1S9oQ1T,hQ1W9sQ1]9pQ2O-zQ2[.]Q3s:QQ3v0TQ4W0jQ4[0tQ4]:RQ4b:TQ4c:_Q5`2qQ6S3qQ6V3xQ6b:`Q6f:gQ6g:hQ7g6WQ7z6{Q8Z7jQ8m8]Q8y8oQ9_!WR:|;aR!aRR&Y!bS&U!b+`S+]&V&^R0Q+fR'P!yR'S!zT!tU$ZS!sU$ZU$xrs*mS&s!r!uQ,T&tQ,W&wQ.l)zS0k,S,UR4X0l`!dR!]!`$u%x&`)x+hh!qUrs!r!u$Z&t&w)z,S,U0lQ/d*mQ/w+YQ3p/oT:s&W)yT!gR$uS!fR$uS%y!]&`S&O!`)xS+S%x+hT+_&W)yT&]!b$vQ#i^R'{#nT'q#i'rR1Z,lT(a#v(cR(i#yQ-})]Q2U.RQ2|.{Q4{2TQ5l3QQ6t4}Q7U5kQ7y6zQ8S7WR8i8TlhOSj}!n$]%c%f%g%i*o*t/g/jQ%]yR*d%YV$yrs*mR.u*TR*c%WQ$qpR)u$rR)k$lT%az%dT%bz%dT/i*t/j",nodeNames:"\u26A0 extends ArithOp ArithOp InterpolationStart LineComment BlockComment Script ExportDeclaration export Star as VariableName String from ; default FunctionDeclaration async function VariableDefinition TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Interpolation null super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression PrivatePropertyName BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement",maxTerm:332,context:trackNewline,nodeProps:[["closedBy",4,"InterpolationEnd",40,"]",51,"}",66,")",132,"JSXSelfCloseEndTag JSXEndTag",146,"JSXEndTag"],["group",-26,8,15,17,58,184,188,191,192,194,197,200,211,213,219,221,223,225,228,234,240,242,244,246,248,250,251,"Statement",-30,12,13,24,27,28,41,43,44,45,47,52,60,68,74,75,91,92,101,103,119,122,124,125,126,127,129,130,148,149,151,"Expression",-22,23,25,29,32,34,152,154,156,157,159,160,161,163,164,165,167,168,169,178,180,182,183,"Type",-3,79,85,90,"ClassItem"],["openedBy",30,"InterpolationStart",46,"[",50,"{",65,"(",131,"JSXStartTag",141,"JSXStartTag JSXStartCloseTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6],repeatNodeCount:28,tokenData:"!C}~R!`OX%TXY%cYZ'RZ[%c[]%T]^'R^p%Tpq%cqr'crs(kst0htu2`uv4pvw5ewx6cxy<yyz=Zz{=k{|>k|}?O}!O>k!O!P?`!P!QCl!Q!R!0[!R![!1q![!]!7s!]!^!8V!^!_!8g!_!`!9d!`!a!:[!a!b!<R!b!c%T!c!}2`!}#O!=d#O#P%T#P#Q!=t#Q#R!>U#R#S2`#S#T!>i#T#o2`#o#p!>y#p#q!?O#q#r!?f#r#s!?x#s$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$I|2`$I|$I}!Bq$I}$JO!Bq$JO$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`W%YR$UWO!^%T!_#o%T#p~%T7Z%jg$UW'Y7ROX%TXY%cYZ%TZ[%c[p%Tpq%cq!^%T!_#o%T#p$f%T$f$g%c$g#BY%T#BY#BZ%c#BZ$IS%T$IS$I_%c$I_$JT%T$JT$JU%c$JU$KV%T$KV$KW%c$KW&FU%T&FU&FV%c&FV?HT%T?HT?HU%c?HU~%T7Z'YR$UW'Z7RO!^%T!_#o%T#p~%T$T'jS$UW!j#{O!^%T!_!`'v!`#o%T#p~%T$O'}S#e#v$UWO!^%T!_!`(Z!`#o%T#p~%T$O(bR#e#v$UWO!^%T!_#o%T#p~%T)X(rZ$UW]#eOY(kYZ)eZr(krs*rs!^(k!^!_+U!_#O(k#O#P-b#P#o(k#o#p+U#p~(k&r)jV$UWOr)ers*Ps!^)e!^!_*a!_#o)e#o#p*a#p~)e&r*WR$P&j$UWO!^%T!_#o%T#p~%T&j*dROr*ars*ms~*a&j*rO$P&j)X*{R$P&j$UW]#eO!^%T!_#o%T#p~%T)P+ZV]#eOY+UYZ*aZr+Urs+ps#O+U#O#P+w#P~+U)P+wO$P&j]#e)P+zROr+Urs,Ts~+U)P,[U$P&j]#eOY,nZr,nrs-Vs#O,n#O#P-[#P~,n#e,sU]#eOY,nZr,nrs-Vs#O,n#O#P-[#P~,n#e-[O]#e#e-_PO~,n)X-gV$UWOr(krs-|s!^(k!^!_+U!_#o(k#o#p+U#p~(k)X.VZ$P&j$UW]#eOY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x#m/PZ$UW]#eOY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x#m/yR$UW]#eO!^%T!_#o%T#p~%T#m0XT$UWO!^.x!^!_,n!_#o.x#o#p,n#p~.x3]0mZ$UWOt%Ttu1`u!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`3]1g]$UW'o3TOt%Ttu1`u!Q%T!Q![1`![!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`7Z2k_$UW#zS']$y'g3SOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`[3q_$UW#zSOt%Ttu3ju}%T}!O3j!O!Q%T!Q![3j![!^%T!_!c%T!c!}3j!}#R%T#R#S3j#S#T%T#T#o3j#p$g%T$g~3j$O4wS#^#v$UWO!^%T!_!`5T!`#o%T#p~%T$O5[R$UW#o#vO!^%T!_#o%T#p~%T5b5lU'x5Y$UWOv%Tvw6Ow!^%T!_!`5T!`#o%T#p~%T$O6VS$UW#i#vO!^%T!_!`5T!`#o%T#p~%T)X6jZ$UW]#eOY6cYZ7]Zw6cwx*rx!^6c!^!_8T!_#O6c#O#P:T#P#o6c#o#p8T#p~6c&r7bV$UWOw7]wx*Px!^7]!^!_7w!_#o7]#o#p7w#p~7]&j7zROw7wwx*mx~7w)P8YV]#eOY8TYZ7wZw8Twx+px#O8T#O#P8o#P~8T)P8rROw8Twx8{x~8T)P9SU$P&j]#eOY9fZw9fwx-Vx#O9f#O#P9}#P~9f#e9kU]#eOY9fZw9fwx-Vx#O9f#O#P9}#P~9f#e:QPO~9f)X:YV$UWOw6cwx:ox!^6c!^!_8T!_#o6c#o#p8T#p~6c)X:xZ$P&j$UW]#eOY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k#m;rZ$UW]#eOY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k#m<jT$UWO!^;k!^!_9f!_#o;k#o#p9f#p~;k&i=QR!d&a$UWO!^%T!_#o%T#p~%Tk=bR!cc$UWO!^%T!_#o%T#p~%T7V=tU'^4V#_#v$UWOz%Tz{>W{!^%T!_!`5T!`#o%T#p~%T$O>_S#[#v$UWO!^%T!_!`5T!`#o%T#p~%T%w>rSj%o$UWO!^%T!_!`5T!`#o%T#p~%T&i?VR!R&a$UWO!^%T!_#o%T#p~%T7Z?gVu5^$UWO!O%T!O!P?|!P!Q%T!Q![@r![!^%T!_#o%T#p~%T!{@RT$UWO!O%T!O!P@b!P!^%T!_#o%T#p~%T!{@iR!Q!s$UWO!^%T!_#o%T#p~%T!{@yZ$UWk!sO!Q%T!Q![@r![!^%T!_!g%T!g!hAl!h#R%T#R#S@r#S#X%T#X#YAl#Y#o%T#p~%T!{AqZ$UWO{%T{|Bd|}%T}!OBd!O!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T!{BiV$UWO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T!{CVV$UWk!sO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T7ZCs`$UW#]#vOYDuYZ%TZzDuz{Jl{!PDu!P!Q!-e!Q!^Du!^!_Fx!_!`!.^!`!a!/]!a!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXD|[$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXEy_$UW}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%TPF}V}POYFxZ!PFx!P!QGd!Q!}Fx!}#OG{#O#PHh#P~FxPGiU}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGdPHOTOYG{Z#OG{#O#PH_#P#QFx#Q~G{PHbQOYG{Z~G{PHkQOYFxZ~FxXHvY$UWOYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~HqXIkV$UWOYHqYZ%TZ!^Hq!^!_G{!_#oHq#o#pG{#p~HqXJVV$UWOYDuYZ%TZ!^Du!^!_Fx!_#oDu#o#pFx#p~Du7ZJs^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q!,R!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7ZKtV$UWOzKoz{LZ{!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZL`X$UWOzKoz{LZ{!PKo!P!QL{!Q!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZMSR$UWU7RO!^%T!_#o%T#p~%T7RM`ROzM]z{Mi{~M]7RMlTOzM]z{Mi{!PM]!P!QM{!Q~M]7RNQOU7R7ZNX^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q! T!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7Z! ^_$UWU7R}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%T7R!!bY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!&x!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#VY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!#u!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#|UU7R}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGd7R!$cWOY!$`YZM]Zz!$`z{!${{#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%OYOY!$`YZM]Zz!$`z{!${{!P!$`!P!Q!%n!Q#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%sTU7ROYG{Z#OG{#O#PH_#P#QFx#Q~G{7R!&VTOY!$`YZM]Zz!$`z{!${{~!$`7R!&iTOY!!]YZM]Zz!!]z{!#Q{~!!]7R!&}_}POzM]z{Mi{#ZM]#Z#[!&x#[#]M]#]#^!&x#^#aM]#a#b!&x#b#gM]#g#h!&x#h#iM]#i#j!&x#j#mM]#m#n!&x#n~M]7Z!(R[$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!(|^$UWOY!'|YZKoZz!'|z{!(w{!P!'|!P!Q!)x!Q!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!*PY$UWU7ROYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~Hq7Z!*tX$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#o!'|#o#p!$`#p~!'|7Z!+fX$UWOYJlYZKoZzJlz{NQ{!^Jl!^!_!!]!_#oJl#o#p!!]#p~Jl7Z!,Yc$UW}POzKoz{LZ{!^Ko!^!_M]!_#ZKo#Z#[!,R#[#]Ko#]#^!,R#^#aKo#a#b!,R#b#gKo#g#h!,R#h#iKo#i#j!,R#j#mKo#m#n!,R#n#oKo#o#pM]#p~Ko7Z!-lV$UWT7ROY!-eYZ%TZ!^!-e!^!_!.R!_#o!-e#o#p!.R#p~!-e7R!.WQT7ROY!.RZ~!.R$P!.g[$UW#o#v}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Du]!/f[#wS$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Du!{!0cd$UWk!sO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#U%T#U#V!3X#V#X%T#X#YAl#Y#b%T#b#c!2w#c#d!4m#d#l%T#l#m!5{#m#o%T#p~%T!{!1x_$UWk!sO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#X%T#X#YAl#Y#b%T#b#c!2w#c#o%T#p~%T!{!3OR$UWk!sO!^%T!_#o%T#p~%T!{!3^W$UWO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#o%T#p~%T!{!3}Y$UWk!sO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#b%T#b#c!2w#c#o%T#p~%T!{!4rV$UWO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#o%T#p~%T!{!5`X$UWk!sO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#b%T#b#c!2w#c#o%T#p~%T!{!6QZ$UWO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#o%T#p~%T!{!6z]$UWk!sO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#b%T#b#c!2w#c#o%T#p~%T$u!7|R!]V$UW#m$fO!^%T!_#o%T#p~%T!q!8^R_!i$UWO!^%T!_#o%T#p~%T5w!8rR'bd!a/n#x&s'|P!P!Q!8{!^!_!9Q!_!`!9_W!9QO$WW#v!9VP#`#v!_!`!9Y#v!9_O#o#v#v!9dO#a#v$u!9kT!{$m$UWO!^%T!_!`'v!`!a!9z!a#o%T#p~%T$P!:RR#W#w$UWO!^%T!_#o%T#p~%T%V!:gT'a!R#a#v$RS$UWO!^%T!_!`!:v!`!a!;W!a#o%T#p~%T$O!:}R#a#v$UWO!^%T!_#o%T#p~%T$O!;_T#`#v$UWO!^%T!_!`5T!`!a!;n!a#o%T#p~%T$O!;uS#`#v$UWO!^%T!_!`5T!`#o%T#p~%T*a!<YV'p#{$UWO!O%T!O!P!<o!P!^%T!_!a%T!a!b!=P!b#o%T#p~%T*[!<vRv*S$UWO!^%T!_#o%T#p~%T$O!=WS$UW#j#vO!^%T!_!`5T!`#o%T#p~%T7V!=kRx6}$UWO!^%T!_#o%T#p~%Tk!={R!Oc$UWO!^%T!_#o%T#p~%T$O!>]S#g#v$UWO!^%T!_!`5T!`#o%T#p~%T$a!>pR$UW'f$XO!^%T!_#o%T#p~%T~!?OO!T~5b!?VT'w5Y$UWO!^%T!_!`5T!`#o%T#p#q!=P#q~%T6X!?oR!S5}nQ$UWO!^%T!_#o%T#p~%TX!@PR!kP$UWO!^%T!_#o%T#p~%T7Z!@gr$UW'Y7R#zS']$y'g3SOX%TXY%cYZ%TZ[%c[p%Tpq%cqt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`7Z!CO_$UW'Z7R#zS']$y'g3SOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`",tokenizers:[tsExtends,noSemicolon,incdecToken,template,0,1,2,3,4,5,6,7,8,9,insertSemicolon],topRules:{Script:[0,7]},dialects:{jsx:12107,ts:12109},dynamicPrecedences:{149:1,176:1},specialized:[{term:289,get:D=>spec_identifier$1[D]||-1},{term:299,get:D=>spec_word[D]||-1},{term:63,get:D=>spec_LessThan[D]||-1}],tokenPrec:12130}),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(D){return(Q,q)=>{let X=Q.node.getChild("VariableDefinition");return X&&q(X,D),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(D,Q){D.matchContext(functionContext)||Q(D,"variable")},TypeDefinition(D,Q){Q(D,"type")},__proto__:null};function getScope(D,Q){let q=cache.get(Q);if(q)return q;let X=[],B=!0;function j(U,Y){let G=D.sliceString(U.from,U.to);X.push({label:G,type:Y})}return Q.cursor(IterMode.IncludeAnonymous).iterate(U=>{if(B)B=!1;else if(U.name){let Y=gatherCompletions[U.name];if(Y&&Y(U,j)||ScopeNodes.has(U.name))return!1}else if(U.to-U.from>8192){for(let Y of getScope(D,U.node))X.push(Y);return!1}}),cache.set(Q,X),X}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName"];function localCompletionSource(D){let Q=syntaxTree(D.state).resolveInner(D.pos,-1);if(dontComplete.indexOf(Q.name)>-1)return null;let q=Q.to-Q.from<20&&Identifier.test(D.state.sliceDoc(Q.from,Q.to));if(!q&&!D.explicit)return null;let X=[];for(let B=Q;B;B=B.parent)ScopeNodes.has(B.name)&&(X=X.concat(getScope(D.state.doc,B)));return{options:X,from:q?Q.from:D.pos,validFor:Identifier}}const javascriptLanguage=LRLanguage.define({parser:parser$2.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:D=>{let Q=D.textAfter,q=/^\s*\}/.test(Q),X=/^\s*(case|default)\b/.test(Q);return D.baseIndent+(q?0:X?1:2)*D.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:D=>D.baseIndent+D.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^{/}),JSXElement(D){let Q=/^\s*<\//.test(D.textAfter);return D.lineIndent(D.node.from)+(Q?0:D.unit)},JSXEscape(D){let Q=/\s*\}/.test(D.textAfter);return D.lineIndent(D.node.from)+(Q?0:D.unit)},"JSXOpenTag JSXSelfClosingTag"(D){return D.column(D.node.from)+D.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":foldInside,BlockComment(D){return{from:D.from+2,to:D.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),typescriptLanguage=javascriptLanguage.configure({dialect:"ts"}),jsxLanguage=javascriptLanguage.configure({dialect:"jsx"}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts"}),keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(D=>({label:D,type:"keyword"}));function javascript(D={}){let Q=D.jsx?D.typescript?tsxLanguage:jsxLanguage:D.typescript?typescriptLanguage:javascriptLanguage;return new LanguageSupport(Q,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(snippets.concat(keywords)))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),D.jsx?autoCloseTags:[]])}function elementName(D,Q,q=D.length){if(!Q)return"";let X=Q.getChild("JSXIdentifier");return X?D.sliceString(X.from,Math.min(X.to,q)):""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags=EditorView.inputHandler.of((D,Q,q,X)=>{if((android?D.composing:D.compositionStarted)||D.state.readOnly||Q!=q||X!=">"&&X!="/"||!javascriptLanguage.isActiveAt(D.state,Q,-1))return!1;let{state:B}=D,j=B.changeByRange(U=>{var Y,G,F;let{head:K}=U,J=syntaxTree(B).resolveInner(K,-1),ee;if(J.name=="JSXStartTag"&&(J=J.parent),X==">"&&J.name=="JSXFragmentTag")return{range:EditorSelection.cursor(K+1),changes:{from:K,insert:"><>"}};if(X==">"&&J.name=="JSXIdentifier"){if(((G=(Y=J.parent)===null||Y===void 0?void 0:Y.lastChild)===null||G===void 0?void 0:G.name)!="JSXEndTag"&&(ee=elementName(B.doc,J.parent,K)))return{range:EditorSelection.cursor(K+1),changes:{from:K,insert:`></${ee}>`}}}else if(X=="/"&&J.name=="JSXFragmentTag"){let te=J.parent,ne=te==null?void 0:te.parent;if(te.from==K-1&&((F=ne.lastChild)===null||F===void 0?void 0:F.name)!="JSXEndTag"&&(ee=elementName(B.doc,ne==null?void 0:ne.firstChild,K))){let re=`/${ee}>`;return{range:EditorSelection.cursor(K+re.length),changes:{from:K,insert:re}}}}return{range:U}});return j.changes.empty?!1:(D.dispatch(j,{userEvent:"input.type",scrollIntoView:!0}),!0)}),printKeyword=1,indent=189,dedent=190,newline$1=191,newlineBracketed=192,newlineEmpty=193,eof=194,ParenL=22,ParenthesizedExpression=23,TupleExpression=47,ComprehensionExpression=48,BracketL=53,ArrayExpression=54,ArrayComprehensionExpression=55,BraceL=57,DictionaryExpression=58,DictionaryComprehensionExpression=59,SetExpression=60,SetComprehensionExpression=61,ArgList=63,subscript=230,FormatReplacement=71,importList=255,ParamList=121,SequencePattern=142,MappingPattern=143,PatternArgList=146,newline=10,carriageReturn=13,space=32,tab=9,hash=35,parenOpen=40,dot=46,bracketed=new Set([ParenthesizedExpression,TupleExpression,ComprehensionExpression,importList,ArgList,ParamList,ArrayExpression,ArrayComprehensionExpression,subscript,SetExpression,SetComprehensionExpression,DictionaryExpression,DictionaryComprehensionExpression,FormatReplacement,SequencePattern,MappingPattern,PatternArgList]),newlines=new ExternalTokenizer((D,Q)=>{if(D.next<0)D.acceptToken(eof);else if(!(D.next!=newline&&D.next!=carriageReturn))if(Q.context.depth<0)D.acceptToken(newlineBracketed,1);else{D.advance();let q=0;for(;D.next==space||D.next==tab;)D.advance(),q++;let X=D.next==newline||D.next==carriageReturn||D.next==hash;D.acceptToken(X?newlineEmpty:newline$1,-q)}},{contextual:!0,fallback:!0}),indentation=new ExternalTokenizer((D,Q)=>{let q=Q.context.depth;if(q<0)return;let X=D.peek(-1);if((X==newline||X==carriageReturn)&&Q.context.depth>=0){let B=0,j=0;for(;;){if(D.next==space)B++;else if(D.next==tab)B+=8-B%8;else break;D.advance(),j++}B!=q&&D.next!=newline&&D.next!=carriageReturn&&D.next!=hash&&(B<q?D.acceptToken(dedent,-j):D.acceptToken(indent))}});function IndentLevel(D,Q){this.parent=D,this.depth=Q,this.hash=(D?D.hash+D.hash<<8:0)+Q+(Q<<4)}const topIndent=new IndentLevel(null,0);function countIndent(D){let Q=0;for(let q=0;q<D.length;q++)Q+=D.charCodeAt(q)==tab?8-Q%8:1;return Q}const trackIndent=new ContextTracker({start:topIndent,reduce(D,Q){return D.depth<0&&bracketed.has(Q)?D.parent:D},shift(D,Q,q,X){return Q==indent?new IndentLevel(D,countIndent(X.read(X.pos,q.pos))):Q==dedent?D.parent:Q==ParenL||Q==BracketL||Q==BraceL?new IndentLevel(D,-1):D},hash(D){return D.hash}}),legacyPrint=new ExternalTokenizer(D=>{for(let Q=0;Q<5;Q++){if(D.next!="print".charCodeAt(Q))return;D.advance()}if(!/\w/.test(String.fromCharCode(D.next)))for(let Q=0;;Q++){let q=D.peek(Q);if(!(q==space||q==tab)){q!=parenOpen&&q!=dot&&q!=newline&&q!=carriageReturn&&q!=hash&&D.acceptToken(printKeyword);return}}}),pythonHighlighting=styleTags({'async "*" "**" FormatConversion FormatSpec':tags.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield":tags.controlKeyword,"in not and or is del":tags.operatorKeyword,"from def class global nonlocal lambda":tags.definitionKeyword,import:tags.moduleKeyword,"with as print":tags.keyword,Boolean:tags.bool,None:tags.null,VariableName:tags.variableName,"CallExpression/VariableName":tags.function(tags.variableName),"FunctionDefinition/VariableName":tags.function(tags.definition(tags.variableName)),"ClassDefinition/VariableName":tags.definition(tags.className),PropertyName:tags.propertyName,"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),Comment:tags.lineComment,Number:tags.number,String:tags.string,FormatString:tags.special(tags.string),UpdateOp:tags.updateOperator,ArithOp:tags.arithmeticOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,AssignOp:tags.definitionOperator,Ellipsis:tags.punctuation,At:tags.meta,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,".":tags.derefOperator,", ;":tags.separator}),spec_identifier={__proto__:null,await:40,or:50,and:52,in:56,not:58,is:60,if:66,else:68,lambda:72,yield:90,from:92,async:98,for:100,None:152,True:154,False:154,del:168,pass:172,break:176,continue:180,return:184,raise:192,import:196,as:198,global:202,nonlocal:204,assert:208,elif:218,while:222,try:228,except:230,finally:232,with:236,def:240,class:250,match:261,case:267},parser$1=LRParser.deserialize({version:14,states:"!L`O`Q$IXOOO%fQ$I[O'#G|OOQ$IS'#Cm'#CmOOQ$IS'#Cn'#CnO'UQ$IWO'#ClO(wQ$I[O'#G{OOQ$IS'#G|'#G|OOQ$IS'#DS'#DSOOQ$IS'#G{'#G{O)eQ$IWO'#CsO)uQ$IWO'#DdO*VQ$IWO'#DhOOQ$IS'#Ds'#DsO*jO`O'#DsO*rOpO'#DsO*zO!bO'#DtO+VO#tO'#DtO+bO&jO'#DtO+mO,UO'#DtO-oQ$I[O'#GmOOQ$IS'#Gm'#GmO'UQ$IWO'#GlO/RQ$I[O'#GlOOQ$IS'#E]'#E]O/jQ$IWO'#E^OOQ$IS'#Gk'#GkO/tQ$IWO'#GjOOQ$IV'#Gj'#GjO0PQ$IWO'#FPOOQ$IS'#GX'#GXO0UQ$IWO'#FOOOQ$IV'#Hx'#HxOOQ$IV'#Gi'#GiOOQ$IT'#Fh'#FhQ`Q$IXOOO'UQ$IWO'#CoO0dQ$IWO'#C{O0kQ$IWO'#DPO0yQ$IWO'#HQO1ZQ$I[O'#EQO'UQ$IWO'#EROOQ$IS'#ET'#ETOOQ$IS'#EV'#EVOOQ$IS'#EX'#EXO1oQ$IWO'#EZO2VQ$IWO'#E_O0PQ$IWO'#EaO2jQ$I[O'#EaO0PQ$IWO'#EdO/jQ$IWO'#EgO/jQ$IWO'#EkO/jQ$IWO'#EnO2uQ$IWO'#EpO2|Q$IWO'#EuO3XQ$IWO'#EqO/jQ$IWO'#EuO0PQ$IWO'#EwO0PQ$IWO'#E|O3^Q$IWO'#FROOQ$IS'#Cc'#CcOOQ$IS'#Cd'#CdOOQ$IS'#Ce'#CeOOQ$IS'#Cf'#CfOOQ$IS'#Cg'#CgOOQ$IS'#Ch'#ChOOQ$IS'#Cj'#CjO'UQ$IWO,58|O'UQ$IWO,58|O'UQ$IWO,58|O'UQ$IWO,58|O'UQ$IWO,58|O'UQ$IWO,58|O3eQ$IWO'#DmOOQ$IS,5:W,5:WO3xQ$IWO'#H[OOQ$IS,5:Z,5:ZO4VQ%1`O,5:ZO4[Q$I[O,59WO0dQ$IWO,59`O0dQ$IWO,59`O0dQ$IWO,59`O6zQ$IWO,59`O7PQ$IWO,59`O7WQ$IWO,59hO7_Q$IWO'#G{O8eQ$IWO'#GzOOQ$IS'#Gz'#GzOOQ$IS'#DY'#DYO8|Q$IWO,59_O'UQ$IWO,59_O9[Q$IWO,59_O9aQ$IWO,5:PO'UQ$IWO,5:POOQ$IS,5:O,5:OO9oQ$IWO,5:OO9tQ$IWO,5:VO'UQ$IWO,5:VO'UQ$IWO,5:TOOQ$IS,5:S,5:SO:VQ$IWO,5:SO:[Q$IWO,5:UOOOO'#Fp'#FpO:aO`O,5:_OOQ$IS,5:_,5:_OOOO'#Fq'#FqO:iOpO,5:_O:qQ$IWO'#DuOOOO'#Fr'#FrO;RO!bO,5:`OOQ$IS,5:`,5:`OOOO'#Fu'#FuO;^O#tO,5:`OOOO'#Fv'#FvO;iO&jO,5:`OOOO'#Fw'#FwO;tO,UO,5:`OOQ$IS'#Fx'#FxO<PQ$I[O,5:dO>qQ$I[O,5=WO?[Q%GlO,5=WO?{Q$I[O,5=WOOQ$IS,5:x,5:xO@dQ$IXO'#GQOAsQ$IWO,5;TOOQ$IV,5=U,5=UOBOQ$I[O'#HtOBgQ$IWO,5;kOOQ$IS-E:V-E:VOOQ$IV,5;j,5;jO3SQ$IWO'#EwOOQ$IT-E9f-E9fOBoQ$I[O,59ZODvQ$I[O,59gOEaQ$IWO'#G}OElQ$IWO'#G}O0PQ$IWO'#G}OEwQ$IWO'#DROFPQ$IWO,59kOFUQ$IWO'#HRO'UQ$IWO'#HRO/jQ$IWO,5=lOOQ$IS,5=l,5=lO/jQ$IWO'#D|OOQ$IS'#D}'#D}OFsQ$IWO'#FzOGTQ$IWO,58zOGTQ$IWO,58zO)hQ$IWO,5:jOGcQ$I[O'#HTOOQ$IS,5:m,5:mOOQ$IS,5:u,5:uOGvQ$IWO,5:yOHXQ$IWO,5:{OOQ$IS'#F}'#F}OHgQ$I[O,5:{OHuQ$IWO,5:{OHzQ$IWO'#HwOOQ$IS,5;O,5;OOIYQ$IWO'#HsOOQ$IS,5;R,5;RO3XQ$IWO,5;VO3XQ$IWO,5;YOIkQ$I[O'#HyO'UQ$IWO'#HyOIuQ$IWO,5;[O2uQ$IWO,5;[O/jQ$IWO,5;aO0PQ$IWO,5;cOIzQ$IXO'#ElOKTQ$IZO,5;]ONiQ$IWO'#HzO3XQ$IWO,5;aONtQ$IWO,5;cONyQ$IWO,5;hO! RQ$I[O,5;mO'UQ$IWO,5;mO!#uQ$I[O1G.hO!#|Q$I[O1G.hO!&mQ$I[O1G.hO!&wQ$I[O1G.hO!)bQ$I[O1G.hO!)uQ$I[O1G.hO!*YQ$IWO'#HZO!*hQ$I[O'#GmO/jQ$IWO'#HZO!*rQ$IWO'#HYOOQ$IS,5:X,5:XO!*zQ$IWO,5:XO!+PQ$IWO'#H]O!+[Q$IWO'#H]O!+oQ$IWO,5=vOOQ$IS'#Dq'#DqOOQ$IS1G/u1G/uOOQ$IS1G.z1G.zO!,oQ$I[O1G.zO!,vQ$I[O1G.zO0dQ$IWO1G.zO!-cQ$IWO1G/SOOQ$IS'#DX'#DXO/jQ$IWO,59rOOQ$IS1G.y1G.yO!-jQ$IWO1G/cO!-zQ$IWO1G/cO!.SQ$IWO1G/dO'UQ$IWO'#HSO!.XQ$IWO'#HSO!.^Q$I[O1G.yO!.nQ$IWO,59gO!/tQ$IWO,5=rO!0UQ$IWO,5=rO!0^Q$IWO1G/kO!0cQ$I[O1G/kOOQ$IS1G/j1G/jO!0sQ$IWO,5=mO!1jQ$IWO,5=mO/jQ$IWO1G/oO!2XQ$IWO1G/qO!2^Q$I[O1G/qO!2nQ$I[O1G/oOOQ$IS1G/n1G/nOOQ$IS1G/p1G/pOOOO-E9n-E9nOOQ$IS1G/y1G/yOOOO-E9o-E9oO!3OQ$IWO'#HhO/jQ$IWO'#HhO!3^Q$IWO,5:aOOOO-E9p-E9pOOQ$IS1G/z1G/zOOOO-E9s-E9sOOOO-E9t-E9tOOOO-E9u-E9uOOQ$IS-E9v-E9vO!3iQ%GlO1G2rO!4YQ$I[O1G2rO'UQ$IWO,5<eOOQ$IS,5<e,5<eOOQ$IS-E9w-E9wOOQ$IS,5<l,5<lOOQ$IS-E:O-E:OOOQ$IV1G0o1G0oO0PQ$IWO'#F|O!4qQ$I[O,5>`OOQ$IS1G1V1G1VO!5YQ$IWO1G1VOOQ$IS'#DT'#DTO/jQ$IWO,5=iOOQ$IS,5=i,5=iO!5_Q$IWO'#FiO!5jQ$IWO,59mO!5rQ$IWO1G/VO!5|Q$I[O,5=mOOQ$IS1G3W1G3WOOQ$IS,5:h,5:hO!6mQ$IWO'#GlOOQ$IS,5<f,5<fOOQ$IS-E9x-E9xO!7OQ$IWO1G.fOOQ$IS1G0U1G0UO!7^Q$IWO,5=oO!7nQ$IWO,5=oO/jQ$IWO1G0eO/jQ$IWO1G0eO0PQ$IWO1G0gOOQ$IS-E9{-E9{O!8PQ$IWO1G0gO!8[Q$IWO1G0gO!8aQ$IWO,5>cO!8oQ$IWO,5>cO!8}Q$IWO,5>_O!9eQ$IWO,5>_O!9vQ$IZO1G0qO!=XQ$IZO1G0tO!@gQ$IWO,5>eO!@qQ$IWO,5>eO!@yQ$I[O,5>eO/jQ$IWO1G0vO!ATQ$IWO1G0vO3XQ$IWO1G0{ONtQ$IWO1G0}OOQ$IV,5;W,5;WO!AYQ$IYO,5;WO!A_Q$IZO1G0wO!DsQ$IWO'#GUO3XQ$IWO1G0wO3XQ$IWO1G0wO!EQQ$IWO,5>fO!E_Q$IWO,5>fO0PQ$IWO,5>fOOQ$IV1G0{1G0{O!EgQ$IWO'#EyO!ExQ%1`O1G0}OOQ$IV1G1S1G1SO3XQ$IWO1G1SO!FQQ$IWO'#FTOOQ$IV1G1X1G1XO! RQ$I[O1G1XOOQ$IS,5=u,5=uOOQ$IS'#Dn'#DnO/jQ$IWO,5=uO!FVQ$IWO,5=tO!FjQ$IWO,5=tOOQ$IS1G/s1G/sO!FrQ$IWO,5=wO!GSQ$IWO,5=wO!G[Q$IWO,5=wO!GoQ$IWO,5=wO!HPQ$IWO,5=wOOQ$IS1G3b1G3bOOQ$IS7+$f7+$fO!5rQ$IWO7+$nO!IrQ$IWO1G.zO!IyQ$IWO1G.zOOQ$IS1G/^1G/^OOQ$IS,5<V,5<VO'UQ$IWO,5<VOOQ$IS7+$}7+$}O!JQQ$IWO7+$}OOQ$IS-E9i-E9iOOQ$IS7+%O7+%OO!JbQ$IWO,5=nO'UQ$IWO,5=nOOQ$IS7+$e7+$eO!JgQ$IWO7+$}O!JoQ$IWO7+%OO!JtQ$IWO1G3^OOQ$IS7+%V7+%VO!KUQ$IWO1G3^O!K^Q$IWO7+%VOOQ$IS,5<U,5<UO'UQ$IWO,5<UO!KcQ$IWO1G3XOOQ$IS-E9h-E9hO!LYQ$IWO7+%ZOOQ$IS7+%]7+%]O!LhQ$IWO1G3XO!MVQ$IWO7+%]O!M[Q$IWO1G3_O!MlQ$IWO1G3_O!MtQ$IWO7+%ZO!MyQ$IWO,5>SO!NaQ$IWO,5>SO!NaQ$IWO,5>SO!NoO!LQO'#DwO!NzOSO'#HiOOOO1G/{1G/{O# PQ$IWO1G/{O# XQ%GlO7+(^O# xQ$I[O1G2PP#!cQ$IWO'#FyOOQ$IS,5<h,5<hOOQ$IS-E9z-E9zOOQ$IS7+&q7+&qOOQ$IS1G3T1G3TOOQ$IS,5<T,5<TOOQ$IS-E9g-E9gOOQ$IS7+$q7+$qO#!pQ$IWO,5=WO##ZQ$IWO,5=WO##lQ$I[O,5<WO#$PQ$IWO1G3ZOOQ$IS-E9j-E9jOOQ$IS7+&P7+&PO#$aQ$IWO7+&POOQ$IS7+&R7+&RO#$oQ$IWO'#HvO0PQ$IWO'#HuO#%TQ$IWO7+&ROOQ$IS,5<k,5<kO#%`Q$IWO1G3}OOQ$IS-E9}-E9}OOQ$IS,5<g,5<gO#%nQ$IWO1G3yOOQ$IS-E9y-E9yO#&UQ$IZO7+&]O!DsQ$IWO'#GSO3XQ$IWO7+&]O3XQ$IWO7+&`O#)gQ$I[O,5<oO'UQ$IWO,5<oO#)qQ$IWO1G4POOQ$IS-E:R-E:RO#){Q$IWO1G4PO3XQ$IWO7+&bO/jQ$IWO7+&bOOQ$IV7+&g7+&gO!ExQ%1`O7+&iO#*TQ$IXO1G0rOOQ$IV-E:S-E:SO3XQ$IWO7+&cO3XQ$IWO7+&cOOQ$IV,5<p,5<pO#+yQ$IWO,5<pOOQ$IV7+&c7+&cO#,UQ$IZO7+&cO#/dQ$IWO,5<qO#/oQ$IWO1G4QOOQ$IS-E:T-E:TO#/|Q$IWO1G4QO#0UQ$IWO'#H|O#0dQ$IWO'#H|O0PQ$IWO'#H|OOQ$IS'#H|'#H|O#0oQ$IWO'#H{OOQ$IS,5;e,5;eO#0wQ$IWO,5;eO/jQ$IWO'#E{OOQ$IV7+&i7+&iO3XQ$IWO7+&iOOQ$IV7+&n7+&nO#0|Q$IYO,5;oOOQ$IV7+&s7+&sOOQ$IS1G3a1G3aOOQ$IS,5<Y,5<YO#1RQ$IWO1G3`OOQ$IS-E9l-E9lO#1fQ$IWO,5<ZO#1qQ$IWO,5<ZO#2UQ$IWO1G3cOOQ$IS-E9m-E9mO#2fQ$IWO1G3cO#2nQ$IWO1G3cO#3OQ$IWO1G3cO#2fQ$IWO1G3cOOQ$IS<<HY<<HYO#3ZQ$I[O1G1qOOQ$IS<<Hi<<HiP#3hQ$IWO'#FkO7WQ$IWO1G3YO#3uQ$IWO1G3YO#3zQ$IWO<<HiOOQ$IS<<Hj<<HjO#4[Q$IWO7+(xOOQ$IS<<Hq<<HqO#4lQ$I[O1G1pP#5]Q$IWO'#FjO#5jQ$IWO7+(yO#5zQ$IWO7+(yO#6SQ$IWO<<HuO#6XQ$IWO7+(sOOQ$IS<<Hw<<HwO#7OQ$IWO,5<XO'UQ$IWO,5<XOOQ$IS-E9k-E9kOOQ$IS<<Hu<<HuOOQ$IS,5<_,5<_O/jQ$IWO,5<_O#7TQ$IWO1G3nOOQ$IS-E9q-E9qO#7kQ$IWO1G3nOOOO'#Ft'#FtO#7yO!LQO,5:cOOOO,5>T,5>TOOOO7+%g7+%gO#8UQ$IWO1G2rO#8oQ$IWO1G2rP'UQ$IWO'#FlO/jQ$IWO<<IkO#9QQ$IWO,5>bO#9cQ$IWO,5>bO0PQ$IWO,5>bO#9tQ$IWO,5>aOOQ$IS<<Im<<ImP0PQ$IWO'#GPP/jQ$IWO'#F{OOQ$IV-E:Q-E:QO3XQ$IWO<<IwOOQ$IV,5<n,5<nO3XQ$IWO,5<nOOQ$IV<<Iw<<IwOOQ$IV<<Iz<<IzO#9yQ$I[O1G2ZP#:TQ$IWO'#GTO#:[Q$IWO7+)kO#:fQ$IZO<<I|O3XQ$IWO<<I|OOQ$IV<<JT<<JTO3XQ$IWO<<JTOOQ$IV'#GR'#GRO#=tQ$IZO7+&^OOQ$IV<<I}<<I}O#?pQ$IZO<<I}OOQ$IV1G2[1G2[O0PQ$IWO1G2[O3XQ$IWO<<I}O0PQ$IWO1G2]P/jQ$IWO'#GVO#COQ$IWO7+)lO#C]Q$IWO7+)lOOQ$IS'#Ez'#EzO/jQ$IWO,5>hO#CeQ$IWO,5>hOOQ$IS,5>h,5>hO#CpQ$IWO,5>gO#DRQ$IWO,5>gOOQ$IS1G1P1G1POOQ$IS,5;g,5;gO#DZQ$IWO1G1ZP#D`Q$IWO'#FnO#DpQ$IWO1G1uO#ETQ$IWO1G1uO#EeQ$IWO1G1uP#EpQ$IWO'#FoO#E}Q$IWO7+(}O#F_Q$IWO7+(}O#F_Q$IWO7+(}O#FgQ$IWO7+(}O#FwQ$IWO7+(tO7WQ$IWO7+(tOOQ$ISAN>TAN>TO#GbQ$IWO<<LeOOQ$ISAN>aAN>aO/jQ$IWO1G1sO#GrQ$I[O1G1sP#G|Q$IWO'#FmOOQ$IS1G1y1G1yP#HZQ$IWO'#FsO#HhQ$IWO7+)YOOOO-E9r-E9rO#IOQ$IWO7+(^OOQ$ISAN?VAN?VO#IiQ$IWO,5<jO#I}Q$IWO1G3|OOQ$IS-E9|-E9|O#J`Q$IWO1G3|OOQ$IS1G3{1G3{OOQ$IVAN?cAN?cOOQ$IV1G2Y1G2YO3XQ$IWOAN?hO#JqQ$IZOAN?hOOQ$IVAN?oAN?oOOQ$IV-E:P-E:POOQ$IV<<Ix<<IxO3XQ$IWOAN?iO3XQ$IWO7+'vOOQ$IVAN?iAN?iOOQ$IS7+'w7+'wO#NPQ$IWO<<MWOOQ$IS1G4S1G4SO/jQ$IWO1G4SOOQ$IS,5<r,5<rO#N^Q$IWO1G4ROOQ$IS-E:U-E:UOOQ$IU'#GY'#GYO#NoQ$IYO7+&uO#NzQ$IWO'#FUO$ rQ$IWO7+'aO$!SQ$IWO7+'aOOQ$IS7+'a7+'aO$!_Q$IWO<<LiO$!oQ$IWO<<LiO$!oQ$IWO<<LiO$!wQ$IWO'#HUOOQ$IS<<L`<<L`O$#RQ$IWO<<L`OOQ$IS7+'_7+'_O0PQ$IWO1G2UP0PQ$IWO'#GOO$#lQ$IWO7+)hO$#}Q$IWO7+)hOOQ$IVG25SG25SO3XQ$IWOG25SOOQ$IVG25TG25TOOQ$IV<<Kb<<KbOOQ$IS7+)n7+)nP$$`Q$IWO'#GWOOQ$IU-E:W-E:WOOQ$IV<<Ja<<JaO$%SQ$I[O'#FWOOQ$IS'#FY'#FYO$%dQ$IWO'#FXO$&UQ$IWO'#FXOOQ$IS'#FX'#FXO$&ZQ$IWO'#IOO#NzQ$IWO'#F`O#NzQ$IWO'#F`O$&rQ$IWO'#FaO#NzQ$IWO'#FbO$&yQ$IWO'#IPOOQ$IS'#IP'#IPO$'hQ$IWO,5;pOOQ$IS<<J{<<J{O$'pQ$IWO<<J{O$(QQ$IWOANBTO$(bQ$IWOANBTO$(jQ$IWO'#HVOOQ$IS'#HV'#HVO0kQ$IWO'#DaO$)TQ$IWO,5=pOOQ$ISANAzANAzOOQ$IS7+'p7+'pO$)lQ$IWO<<MSOOQ$IVLD*nLD*nO4VQ%1`O'#G[O$)}Q$I[O,5;yO#NzQ$IWO'#FdOOQ$IS,5;},5;}OOQ$IS'#FZ'#FZO$*oQ$IWO,5;sO$*tQ$IWO,5;sOOQ$IS'#F^'#F^O#NzQ$IWO'#GZO$+fQ$IWO,5;wO$,QQ$IWO,5>jO$,bQ$IWO,5>jO0PQ$IWO,5;vO$,sQ$IWO,5;zO$,xQ$IWO,5;zO#NzQ$IWO'#IQO$,}Q$IWO'#IQO$-SQ$IWO,5;{OOQ$IS,5;|,5;|O'UQ$IWO'#FgOOQ$IU1G1[1G1[O3XQ$IWO1G1[OOQ$ISAN@gAN@gO$-XQ$IWOG27oO$-iQ$IWO,59{OOQ$IS1G3[1G3[OOQ$IS,5<v,5<vOOQ$IS-E:Y-E:YO$-nQ$I[O'#FWO$-uQ$IWO'#IRO$.TQ$IWO'#IRO$.]Q$IWO,5<OOOQ$IS1G1_1G1_O$.bQ$IWO1G1_O$.gQ$IWO,5<uOOQ$IS-E:X-E:XO$/RQ$IWO,5<yO$/jQ$IWO1G4UOOQ$IS-E:]-E:]OOQ$IS1G1b1G1bOOQ$IS1G1f1G1fO$/zQ$IWO,5>lO#NzQ$IWO,5>lOOQ$IS1G1g1G1gO$0YQ$I[O,5<ROOQ$IU7+&v7+&vO$!wQ$IWO1G/gO#NzQ$IWO,5<PO$0aQ$IWO,5>mO$0hQ$IWO,5>mOOQ$IS1G1j1G1jOOQ$IS7+&y7+&yP#NzQ$IWO'#G_O$0pQ$IWO1G4WO$0zQ$IWO1G4WO$1SQ$IWO1G4WOOQ$IS7+%R7+%RO$1bQ$IWO1G1kO$1pQ$I[O'#FWO$1wQ$IWO,5<xOOQ$IS,5<x,5<xO$2VQ$IWO1G4XOOQ$IS-E:[-E:[O#NzQ$IWO,5<wO$2^Q$IWO,5<wO$2cQ$IWO7+)rOOQ$IS-E:Z-E:ZO$2mQ$IWO7+)rO#NzQ$IWO,5<QP#NzQ$IWO'#G^O$2uQ$IWO1G2cO#NzQ$IWO1G2cP$3TQ$IWO'#G]O$3[Q$IWO<<M^O$3fQ$IWO1G1lO$3tQ$IWO7+'}O7WQ$IWO'#C{O7WQ$IWO,59`O7WQ$IWO,59`O7WQ$IWO,59`O$4SQ$I[O,5=WO7WQ$IWO1G.zO/jQ$IWO1G/VO/jQ$IWO7+$nP$4gQ$IWO'#FyO'UQ$IWO'#GlO$4tQ$IWO,59`O$4yQ$IWO,59`O$5QQ$IWO,59kO$5VQ$IWO1G/SO0kQ$IWO'#DPO7WQ$IWO,59h",stateData:"$5m~O%[OS%XOS%WOSQOS~OPhOTeOdsOfXOmtOq!SOtuO}vO!O!PO!R!VO!S!UO!VYO!ZZO!fdO!mdO!ndO!odO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO#c!TO#f!WO#j!XO#l!YO#q!ZO#tlO#v![O%VqO%gQO%hQO%lRO%mVO&R[O&S]O&V^O&Y_O&``O&caO&ebO~OT!bO]!bO_!cOf!jO!V!lO!d!nO%b!]O%c!^O%d!_O%e!`O%f!`O%g!aO%h!aO%i!bO%j!bO%k!bO~Oi%pXj%pXk%pXl%pXm%pXn%pXq%pXx%pXy%pX!s%pX#^%pX%V%pX%Y%pX%r%pXe%pX!R%pX!S%pX%s%pX!U%pX!Y%pX!O%pX#V%pXr%pX!j%pX~P$bOdsOfXO!VYO!ZZO!fdO!mdO!ndO!odO%gQO%hQO%lRO%mVO&R[O&S]O&V^O&Y_O&``O&caO&ebO~Ox%oXy%oX#^%oX%V%oX%Y%oX%r%oX~Oi!qOj!rOk!pOl!pOm!sOn!tOq!uO!s%oX~P(cOT!{Om/iOt/wO}vO~P'UOT#OOm/iOt/wO!U#PO~P'UOT#SO_#TOm/iOt/wO!Y#UO~P'UO&T#XO&U#ZO~O&W#[O&X#ZO~O!Z#^O&Z#_O&_#aO~O!Z#^O&a#bO&b#aO~O!Z#^O&U#aO&d#dO~O!Z#^O&X#aO&f#fO~OT%aX]%aX_%aXf%aXi%aXj%aXk%aXl%aXm%aXn%aXq%aXx%aX!V%aX!d%aX%b%aX%c%aX%d%aX%e%aX%f%aX%g%aX%h%aX%i%aX%j%aX%k%aXe%aX!R%aX!S%aX~O&R[O&S]O&V^O&Y_O&``O&caO&ebOy%aX!s%aX#^%aX%V%aX%Y%aX%r%aX%s%aX!U%aX!Y%aX!O%aX#V%aXr%aX!j%aX~P+xOx#kOy%`X!s%`X#^%`X%V%`X%Y%`X%r%`X~Om/iOt/wO~P'UO#^#nO%V#pO%Y#pO~O%mVO~O!R#uO#l!YO#q!ZO#tlO~OmtO~P'UOT#zO_#{O%mVOyuP~OT$POm/iOt/wO!O$QO~P'UOy$SO!s$XO%r$TO#^!tX%V!tX%Y!tX~OT$POm/iOt/wO#^!}X%V!}X%Y!}X~P'UOm/iOt/wO#^#RX%V#RX%Y#RX~P'UO!d$_O!m$_O%mVO~OT$iO~P'UO!S$kO#j$lO#l$mO~Oy$nO~OT$uO~P'UOT%OO_%OOe%QOm/iOt/wO~P'UOm/iOt/wOy%TO~P'UO&Q%VO~O_!cOf!jO!V!lO!d!nOT`a]`ai`aj`ak`al`am`an`aq`ax`ay`a!s`a#^`a%V`a%Y`a%b`a%c`a%d`a%e`a%f`a%g`a%h`a%i`a%j`a%k`a%r`ae`a!R`a!S`a%s`a!U`a!Y`a!O`a#V`ar`a!j`a~Ol%[O~Om%[O~P'UOm/iO~P'UOi/kOj/lOk/jOl/jOm/sOn/tOq/xOe%oX!R%oX!S%oX%s%oX!U%oX!Y%oX!O%oX#V%oX!j%oX~P(cO%s%^Oe%nXx%nX!R%nX!S%nX!U%nXy%nX~Oe%`Ox%aO!R%eO!S%dO~Oe%`O~Ox%hO!R%eO!S%dO!U%zX~O!U%lO~Ox%mOy%oO!R%eO!S%dO!Y%uX~O!Y%sO~O!Y%tO~O&T#XO&U%vO~O&W#[O&X%vO~OT%yOm/iOt/wO}vO~P'UO!Z#^O&Z#_O&_%|O~O!Z#^O&a#bO&b%|O~O!Z#^O&U%|O&d#dO~O!Z#^O&X%|O&f#fO~OT!la]!la_!laf!lai!laj!lak!lal!lam!lan!laq!lax!lay!la!V!la!d!la!s!la#^!la%V!la%Y!la%b!la%c!la%d!la%e!la%f!la%g!la%h!la%i!la%j!la%k!la%r!lae!la!R!la!S!la%s!la!U!la!Y!la!O!la#V!lar!la!j!la~P#yOx&ROy%`a!s%`a#^%`a%V%`a%Y%`a%r%`a~P$bOT&TOmtOtuOy%`a!s%`a#^%`a%V%`a%Y%`a%r%`a~P'UOx&ROy%`a!s%`a#^%`a%V%`a%Y%`a%r%`a~OPhOTeOmtOtuO}vO!O!PO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO#^$tX%V$tX%Y$tX~P'UO#^#nO%V&YO%Y&YO~O!d&ZOf&hX%V&hX#V&hX#^&hX%Y&hX#U&hX~Of!jO%V&]O~Oicajcakcalcamcancaqcaxcayca!sca#^ca%Vca%Yca%rcaeca!Rca!Sca%sca!Uca!Yca!Oca#Vcarca!jca~P$bOqoaxoayoa#^oa%Voa%Yoa%roa~Oi!qOj!rOk!pOl!pOm!sOn!tO!soa~PD_O%r&_Ox%qXy%qX~O%mVOx%qXy%qX~Ox&bOyuX~Oy&dO~Ox%mO#^%uX%V%uX%Y%uXe%uXy%uX!Y%uX!j%uX%r%uX~OT/rOm/iOt/wO}vO~P'UO%r$TO#^Sa%VSa%YSa~Ox&mO#^%wX%V%wX%Y%wXl%wX~P$bOx&pO!O&oO#^#Ra%V#Ra%Y#Ra~O#V&qO#^#Ta%V#Ta%Y#Ta~O!d$_O!m$_O#U&sO%mVO~O#U&sO~Ox&uO#^&kX%V&kX%Y&kX~Ox&wO#^&gX%V&gX%Y&gXy&gX~Ox&{Ol&mX~P$bOl'OO~OPhOTeOmtOtuO}vO!O!PO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO%V'TO~P'UOr'XO#g'VO#h'WOP#eaT#ead#eaf#eam#eaq#eat#ea}#ea!O#ea!R#ea!S#ea!V#ea!Z#ea!f#ea!m#ea!n#ea!o#ea!v#ea!x#ea!z#ea!|#ea#O#ea#S#ea#U#ea#X#ea#Y#ea#[#ea#c#ea#f#ea#j#ea#l#ea#q#ea#t#ea#v#ea%S#ea%V#ea%g#ea%h#ea%l#ea%m#ea&R#ea&S#ea&V#ea&Y#ea&`#ea&c#ea&e#ea%U#ea%Y#ea~Ox'YO#V'[Oy&nX~Of'^O~Of!jOy$nO~Oy'bO~P$bOT!bO]!bO_!cOf!jO!V!lO!d!nO%d!_O%e!`O%f!`O%g!aO%h!aO%i!bO%j!bO%k!bOiUijUikUilUimUinUiqUixUiyUi!sUi#^Ui%VUi%YUi%bUi%rUieUi!RUi!SUi%sUi!UUi!YUi!OUi#VUirUi!jUi~O%c!^O~P! YO%cUi~P! YOT!bO]!bO_!cOf!jO!V!lO!d!nO%g!aO%h!aO%i!bO%j!bO%k!bOiUijUikUilUimUinUiqUixUiyUi!sUi#^Ui%VUi%YUi%bUi%cUi%dUi%rUieUi!RUi!SUi%sUi!UUi!YUi!OUi#VUirUi!jUi~O%e!`O%f!`O~P!$TO%eUi%fUi~P!$TO_!cOf!jO!V!lO!d!nOiUijUikUilUimUinUiqUixUiyUi!sUi#^Ui%VUi%YUi%bUi%cUi%dUi%eUi%fUi%gUi%hUi%rUieUi!RUi!SUi%sUi!UUi!YUi!OUi#VUirUi!jUi~OT!bO]!bO%i!bO%j!bO%k!bO~P!'ROTUi]Ui%iUi%jUi%kUi~P!'RO!R%eO!S%dOe%}Xx%}X~O%r'fO%s'fO~P+xOx'hOe%|X~Oe'jO~Ox'kOy'mO!U&PX~Om/iOt/wOx'kOy'nO!U&PX~P'UO!U'pO~Ok!pOl!pOm!sOn!tOihiqhixhiyhi!shi#^hi%Vhi%Yhi%rhi~Oj!rO~P!+tOjhi~P!+tOi/kOj/lOk/jOl/jOm/sOn/tO~Or'rO~P!,}OT'wOe'xOm/iOt/wO~P'UOe'xOx'yO~Oe'{O~O!S'}O~Oe(OOx'yO!R%eO!S%dO~P$bOi/kOj/lOk/jOl/jOm/sOn/tOeoa!Roa!Soa%soa!Uoa!Yoa!Ooa#Voaroa!joa~PD_OT'wOm/iOt/wO!U%za~P'UOx(RO!U%za~O!U(SO~Ox(RO!R%eO!S%dO!U%za~P$bOT(WOm/iOt/wO!Y%ua#^%ua%V%ua%Y%uae%uay%ua!j%ua%r%ua~P'UOx(XO!Y%ua#^%ua%V%ua%Y%uae%uay%ua!j%ua%r%ua~O!Y([O~Ox(XO!R%eO!S%dO!Y%ua~P$bOx(_O!R%eO!S%dO!Y%{a~P$bOx(bOy&[X!Y&[X!j&[X~Oy(eO!Y(gO!j(hO~OT&TOmtOtuOy%`i!s%`i#^%`i%V%`i%Y%`i%r%`i~P'UOx(iOy%`i!s%`i#^%`i%V%`i%Y%`i%r%`i~O!d&ZOf&ha%V&ha#V&ha#^&ha%Y&ha#U&ha~O%V(nO~OT#zO_#{O%mVO~Ox&bOyua~OmtOtuO~P'UOx(XO#^%ua%V%ua%Y%uae%uay%ua!Y%ua!j%ua%r%ua~P$bOx(sO#^%`X%V%`X%Y%`X%r%`X~O%r$TO#^Si%VSi%YSi~O#^%wa%V%wa%Y%wal%wa~P'UOx(vO#^%wa%V%wa%Y%wal%wa~OT(zOf(|O%mVO~O#U(}O~O%mVO#^&ka%V&ka%Y&ka~Ox)PO#^&ka%V&ka%Y&ka~Om/iOt/wO#^&ga%V&ga%Y&gay&ga~P'UOx)SO#^&ga%V&ga%Y&gay&ga~Or)WO#a)VOP#_iT#_id#_if#_im#_iq#_it#_i}#_i!O#_i!R#_i!S#_i!V#_i!Z#_i!f#_i!m#_i!n#_i!o#_i!v#_i!x#_i!z#_i!|#_i#O#_i#S#_i#U#_i#X#_i#Y#_i#[#_i#c#_i#f#_i#j#_i#l#_i#q#_i#t#_i#v#_i%S#_i%V#_i%g#_i%h#_i%l#_i%m#_i&R#_i&S#_i&V#_i&Y#_i&`#_i&c#_i&e#_i%U#_i%Y#_i~Or)XOP#biT#bid#bif#bim#biq#bit#bi}#bi!O#bi!R#bi!S#bi!V#bi!Z#bi!f#bi!m#bi!n#bi!o#bi!v#bi!x#bi!z#bi!|#bi#O#bi#S#bi#U#bi#X#bi#Y#bi#[#bi#c#bi#f#bi#j#bi#l#bi#q#bi#t#bi#v#bi%S#bi%V#bi%g#bi%h#bi%l#bi%m#bi&R#bi&S#bi&V#bi&Y#bi&`#bi&c#bi&e#bi%U#bi%Y#bi~OT)ZOl&ma~P'UOx)[Ol&ma~Ox)[Ol&ma~P$bOl)`O~O%T)cO~Or)fO#g'VO#h)eOP#eiT#eid#eif#eim#eiq#eit#ei}#ei!O#ei!R#ei!S#ei!V#ei!Z#ei!f#ei!m#ei!n#ei!o#ei!v#ei!x#ei!z#ei!|#ei#O#ei#S#ei#U#ei#X#ei#Y#ei#[#ei#c#ei#f#ei#j#ei#l#ei#q#ei#t#ei#v#ei%S#ei%V#ei%g#ei%h#ei%l#ei%m#ei&R#ei&S#ei&V#ei&Y#ei&`#ei&c#ei&e#ei%U#ei%Y#ei~Om/iOt/wOy$nO~P'UOm/iOt/wOy&na~P'UOx)lOy&na~OT)pO_)qOe)tO%i)rO%mVO~Oy$nO&q)vO~O%V)zO~OT%OO_%OOm/iOt/wOe%|a~P'UOx*OOe%|a~Om/iOt/wOy*RO!U&Pa~P'UOx*SO!U&Pa~Om/iOt/wOx*SOy*VO!U&Pa~P'UOm/iOt/wOx*SO!U&Pa~P'UOx*SOy*VO!U&Pa~Ok/jOl/jOm/sOn/tOehiihiqhixhi!Rhi!Shi%shi!Uhiyhi!Yhi#^hi%Vhi%Yhi!Ohi#Vhirhi!jhi%rhi~Oj/lO~P!H[Ojhi~P!H[OT'wOe*[Om/iOt/wO~P'UOl*^O~Oe*[Ox*`O~Oe*aO~OT'wOm/iOt/wO!U%zi~P'UOx*bO!U%zi~O!U*cO~OT(WOm/iOt/wO!Y%ui#^%ui%V%ui%Y%uie%uiy%ui!j%ui%r%ui~P'UOx*fO!R%eO!S%dO!Y%{i~Ox*iO!Y%ui#^%ui%V%ui%Y%uie%uiy%ui!j%ui%r%ui~O!Y*jO~O_*lOm/iOt/wO!Y%{i~P'UOx*fO!Y%{i~O!Y*nO~OT*pOm/iOt/wOy&[a!Y&[a!j&[a~P'UOx*qOy&[a!Y&[a!j&[a~O!Z#^O&^*tO!Y!kX~O!Y*vO~Oy(eO!Y*wO~OT&TOmtOtuOy%`q!s%`q#^%`q%V%`q%Y%`q%r%`q~P'UOx$miy$mi!s$mi#^$mi%V$mi%Y$mi%r$mi~P$bOT&TOmtOtuO~P'UOT&TOm/iOt/wO#^%`a%V%`a%Y%`a%r%`a~P'UOx*xO#^%`a%V%`a%Y%`a%r%`a~Ox$`a#^$`a%V$`a%Y$`al$`a~P$bO#^%wi%V%wi%Y%wil%wi~P'UOx*{O#^#Rq%V#Rq%Y#Rq~Ox*|O#V+OO#^&jX%V&jX%Y&jXe&jX~OT+QOf(|O%mVO~O%mVO#^&ki%V&ki%Y&ki~Om/iOt/wO#^&gi%V&gi%Y&giy&gi~P'UOr+UO#a)VOP#_qT#_qd#_qf#_qm#_qq#_qt#_q}#_q!O#_q!R#_q!S#_q!V#_q!Z#_q!f#_q!m#_q!n#_q!o#_q!v#_q!x#_q!z#_q!|#_q#O#_q#S#_q#U#_q#X#_q#Y#_q#[#_q#c#_q#f#_q#j#_q#l#_q#q#_q#t#_q#v#_q%S#_q%V#_q%g#_q%h#_q%l#_q%m#_q&R#_q&S#_q&V#_q&Y#_q&`#_q&c#_q&e#_q%U#_q%Y#_q~Ol$wax$wa~P$bOT)ZOl&mi~P'UOx+]Ol&mi~OPhOTeOmtOq!SOtuO}vO!O!PO!R!VO!S!UO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO#c!TO#f!WO#j!XO#l!YO#q!ZO#tlO#v![O~P'UOx+gOy$nO#V+gO~O#h+hOP#eqT#eqd#eqf#eqm#eqq#eqt#eq}#eq!O#eq!R#eq!S#eq!V#eq!Z#eq!f#eq!m#eq!n#eq!o#eq!v#eq!x#eq!z#eq!|#eq#O#eq#S#eq#U#eq#X#eq#Y#eq#[#eq#c#eq#f#eq#j#eq#l#eq#q#eq#t#eq#v#eq%S#eq%V#eq%g#eq%h#eq%l#eq%m#eq&R#eq&S#eq&V#eq&Y#eq&`#eq&c#eq&e#eq%U#eq%Y#eq~O#V+iOx$yay$ya~Om/iOt/wOy&ni~P'UOx+kOy&ni~Oy$SO%r+mOe&pXx&pX~O%mVOe&pXx&pX~Ox+qOe&oX~Oe+sO~O%T+uO~OT%OO_%OOm/iOt/wOe%|i~P'UOy+wOx$ca!U$ca~Om/iOt/wOy+xOx$ca!U$ca~P'UOm/iOt/wOy*RO!U&Pi~P'UOx+{O!U&Pi~Om/iOt/wOx+{O!U&Pi~P'UOx+{Oy,OO!U&Pi~Oe$_ix$_i!U$_i~P$bOT'wOm/iOt/wO~P'UOl,QO~OT'wOe,ROm/iOt/wO~P'UOT'wOm/iOt/wO!U%zq~P'UOx$^i!Y$^i#^$^i%V$^i%Y$^ie$^iy$^i!j$^i%r$^i~P$bOT(WOm/iOt/wO~P'UO_*lOm/iOt/wO!Y%{q~P'UOx,SO!Y%{q~O!Y,TO~OT(WOm/iOt/wO!Y%uq#^%uq%V%uq%Y%uqe%uqy%uq!j%uq%r%uq~P'UOy,UO~OT*pOm/iOt/wOy&[i!Y&[i!j&[i~P'UOx,ZOy&[i!Y&[i!j&[i~O!Z#^O&^*tO!Y!ka~OT&TOm/iOt/wO#^%`i%V%`i%Y%`i%r%`i~P'UOx,]O#^%`i%V%`i%Y%`i%r%`i~O%mVO#^&ja%V&ja%Y&jae&ja~Ox,`O#^&ja%V&ja%Y&jae&ja~Oe,cO~Ol$wix$wi~P$bOT)ZO~P'UOT)ZOl&mq~P'UOr,fOP#dyT#dyd#dyf#dym#dyq#dyt#dy}#dy!O#dy!R#dy!S#dy!V#dy!Z#dy!f#dy!m#dy!n#dy!o#dy!v#dy!x#dy!z#dy!|#dy#O#dy#S#dy#U#dy#X#dy#Y#dy#[#dy#c#dy#f#dy#j#dy#l#dy#q#dy#t#dy#v#dy%S#dy%V#dy%g#dy%h#dy%l#dy%m#dy&R#dy&S#dy&V#dy&Y#dy&`#dy&c#dy&e#dy%U#dy%Y#dy~OPhOTeOmtOq!SOtuO}vO!O!PO!R!VO!S!UO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO#c!TO#f!WO#j!XO#l!YO#q!ZO#tlO#v![O%U,jO%Y,jO~P'UO#h,kOP#eyT#eyd#eyf#eym#eyq#eyt#ey}#ey!O#ey!R#ey!S#ey!V#ey!Z#ey!f#ey!m#ey!n#ey!o#ey!v#ey!x#ey!z#ey!|#ey#O#ey#S#ey#U#ey#X#ey#Y#ey#[#ey#c#ey#f#ey#j#ey#l#ey#q#ey#t#ey#v#ey%S#ey%V#ey%g#ey%h#ey%l#ey%m#ey&R#ey&S#ey&V#ey&Y#ey&`#ey&c#ey&e#ey%U#ey%Y#ey~Om/iOt/wOy&nq~P'UOx,oOy&nq~O%r+mOe&pax&pa~OT)pO_)qO%i)rO%mVOe&oa~Ox,sOe&oa~O#y,wO~OT%OO_%OOm/iOt/wO~P'UOm/iOt/wOy,xOx$ci!U$ci~P'UOm/iOt/wOx$ci!U$ci~P'UOy,xOx$ci!U$ci~Om/iOt/wOy*RO~P'UOm/iOt/wOy*RO!U&Pq~P'UOx,{O!U&Pq~Om/iOt/wOx,{O!U&Pq~P'UOq-OO!R%eO!S%dOe%vq!U%vq!Y%vqx%vq~P!,}O_*lOm/iOt/wO!Y%{y~P'UOx$ai!Y$ai~P$bO_*lOm/iOt/wO~P'UOT*pOm/iOt/wO~P'UOT*pOm/iOt/wOy&[q!Y&[q!j&[q~P'UOT&TOm/iOt/wO#^%`q%V%`q%Y%`q%r%`q~P'UO#V-SOx$ra#^$ra%V$ra%Y$rae$ra~O%mVO#^&ji%V&ji%Y&jie&ji~Ox-UO#^&ji%V&ji%Y&jie&ji~Or-XOP#d!RT#d!Rd#d!Rf#d!Rm#d!Rq#d!Rt#d!R}#d!R!O#d!R!R#d!R!S#d!R!V#d!R!Z#d!R!f#d!R!m#d!R!n#d!R!o#d!R!v#d!R!x#d!R!z#d!R!|#d!R#O#d!R#S#d!R#U#d!R#X#d!R#Y#d!R#[#d!R#c#d!R#f#d!R#j#d!R#l#d!R#q#d!R#t#d!R#v#d!R%S#d!R%V#d!R%g#d!R%h#d!R%l#d!R%m#d!R&R#d!R&S#d!R&V#d!R&Y#d!R&`#d!R&c#d!R&e#d!R%U#d!R%Y#d!R~Om/iOt/wOy&ny~P'UOT)pO_)qO%i)rO%mVOe&oi~O#y,wO%U-_O%Y-_O~OT-iOf-gO!V-fO!Z-hO!f-bO!n-dO!o-dO%h-aO%mVO&R[O&S]O&V^O~Om/iOt/wOx$cq!U$cq~P'UOy-nOx$cq!U$cq~Om/iOt/wOy*RO!U&Py~P'UOx-oO!U&Py~Om/iOt-sO~P'UOq-OO!R%eO!S%dOe%vy!U%vy!Y%vyx%vy~P!,}O%mVO#^&jq%V&jq%Y&jqe&jq~Ox-wO#^&jq%V&jq%Y&jqe&jq~OT)pO_)qO%i)rO%mVO~Of-{O!d-yOx#zX#V#zX%b#zXe#zX~Oq#zXy#zX!U#zX!Y#zX~P$$nO%g-}O%h-}Oq#{Xx#{Xy#{X#V#{X%b#{X!U#{Xe#{X!Y#{X~O!f.PO~Ox.TO#V.VO%b.QOq&rXy&rX!U&rXe&rX~O_.YO~P$ WOf-{Oq&sXx&sXy&sX#V&sX%b&sX!U&sXe&sX!Y&sX~Oq.^Oy$nO~Om/iOt/wOx$cy!U$cy~P'UOm/iOt/wOy*RO!U&P!R~P'UOx.bO!U&P!R~Oe%yXq%yX!R%yX!S%yX!U%yX!Y%yXx%yX~P!,}Oq-OO!R%eO!S%dOe%xa!U%xa!Y%xax%xa~O%mVO#^&jy%V&jy%Y&jye&jy~O!d-yOf$Raq$Rax$Ray$Ra#V$Ra%b$Ra!U$Rae$Ra!Y$Ra~O!f.kO~O%g-}O%h-}Oq#{ax#{ay#{a#V#{a%b#{a!U#{ae#{a!Y#{a~O%b.QOq$Pax$Pay$Pa#V$Pa!U$Pae$Pa!Y$Pa~Oq&ray&ra!U&rae&ra~P#NzOx.pOq&ray&ra!U&rae&ra~O!U.sO~Oe.sO~Oy.uO~O!Y.vO~Om/iOt/wOy*RO!U&P!Z~P'UOy.yO~O%r.zO~P$$nOx.{O#V.VO%b.QOe&uX~Ox.{Oe&uX~Oe.}O~O!f/OO~O#V.VOq$}ax$}ay$}a%b$}a!U$}ae$}a!Y$}a~O#V.VO%b.QOq%Rax%Ray%Ra!U%Rae%Ra~Oq&riy&ri!U&rie&ri~P#NzOx/QO#V.VO%b.QO!Y&ta~Oy$Za~P$bOe&ua~P#NzOx/YOe&ua~O_/[O!Y&ti~P$ WOx/^O!Y&ti~Ox/^O#V.VO%b.QO!Y&ti~O#V.VO%b.QOe$Xix$Xi~O%r/aO~P$$nO#V.VO%b.QOe%Qax%Qa~Oe&ui~P#NzOy/dO~O_/[O!Y&tq~P$ WOx/fO!Y&tq~O#V.VO%b.QOx%Pi!Y%Pi~O_/[O~P$ WO_/[O!Y&ty~P$ WO#V.VO%b.QOe$Yix$Yi~O#V.VO%b.QOx%Pq!Y%Pq~Ox*xO#^%`a%V%`a%Y%`a%r%`a~P$bOT&TOm/iOt/wO~P'UOl/nO~Om/nO~P'UOy/oO~Or/pO~P!,}O&S&V&c&e&R!Z&Z&a&d&f&Y&`&Y%m~",goto:"!9p&vPPPP&wP'P*e*}+h,S,o-]P-zP'P.k.k'PPPP'P2PPPPPPP2P4oPP4oP6{7U=QPP=T=c=fPP'P'PPP=rPP'P'PPP'P'P'P'P'P=v>m'PP>pP>vByFcPFw'PPPPF{GR&wP&w&wP&wP&wP&wP&wP&w&w&wP&wPP&wPP&wPGXPG`GfPG`PG`G`PPPG`PIePInItIzIePG`JQPG`PJXJ_PJcJwKfLPJcJcLVLdJcJcJcJcLxMOMRMWMZMaMgMsNVN]NgNm! Z! a! g! m! w! }!!T!!Z!!a!!g!!y!#T!#Z!#a!#g!#q!#w!#}!$T!$Z!$e!$k!$u!${!%U!%[!%k!%s!%}!&UPPPPPPPPP!&[!&d!&m!&w!'SPPPPPPPPPPPP!+r!,[!0j!3vPP!4O!4^!4g!5]!5S!5f!5l!5o!5r!5u!5}!6nPPPPPPPPPP!6q!6tPPPPPPPPP!6z!7W!7d!7j!7s!7v!7|!8S!8Y!8]P!8e!8n!9j!9m]iOr#n$n)c+c'udOSXYZehrstvx|}!R!S!T!U!X![!d!e!f!g!h!i!j!l!p!q!r!t!u!{#O#S#T#^#k#n$P$Q$S$U$X$i$k$l$n$u%O%T%[%_%a%d%h%m%o%y&R&T&`&d&m&o&p&w&{'O'V'Y'g'h'k'm'n'r'w'y'}(R(W(X(_(b(i(k(s(v)S)V)Z)[)`)c)l)v*O*R*S*V*]*^*`*b*e*f*i*l*p*q*x*z*{+S+[+]+c+j+k+n+v+w+x+z+{,O,Q,S,U,W,Y,Z,],o,q,x,{-O-n-o.^.b.y/i/j/k/l/n/o/p/q/r/t/x}!dP#j#w$Y$h$t%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/m!P!eP#j#w$Y$h$t$v%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/m!R!fP#j#w$Y$h$t$v$w%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/m!T!gP#j#w$Y$h$t$v$w$x%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/m!V!hP#j#w$Y$h$t$v$w$x$y%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/m!X!iP#j#w$Y$h$t$v$w$x$y$z%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/m!]!iP!o#j#w$Y$h$t$v$w$x$y$z${%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/m'uSOSXYZehrstvx|}!R!S!T!U!X![!d!e!f!g!h!i!j!l!p!q!r!t!u!{#O#S#T#^#k#n$P$Q$S$U$X$i$k$l$n$u%O%T%[%_%a%d%h%m%o%y&R&T&`&d&m&o&p&w&{'O'V'Y'g'h'k'm'n'r'w'y'}(R(W(X(_(b(i(k(s(v)S)V)Z)[)`)c)l)v*O*R*S*V*]*^*`*b*e*f*i*l*p*q*x*z*{+S+[+]+c+j+k+n+v+w+x+z+{,O,Q,S,U,W,Y,Z,],o,q,x,{-O-n-o.^.b.y/i/j/k/l/n/o/p/q/r/t/x&ZUOXYZhrtv|}!R!S!T!X!j!l!p!q!r!t!u#^#k#n$Q$S$U$X$l$n%O%T%[%_%a%h%m%o%y&R&`&d&o&p&w'O'V'Y'g'h'k'm'n'r'y(R(X(_(b(i(k(s)S)V)`)c)l)v*O*R*S*V*]*^*`*b*e*f*i*p*q*x*{+S+c+j+k+n+v+w+x+z+{,O,Q,S,U,W,Y,Z,],o,q,x,{-O-n-o.b.y/i/j/k/l/n/o/p/q/t/x%eWOXYZhrv|}!R!S!T!X!j!l#^#k#n$Q$S$U$X$l$n%O%T%_%a%h%m%o%y&R&`&d&o&p&w'O'V'Y'g'h'k'm'n'r'y(R(X(_(b(i(k(s)S)V)`)c)l)v*O*R*S*V*]*`*b*e*f*i*p*q*x*{+S+c+j+k+n+v+w+x+z+{,O,S,U,W,Y,Z,],o,q,x,{-n-o.b/o/p/qQ#}uQ.c-sR/u/w'ldOSXYZehrstvx|}!R!S!T!U!X![!d!e!f!g!h!i!l!p!q!r!t!u!{#O#S#T#^#k#n$P$Q$S$U$X$i$k$l$n$u%O%T%[%_%a%d%h%m%o%y&R&T&`&d&m&o&p&w&{'O'V'Y'g'k'm'n'r'w'y'}(R(W(X(_(b(i(k(s(v)S)V)Z)[)`)c)l)v*R*S*V*]*^*`*b*e*f*i*l*p*q*x*z*{+S+[+]+c+j+k+n+w+x+z+{,O,Q,S,U,W,Y,Z,],o,q,x,{-O-n-o.^.b.y/i/j/k/l/n/o/p/q/r/t/xW#ql!O!P$`W#yu&b-s/wQ$b!QQ$r!YQ$s!ZW$}!j'h*O+vS&a#z#{Q'R$mQ(l&ZQ(z&qU({&s(|(}U)O&u)P+RQ)n'[W)o'^+q,s-]S+p)p)qY,_*|,`-T-U-wQ,b+OQ,l+gQ,n+il-`,w-f-g-i.R.T.Y.p.u.z/P/[/a/dQ-v-SQ.Z-hQ.g-{Q.r.VU/V.{/Y/bX/]/Q/^/e/fR&`#yi!xXY!S!T%a%h'y(R)V*]*`*bR%_!wQ!|XQ%z#^Q&i$UR&l$XT-r-O.y![!kP!o#j#w$Y$h$t$v$w$x$y$z${%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/mQ&^#rR'a$sR'g$}Q%W!nR.e-y'tcOSXYZehrstvx|}!R!S!T!U!X![!d!e!f!g!h!i!j!l!p!q!r!t!u!{#O#S#T#^#k#n$P$Q$S$U$X$i$k$l$n$u%O%T%[%_%a%d%h%m%o%y&R&T&`&d&m&o&p&w&{'O'V'Y'g'h'k'm'n'r'w'y'}(R(W(X(_(b(i(k(s(v)S)V)Z)[)`)c)l)v*O*R*S*V*]*^*`*b*e*f*i*l*p*q*x*z*{+S+[+]+c+j+k+n+v+w+x+z+{,O,Q,S,U,W,Y,Z,],o,q,x,{-O-n-o.^.b.y/i/j/k/l/n/o/p/q/r/t/xS#hc#i!P-d,w-f-g-h-i-{.R.T.Y.p.u.z.{/P/Q/Y/[/^/a/b/d/e/f'tcOSXYZehrstvx|}!R!S!T!U!X![!d!e!f!g!h!i!j!l!p!q!r!t!u!{#O#S#T#^#k#n$P$Q$S$U$X$i$k$l$n$u%O%T%[%_%a%d%h%m%o%y&R&T&`&d&m&o&p&w&{'O'V'Y'g'h'k'm'n'r'w'y'}(R(W(X(_(b(i(k(s(v)S)V)Z)[)`)c)l)v*O*R*S*V*]*^*`*b*e*f*i*l*p*q*x*z*{+S+[+]+c+j+k+n+v+w+x+z+{,O,Q,S,U,W,Y,Z,],o,q,x,{-O-n-o.^.b.y/i/j/k/l/n/o/p/q/r/t/xT#hc#iS#__#`S#b`#cS#da#eS#fb#gT*t(e*uT(f%z(hQ$WwR+o)oX$Uw$V$W&kZkOr$n)c+cXoOr)c+cQ$o!WQ&y$fQ&z$gQ']$qQ'`$sQ)a'QQ)g'VQ)i'WQ)j'XQ)w'_Q)y'aQ+V)VQ+X)WQ+Y)XQ+^)_S+`)b)xQ+d)eQ+e)fQ+f)hQ,d+UQ,e+WQ,g+_Q,h+aQ,m+hQ-W,fQ-Y,kQ-Z,lQ-x-XQ._-lR.x.`WoOr)c+cR#tnQ'_$rR)b'RQ+n)oR,q+oQ)x'_R+a)bZmOnr)c+cQ'c$tR){'dT,u+u,vu-k,w-f-g-i-{.R.T.Y.p.u.z.{/P/Y/[/a/b/dt-k,w-f-g-i-{.R.T.Y.p.u.z.{/P/Y/[/a/b/dQ.Z-hX/]/Q/^/e/f!P-c,w-f-g-h-i-{.R.T.Y.p.u.z.{/P/Q/Y/[/^/a/b/d/e/fQ.O-bR.l.Pg.R-e.S.h.o.t/S/U/W/c/g/hu-j,w-f-g-i-{.R.T.Y.p.u.z.{/P/Y/[/a/b/dX-|-`-j.g/VR.i-{V/X.{/Y/bR.`-lQrOR#vrQ&c#|R(q&cS%n#R$OS(Y%n(]T(]%q&eQ%b!zQ%i!}W'z%b%i(P(TQ(P%fR(T%kQ&n$YR(w&nQ(`%rQ*g(ZT*m(`*gQ'i%PR*P'iS'l%S%TY*T'l*U+|,|-pU*U'm'n'oU+|*V*W*XS,|+},OR-p,}Q#Y]R%u#YQ#]^R%w#]Q#`_R%{#`Q(c%xS*r(c*sR*s(dQ*u(eR,[*uQ#c`R%}#cQ#eaR&O#eQ#gbR&P#gQ#icR&Q#iQ#lfQ&S#jW&V#l&S(t*yQ(t&hR*y/mQ$VwS&j$V&kR&k$WQ&x$dR)T&xQ&[#qR(m&[Q$`!PR&r$`Q*}({S,a*}-VR-V,bQ&v$bR)Q&vQ#ojR&X#oQ+c)cR,i+cQ)U&yR+T)UQ&|$hS)]&|)^R)^&}Q'U$oR)d'UQ'Z$pS)m'Z+lR+l)nQ+r)sR,t+rWnOr)c+cR#snQ,v+uR-^,vd.S-e.h.o.t/S/U/W/c/g/hR.n.SU-z-`.g/VR.f-zQ/R.tS/_/R/`R/`/SS.|.h.iR/Z.|Q.U-eR.q.USqOrT+b)c+cWpOr)c+cR'S$nYjOr$n)c+cR&W#n[wOr#n$n)c+cR&i$U&YPOXYZhrtv|}!R!S!T!X!j!l!p!q!r!t!u#^#k#n$Q$S$U$X$l$n%O%T%[%_%a%h%m%o%y&R&`&d&o&p&w'O'V'Y'g'h'k'm'n'r'y(R(X(_(b(i(k(s)S)V)`)c)l)v*O*R*S*V*]*^*`*b*e*f*i*p*q*x*{+S+c+j+k+n+v+w+x+z+{,O,Q,S,U,W,Y,Z,],o,q,x,{-O-n-o.b.y/i/j/k/l/n/o/p/q/t/xQ!oSQ#jeQ#wsU$Yx%d'}S$h!U$kQ$t![Q$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ${!iQ%f!{Q%k#OQ%q#SQ%r#TQ&e$PQ&}$iQ'd$uQ(j&TU(u&m(v*zW)Y&{)[+[+]Q*Z'wQ*d(WQ+Z)ZQ,V*lQ.w.^R/m/rQ!zXQ!}YQ$f!SQ$g!T^'v%a%h'y(R*]*`*bR+W)V[fOr#n$n)c+ch!wXY!S!T%a%h'y(R)V*]*`*bQ#RZQ#mhS$Ov|Q$]}W$d!R$X'O)`S$p!X$lW$|!j'h*O+vQ%S!lQ%x#^`&U#k&R(i(k(s*x,]/qQ&f$QQ&g$SQ&h$UQ'e%OQ'o%TQ'u%_W(V%m(X*e*iQ(Z%oQ(d%yQ(o&`S(r&d/oQ(x&oQ(y&pU)R&w)S+SQ)h'VY)k'Y)l+j+k,oQ)|'g^*Q'k*S+z+{,{-o.bQ*W'mQ*X'nS*Y'r/pW*k(_*f,S,WW*o(b*q,Y,ZQ+t)vQ+y*RQ+}*VQ,X*pQ,^*{Q,p+nQ,y+wQ,z+xQ,},OQ-R,UQ-[,qQ-m,xR.a-nhTOr#k#n$n&R&d'r(i(k)c+c$z!vXYZhv|}!R!S!T!X!j!l#^$Q$S$U$X$l%O%T%_%a%h%m%o%y&`&o&p&w'O'V'Y'g'h'k'm'n'y(R(X(_(b(s)S)V)`)l)v*O*R*S*V*]*`*b*e*f*i*p*q*x*{+S+j+k+n+v+w+x+z+{,O,S,U,W,Y,Z,],o,q,x,{-n-o.b/o/p/qQ#xtW%X!p!t/j/tQ%Y!qQ%Z!rQ%]!uQ%g/iS'q%[/nQ's/kQ't/lQ,P*^Q-Q,QS-q-O.yR/v/xU#|u-s/wR(p&b[gOr#n$n)c+cX!yX#^$U$XQ#WZQ$RvR$[|Q%c!zQ%j!}Q%p#RQ'e$|Q(Q%fQ(U%kQ(^%qQ(a%rQ*h(ZQ-P,PQ-u-QR.d-tQ$ZxQ'|%dR*_'}Q-t-OR/T.yR#QYR#VZR%R!jQ%P!jV)}'h*O+v!]!mP!o#j#w$Y$h$t$v$w$x$y$z${%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/mR%U!lR%z#^Q(g%zR*w(hQ$e!RQ&l$XQ)_'OR+_)`Q#rlQ$^!OQ$a!PR&t$`Q(z&sR+Q(}Q(z&sQ+P(|R+Q(}R$c!QXpOr)c+cQ$j!UR'P$kQ$q!XR'Q$lR)u'^Q)s'^V,r+q,s-]Q-l,wQ.W-fR.X-gU-e,w-f-gQ.]-iQ.h-{Q.m.RU.o.T.p/PQ.t.YQ/S.uQ/U.zU/W.{/Y/bQ/c/[Q/g/aR/h/dR.[-hR.j-{",nodeNames:"\u26A0 print Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatConversion FormatSpec ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:267,context:trackIndent,nodeProps:[["group",-14,4,80,82,83,85,87,89,91,93,94,95,97,100,103,"Statement Statement",-22,6,16,19,23,38,47,48,54,55,58,59,60,61,62,65,68,69,70,74,75,76,77,"Expression",-10,105,107,110,112,113,117,119,124,126,129,"Statement",-9,134,135,138,139,141,142,143,144,145,"Pattern"],["openedBy",21,"(",52,"[",56,"{"],["closedBy",22,")",53,"]",57,"}"]],propSources:[pythonHighlighting],skippedNodes:[0,2],repeatNodeCount:38,tokenData:"&JdMgR!^OX$}XY!&]Y[$}[]!&]]p$}pq!&]qr!(grs!,^st!IYtu$}uv$5[vw$7nwx$8zxy%'vyz%(|z{%*S{|%,r|}%.O}!O%/U!O!P%1k!P!Q%<q!Q!R%?a!R![%Cc![!]%N_!]!^&!q!^!_&#w!_!`&&g!`!a&'s!a!b$}!b!c&*`!c!d&+n!d!e&-`!e!h&+n!h!i&7[!i!t&+n!t!u&@j!u!w&+n!w!x&5j!x!}&+n!}#O&Bt#O#P!'u#P#Q&Cz#Q#R&EQ#R#S&+n#S#T$}#T#U&+n#U#V&-`#V#Y&+n#Y#Z&7[#Z#f&+n#f#g&@j#g#i&+n#i#j&5j#j#o&+n#o#p&F^#p#q&GS#q#r&H`#r#s&I^#s$g$}$g~&+n<r%`Z&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}<Q&^Z&^7[&TS&Z`&d!bOr'PrsFisw'Pwx(Rx#O'P#O#PAe#P#o'P#o#pEu#p#q'P#q#rAy#r~'P<Q'`Z&^7[&TS&WW&Z`&d!b&f#tOr'Prs&Rsw'Pwx(Rx#O'P#O#PAe#P#o'P#o#pEu#p#q'P#q#rAy#r~'P;p([Z&^7[&WW&f#tOr(}rs)}sw(}wx={x#O(}#O#P2]#P#o(}#o#p:X#p#q(}#q#r2q#r~(};p)[Z&^7[&TS&WW&d!b&f#tOr(}rs)}sw(}wx(Rx#O(}#O#P2]#P#o(}#o#p:X#p#q(}#q#r2q#r~(};p*WZ&^7[&TS&d!bOr(}rs*ysw(}wx(Rx#O(}#O#P2]#P#o(}#o#p:X#p#q(}#q#r2q#r~(};p+SZ&^7[&TS&d!bOr(}rs+usw(}wx(Rx#O(}#O#P2]#P#o(}#o#p:X#p#q(}#q#r2q#r~(}8r,OX&^7[&TS&d!bOw+uwx,kx#O+u#O#P.]#P#o+u#o#p0d#p#q+u#q#r.q#r~+u8r,pX&^7[Ow+uwx-]x#O+u#O#P.]#P#o+u#o#p0d#p#q+u#q#r.q#r~+u8r-bX&^7[Ow+uwx-}x#O+u#O#P.]#P#o+u#o#p0d#p#q+u#q#r.q#r~+u7[.SR&^7[O#o-}#p#q-}#r~-}8r.bT&^7[O#o+u#o#p.q#p#q+u#q#r.q#r~+u!f.xV&TS&d!bOw.qwx/_x#O.q#O#P0^#P#o.q#o#p0d#p~.q!f/bVOw.qwx/wx#O.q#O#P0^#P#o.q#o#p0d#p~.q!f/zUOw.qx#O.q#O#P0^#P#o.q#o#p0d#p~.q!f0aPO~.q!f0iV&TSOw1Owx1dx#O1O#O#P2V#P#o1O#o#p.q#p~1OS1TT&TSOw1Owx1dx#O1O#O#P2V#P~1OS1gTOw1Owx1vx#O1O#O#P2V#P~1OS1ySOw1Ox#O1O#O#P2V#P~1OS2YPO~1O;p2bT&^7[O#o(}#o#p2q#p#q(}#q#r2q#r~(}%d2|X&TS&WW&d!b&f#tOr2qrs3isw2qwx5Px#O2q#O#P:R#P#o2q#o#p:X#p~2q%d3pX&TS&d!bOr2qrs4]sw2qwx5Px#O2q#O#P:R#P#o2q#o#p:X#p~2q%d4dX&TS&d!bOr2qrs.qsw2qwx5Px#O2q#O#P:R#P#o2q#o#p:X#p~2q%d5WX&WW&f#tOr2qrs3isw2qwx5sx#O2q#O#P:R#P#o2q#o#p:X#p~2q%d5zX&WW&f#tOr2qrs3isw2qwx6gx#O2q#O#P:R#P#o2q#o#p:X#p~2q#|6nV&WW&f#tOr6grs7Ts#O6g#O#P8S#P#o6g#o#p8Y#p~6g#|7WVOr6grs7ms#O6g#O#P8S#P#o6g#o#p8Y#p~6g#|7pUOr6gs#O6g#O#P8S#P#o6g#o#p8Y#p~6g#|8VPO~6g#|8_V&WWOr8trs9Ys#O8t#O#P9{#P#o8t#o#p6g#p~8tW8yT&WWOr8trs9Ys#O8t#O#P9{#P~8tW9]TOr8trs9ls#O8t#O#P9{#P~8tW9oSOr8ts#O8t#O#P9{#P~8tW:OPO~8t%d:UPO~2q%d:`X&TS&WWOr:{rs;isw:{wx<ox#O:{#O#P=u#P#o:{#o#p2q#p~:{[;SV&TS&WWOr:{rs;isw:{wx<ox#O:{#O#P=u#P~:{[;nV&TSOr:{rs<Tsw:{wx<ox#O:{#O#P=u#P~:{[<YV&TSOr:{rs1Osw:{wx<ox#O:{#O#P=u#P~:{[<tV&WWOr:{rs;isw:{wx=Zx#O:{#O#P=u#P~:{[=`V&WWOr:{rs;isw:{wx8tx#O:{#O#P=u#P~:{[=xPO~:{;p>UZ&^7[&WW&f#tOr(}rs)}sw(}wx>wx#O(}#O#P2]#P#o(}#o#p:X#p#q(}#q#r2q#r~(}:Y?QX&^7[&WW&f#tOr>wrs?ms#O>w#O#PAP#P#o>w#o#p8Y#p#q>w#q#r6g#r~>w:Y?rX&^7[Or>wrs@_s#O>w#O#PAP#P#o>w#o#p8Y#p#q>w#q#r6g#r~>w:Y@dX&^7[Or>wrs-}s#O>w#O#PAP#P#o>w#o#p8Y#p#q>w#q#r6g#r~>w:YAUT&^7[O#o>w#o#p6g#p#q>w#q#r6g#r~>w<QAjT&^7[O#o'P#o#pAy#p#q'P#q#rAy#r~'P%tBWX&TS&WW&Z`&d!b&f#tOrAyrsBsswAywx5Px#OAy#O#PEo#P#oAy#o#pEu#p~Ay%tB|X&TS&Z`&d!bOrAyrsCiswAywx5Px#OAy#O#PEo#P#oAy#o#pEu#p~Ay%tCrX&TS&Z`&d!bOrAyrsD_swAywx5Px#OAy#O#PEo#P#oAy#o#pEu#p~Ay!vDhV&TS&Z`&d!bOwD_wx/_x#OD_#O#PD}#P#oD_#o#pET#p~D_!vEQPO~D_!vEYV&TSOw1Owx1dx#O1O#O#P2V#P#o1O#o#pD_#p~1O%tErPO~Ay%tE|X&TS&WWOr:{rs;isw:{wx<ox#O:{#O#P=u#P#o:{#o#pAy#p~:{<QFtZ&^7[&TS&Z`&d!bOr'PrsGgsw'Pwx(Rx#O'P#O#PAe#P#o'P#o#pEu#p#q'P#q#rAy#r~'P9SGrX&^7[&TS&Z`&d!bOwGgwx,kx#OGg#O#PH_#P#oGg#o#pET#p#qGg#q#rD_#r~Gg9SHdT&^7[O#oGg#o#pD_#p#qGg#q#rD_#r~Gg<bIOZ&^7[&WW&ap&f#tOrIqrs)}swIqwx! wx#OIq#O#PJs#P#oIq#o#p! T#p#qIq#q#rKX#r~Iq<bJQZ&^7[&TS&WW&ap&d!b&f#tOrIqrs)}swIqwxHsx#OIq#O#PJs#P#oIq#o#p! T#p#qIq#q#rKX#r~Iq<bJxT&^7[O#oIq#o#pKX#p#qIq#q#rKX#r~Iq&UKfX&TS&WW&ap&d!b&f#tOrKXrs3iswKXwxLRx#OKX#O#PN}#P#oKX#o#p! T#p~KX&UL[X&WW&ap&f#tOrKXrs3iswKXwxLwx#OKX#O#PN}#P#oKX#o#p! T#p~KX&UMQX&WW&ap&f#tOrKXrs3iswKXwxMmx#OKX#O#PN}#P#oKX#o#p! T#p~KX$nMvV&WW&ap&f#tOrMmrs7Ts#OMm#O#PN]#P#oMm#o#pNc#p~Mm$nN`PO~Mm$nNhV&WWOr8trs9Ys#O8t#O#P9{#P#o8t#o#pMm#p~8t&U! QPO~KX&U! [X&TS&WWOr:{rs;isw:{wx<ox#O:{#O#P=u#P#o:{#o#pKX#p~:{<b!!SZ&^7[&WW&ap&f#tOrIqrs)}swIqwx!!ux#OIq#O#PJs#P#oIq#o#p! T#p#qIq#q#rKX#r~Iq:z!#QX&^7[&WW&ap&f#tOr!!urs?ms#O!!u#O#P!#m#P#o!!u#o#pNc#p#q!!u#q#rMm#r~!!u:z!#rT&^7[O#o!!u#o#pMm#p#q!!u#q#rMm#r~!!u<r!$WT&^7[O#o$}#o#p!$g#p#q$}#q#r!$g#r~$}&f!$vX&TS&WW&Z`&ap&d!b&f#tOr!$grsBssw!$gwxLRx#O!$g#O#P!%c#P#o!$g#o#p!%i#p~!$g&f!%fPO~!$g&f!%pX&TS&WWOr:{rs;isw:{wx<ox#O:{#O#P=u#P#o:{#o#p!$g#p~:{Mg!&pa&^7[&TS&WW%[1s&Z`&ap&d!b&f#tOX$}XY!&]Y[$}[]!&]]p$}pq!&]qr$}rs&Rsw$}wxHsx#O$}#O#P!'u#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Mg!'zX&^7[OY$}YZ!&]Z]$}]^!&]^#o$}#o#p!$g#p#q$}#q#r!$g#r~$}<u!(xb&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`!*Q!`#O$}#O#P!$R#P#T$}#T#U!+W#U#f$}#f#g!+W#g#h!+W#h#o$}#o#p!%i#p#q$}#q#r!$g#r~$}<u!*eZkR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}<u!+kZ!jR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{!,m_&bp&^7[&TS&R,X&Z`&d!bOY!-lYZ'PZ]!-l]^'P^r!-lrs!G^sw!-lwx!/|x#O!-l#O#P!Cp#P#o!-l#o#p!F[#p#q!-l#q#r!DU#r~!-lGZ!-}_&^7[&TS&WW&R,X&Z`&d!b&f#tOY!-lYZ'PZ]!-l]^'P^r!-lrs!.|sw!-lwx!/|x#O!-l#O#P!Cp#P#o!-l#o#p!F[#p#q!-l#q#r!DU#r~!-lGZ!/ZZ&^7[&TS&R,X&Z`&d!bOr'PrsFisw'Pwx(Rx#O'P#O#PAe#P#o'P#o#pEu#p#q'P#q#rAy#r~'PFy!0X_&^7[&WW&R,X&f#tOY!1WYZ(}Z]!1W]^(}^r!1Wrs!2fsw!1Wwx!@Yx#O!1W#O#P!3d#P#o!1W#o#p!;t#p#q!1W#q#r!3x#r~!1WFy!1g_&^7[&TS&WW&R,X&d!b&f#tOY!1WYZ(}Z]!1W]^(}^r!1Wrs!2fsw!1Wwx!/|x#O!1W#O#P!3d#P#o!1W#o#p!;t#p#q!1W#q#r!3x#r~!1WFy!2qZ&^7[&TS&R,X&d!bOr(}rs*ysw(}wx(Rx#O(}#O#P2]#P#o(}#o#p:X#p#q(}#q#r2q#r~(}Fy!3iT&^7[O#o!1W#o#p!3x#p#q!1W#q#r!3x#r~!1W0m!4V]&TS&WW&R,X&d!b&f#tOY!3xYZ2qZ]!3x]^2q^r!3xrs!5Osw!3xwx!5tx#O!3x#O#P!;n#P#o!3x#o#p!;t#p~!3x0m!5XX&TS&R,X&d!bOr2qrs4]sw2qwx5Px#O2q#O#P:R#P#o2q#o#p:X#p~2q0m!5}]&WW&R,X&f#tOY!3xYZ2qZ]!3x]^2q^r!3xrs!5Osw!3xwx!6vx#O!3x#O#P!;n#P#o!3x#o#p!;t#p~!3x0m!7P]&WW&R,X&f#tOY!3xYZ2qZ]!3x]^2q^r!3xrs!5Osw!3xwx!7xx#O!3x#O#P!;n#P#o!3x#o#p!;t#p~!3x/V!8RZ&WW&R,X&f#tOY!7xYZ6gZ]!7x]^6g^r!7xrs!8ts#O!7x#O#P!9`#P#o!7x#o#p!9f#p~!7x/V!8yV&R,XOr6grs7ms#O6g#O#P8S#P#o6g#o#p8Y#p~6g/V!9cPO~!7x/V!9mZ&WW&R,XOY!:`YZ8tZ]!:`]^8t^r!:`rs!;Ss#O!:`#O#P!;h#P#o!:`#o#p!7x#p~!:`,a!:gX&WW&R,XOY!:`YZ8tZ]!:`]^8t^r!:`rs!;Ss#O!:`#O#P!;h#P~!:`,a!;XT&R,XOr8trs9ls#O8t#O#P9{#P~8t,a!;kPO~!:`0m!;qPO~!3x0m!;}]&TS&WW&R,XOY!<vYZ:{Z]!<v]^:{^r!<vrs!=rsw!<vwx!>`x#O!<v#O#P!@S#P#o!<v#o#p!3x#p~!<v,e!=PZ&TS&WW&R,XOY!<vYZ:{Z]!<v]^:{^r!<vrs!=rsw!<vwx!>`x#O!<v#O#P!@S#P~!<v,e!=yV&TS&R,XOr:{rs<Tsw:{wx<ox#O:{#O#P=u#P~:{,e!>gZ&WW&R,XOY!<vYZ:{Z]!<v]^:{^r!<vrs!=rsw!<vwx!?Yx#O!<v#O#P!@S#P~!<v,e!?aZ&WW&R,XOY!<vYZ:{Z]!<v]^:{^r!<vrs!=rsw!<vwx!:`x#O!<v#O#P!@S#P~!<v,e!@VPO~!<vFy!@e_&^7[&WW&R,X&f#tOY!1WYZ(}Z]!1W]^(}^r!1Wrs!2fsw!1Wwx!Adx#O!1W#O#P!3d#P#o!1W#o#p!;t#p#q!1W#q#r!3x#r~!1WEc!Ao]&^7[&WW&R,X&f#tOY!AdYZ>wZ]!Ad]^>w^r!Adrs!Bhs#O!Ad#O#P!C[#P#o!Ad#o#p!9f#p#q!Ad#q#r!7x#r~!AdEc!BoX&^7[&R,XOr>wrs@_s#O>w#O#PAP#P#o>w#o#p8Y#p#q>w#q#r6g#r~>wEc!CaT&^7[O#o!Ad#o#p!7x#p#q!Ad#q#r!7x#r~!AdGZ!CuT&^7[O#o!-l#o#p!DU#p#q!-l#q#r!DU#r~!-l0}!De]&TS&WW&R,X&Z`&d!b&f#tOY!DUYZAyZ]!DU]^Ay^r!DUrs!E^sw!DUwx!5tx#O!DU#O#P!FU#P#o!DU#o#p!F[#p~!DU0}!EiX&TS&R,X&Z`&d!bOrAyrsCiswAywx5Px#OAy#O#PEo#P#oAy#o#pEu#p~Ay0}!FXPO~!DU0}!Fe]&TS&WW&R,XOY!<vYZ:{Z]!<v]^:{^r!<vrs!=rsw!<vwx!>`x#O!<v#O#P!@S#P#o!<v#o#p!DU#p~!<vGZ!GkZ&^7[&TS&R,X&Z`&d!bOr'Prs!H^sw'Pwx(Rx#O'P#O#PAe#P#o'P#o#pEu#p#q'P#q#rAy#r~'PGZ!HmX&X#|&^7[&TS&V,X&Z`&d!bOwGgwx,kx#OGg#O#PH_#P#oGg#o#pET#p#qGg#q#rD_#r~GgMg!Im_Q1s&^7[&TS&WW&Z`&ap&d!b&f#tOY!IYYZ$}Z]!IY]^$}^r!IYrs!Jlsw!IYwx$$[x#O!IY#O#P$1v#P#o!IY#o#p$4Y#p#q!IY#q#r$2j#r~!IYLu!Jy_Q1s&^7[&TS&Z`&d!bOY!KxYZ'PZ]!Kx]^'P^r!Kxrs$ Usw!Kxwx!MYx#O!Kx#O#P#G^#P#o!Kx#o#p#NS#p#q!Kx#q#r#HQ#r~!KxLu!LZ_Q1s&^7[&TS&WW&Z`&d!b&f#tOY!KxYZ'PZ]!Kx]^'P^r!Kxrs!Jlsw!Kxwx!MYx#O!Kx#O#P#G^#P#o!Kx#o#p#NS#p#q!Kx#q#r#HQ#r~!KxLe!Me_Q1s&^7[&WW&f#tOY!NdYZ(}Z]!Nd]^(}^r!Ndrs# rsw!Ndwx#B[x#O!Nd#O#P#/f#P#o!Nd#o#p#<b#p#q!Nd#q#r#0Y#r~!NdLe!Ns_Q1s&^7[&TS&WW&d!b&f#tOY!NdYZ(}Z]!Nd]^(}^r!Ndrs# rsw!Ndwx!MYx#O!Nd#O#P#/f#P#o!Nd#o#p#<b#p#q!Nd#q#r#0Y#r~!NdLe# }_Q1s&^7[&TS&d!bOY!NdYZ(}Z]!Nd]^(}^r!Ndrs#!|sw!Ndwx!MYx#O!Nd#O#P#/f#P#o!Nd#o#p#<b#p#q!Nd#q#r#0Y#r~!NdLe##X_Q1s&^7[&TS&d!bOY!NdYZ(}Z]!Nd]^(}^r!Ndrs#$Wsw!Ndwx!MYx#O!Nd#O#P#/f#P#o!Nd#o#p#<b#p#q!Nd#q#r#0Y#r~!NdIg#$c]Q1s&^7[&TS&d!bOY#$WYZ+uZ]#$W]^+u^w#$Wwx#%[x#O#$W#O#P#(^#P#o#$W#o#p#,Q#p#q#$W#q#r#)Q#r~#$WIg#%c]Q1s&^7[OY#$WYZ+uZ]#$W]^+u^w#$Wwx#&[x#O#$W#O#P#(^#P#o#$W#o#p#,Q#p#q#$W#q#r#)Q#r~#$WIg#&c]Q1s&^7[OY#$WYZ+uZ]#$W]^+u^w#$Wwx#'[x#O#$W#O#P#(^#P#o#$W#o#p#,Q#p#q#$W#q#r#)Q#r~#$WHP#'cXQ1s&^7[OY#'[YZ-}Z]#'[]^-}^#o#'[#o#p#(O#p#q#'[#q#r#(O#r~#'[1s#(TRQ1sOY#(OZ]#(O^~#(OIg#(eXQ1s&^7[OY#$WYZ+uZ]#$W]^+u^#o#$W#o#p#)Q#p#q#$W#q#r#)Q#r~#$W3Z#)ZZQ1s&TS&d!bOY#)QYZ.qZ]#)Q]^.q^w#)Qwx#)|x#O#)Q#O#P#+l#P#o#)Q#o#p#,Q#p~#)Q3Z#*RZQ1sOY#)QYZ.qZ]#)Q]^.q^w#)Qwx#*tx#O#)Q#O#P#+l#P#o#)Q#o#p#,Q#p~#)Q3Z#*yZQ1sOY#)QYZ.qZ]#)Q]^.q^w#)Qwx#(Ox#O#)Q#O#P#+l#P#o#)Q#o#p#,Q#p~#)Q3Z#+qTQ1sOY#)QYZ.qZ]#)Q]^.q^~#)Q3Z#,XZQ1s&TSOY#,zYZ1OZ]#,z]^1O^w#,zwx#-nx#O#,z#O#P#/Q#P#o#,z#o#p#)Q#p~#,z1w#-RXQ1s&TSOY#,zYZ1OZ]#,z]^1O^w#,zwx#-nx#O#,z#O#P#/Q#P~#,z1w#-sXQ1sOY#,zYZ1OZ]#,z]^1O^w#,zwx#.`x#O#,z#O#P#/Q#P~#,z1w#.eXQ1sOY#,zYZ1OZ]#,z]^1O^w#,zwx#(Ox#O#,z#O#P#/Q#P~#,z1w#/VTQ1sOY#,zYZ1OZ]#,z]^1O^~#,zLe#/mXQ1s&^7[OY!NdYZ(}Z]!Nd]^(}^#o!Nd#o#p#0Y#p#q!Nd#q#r#0Y#r~!Nd6X#0g]Q1s&TS&WW&d!b&f#tOY#0YYZ2qZ]#0Y]^2q^r#0Yrs#1`sw#0Ywx#3dx#O#0Y#O#P#;|#P#o#0Y#o#p#<b#p~#0Y6X#1i]Q1s&TS&d!bOY#0YYZ2qZ]#0Y]^2q^r#0Yrs#2bsw#0Ywx#3dx#O#0Y#O#P#;|#P#o#0Y#o#p#<b#p~#0Y6X#2k]Q1s&TS&d!bOY#0YYZ2qZ]#0Y]^2q^r#0Yrs#)Qsw#0Ywx#3dx#O#0Y#O#P#;|#P#o#0Y#o#p#<b#p~#0Y6X#3m]Q1s&WW&f#tOY#0YYZ2qZ]#0Y]^2q^r#0Yrs#1`sw#0Ywx#4fx#O#0Y#O#P#;|#P#o#0Y#o#p#<b#p~#0Y6X#4o]Q1s&WW&f#tOY#0YYZ2qZ]#0Y]^2q^r#0Yrs#1`sw#0Ywx#5hx#O#0Y#O#P#;|#P#o#0Y#o#p#<b#p~#0Y4q#5qZQ1s&WW&f#tOY#5hYZ6gZ]#5h]^6g^r#5hrs#6ds#O#5h#O#P#8S#P#o#5h#o#p#8h#p~#5h4q#6iZQ1sOY#5hYZ6gZ]#5h]^6g^r#5hrs#7[s#O#5h#O#P#8S#P#o#5h#o#p#8h#p~#5h4q#7aZQ1sOY#5hYZ6gZ]#5h]^6g^r#5hrs#(Os#O#5h#O#P#8S#P#o#5h#o#p#8h#p~#5h4q#8XTQ1sOY#5hYZ6gZ]#5h]^6g^~#5h4q#8oZQ1s&WWOY#9bYZ8tZ]#9b]^8t^r#9brs#:Us#O#9b#O#P#;h#P#o#9b#o#p#5h#p~#9b1{#9iXQ1s&WWOY#9bYZ8tZ]#9b]^8t^r#9brs#:Us#O#9b#O#P#;h#P~#9b1{#:ZXQ1sOY#9bYZ8tZ]#9b]^8t^r#9brs#:vs#O#9b#O#P#;h#P~#9b1{#:{XQ1sOY#9bYZ8tZ]#9b]^8t^r#9brs#(Os#O#9b#O#P#;h#P~#9b1{#;mTQ1sOY#9bYZ8tZ]#9b]^8t^~#9b6X#<RTQ1sOY#0YYZ2qZ]#0Y]^2q^~#0Y6X#<k]Q1s&TS&WWOY#=dYZ:{Z]#=d]^:{^r#=drs#>`sw#=dwx#@Sx#O#=d#O#P#Av#P#o#=d#o#p#0Y#p~#=d2P#=mZQ1s&TS&WWOY#=dYZ:{Z]#=d]^:{^r#=drs#>`sw#=dwx#@Sx#O#=d#O#P#Av#P~#=d2P#>gZQ1s&TSOY#=dYZ:{Z]#=d]^:{^r#=drs#?Ysw#=dwx#@Sx#O#=d#O#P#Av#P~#=d2P#?aZQ1s&TSOY#=dYZ:{Z]#=d]^:{^r#=drs#,zsw#=dwx#@Sx#O#=d#O#P#Av#P~#=d2P#@ZZQ1s&WWOY#=dYZ:{Z]#=d]^:{^r#=drs#>`sw#=dwx#@|x#O#=d#O#P#Av#P~#=d2P#ATZQ1s&WWOY#=dYZ:{Z]#=d]^:{^r#=drs#>`sw#=dwx#9bx#O#=d#O#P#Av#P~#=d2P#A{TQ1sOY#=dYZ:{Z]#=d]^:{^~#=dLe#Bg_Q1s&^7[&WW&f#tOY!NdYZ(}Z]!Nd]^(}^r!Ndrs# rsw!Ndwx#Cfx#O!Nd#O#P#/f#P#o!Nd#o#p#<b#p#q!Nd#q#r#0Y#r~!NdJ}#Cq]Q1s&^7[&WW&f#tOY#CfYZ>wZ]#Cf]^>w^r#Cfrs#Djs#O#Cf#O#P#Fj#P#o#Cf#o#p#8h#p#q#Cf#q#r#5h#r~#CfJ}#Dq]Q1s&^7[OY#CfYZ>wZ]#Cf]^>w^r#Cfrs#Ejs#O#Cf#O#P#Fj#P#o#Cf#o#p#8h#p#q#Cf#q#r#5h#r~#CfJ}#Eq]Q1s&^7[OY#CfYZ>wZ]#Cf]^>w^r#Cfrs#'[s#O#Cf#O#P#Fj#P#o#Cf#o#p#8h#p#q#Cf#q#r#5h#r~#CfJ}#FqXQ1s&^7[OY#CfYZ>wZ]#Cf]^>w^#o#Cf#o#p#5h#p#q#Cf#q#r#5h#r~#CfLu#GeXQ1s&^7[OY!KxYZ'PZ]!Kx]^'P^#o!Kx#o#p#HQ#p#q!Kx#q#r#HQ#r~!Kx6i#Ha]Q1s&TS&WW&Z`&d!b&f#tOY#HQYZAyZ]#HQ]^Ay^r#HQrs#IYsw#HQwx#3dx#O#HQ#O#P#Mn#P#o#HQ#o#p#NS#p~#HQ6i#Ie]Q1s&TS&Z`&d!bOY#HQYZAyZ]#HQ]^Ay^r#HQrs#J^sw#HQwx#3dx#O#HQ#O#P#Mn#P#o#HQ#o#p#NS#p~#HQ6i#Ji]Q1s&TS&Z`&d!bOY#HQYZAyZ]#HQ]^Ay^r#HQrs#Kbsw#HQwx#3dx#O#HQ#O#P#Mn#P#o#HQ#o#p#NS#p~#HQ3k#KmZQ1s&TS&Z`&d!bOY#KbYZD_Z]#Kb]^D_^w#Kbwx#)|x#O#Kb#O#P#L`#P#o#Kb#o#p#Lt#p~#Kb3k#LeTQ1sOY#KbYZD_Z]#Kb]^D_^~#Kb3k#L{ZQ1s&TSOY#,zYZ1OZ]#,z]^1O^w#,zwx#-nx#O#,z#O#P#/Q#P#o#,z#o#p#Kb#p~#,z6i#MsTQ1sOY#HQYZAyZ]#HQ]^Ay^~#HQ6i#N]]Q1s&TS&WWOY#=dYZ:{Z]#=d]^:{^r#=drs#>`sw#=dwx#@Sx#O#=d#O#P#Av#P#o#=d#o#p#HQ#p~#=dLu$ c_Q1s&^7[&TS&Z`&d!bOY!KxYZ'PZ]!Kx]^'P^r!Kxrs$!bsw!Kxwx!MYx#O!Kx#O#P#G^#P#o!Kx#o#p#NS#p#q!Kx#q#r#HQ#r~!KxIw$!o]Q1s&^7[&TS&Z`&d!bOY$!bYZGgZ]$!b]^Gg^w$!bwx#%[x#O$!b#O#P$#h#P#o$!b#o#p#Lt#p#q$!b#q#r#Kb#r~$!bIw$#oXQ1s&^7[OY$!bYZGgZ]$!b]^Gg^#o$!b#o#p#Kb#p#q$!b#q#r#Kb#r~$!bMV$$i_Q1s&^7[&WW&ap&f#tOY$%hYZIqZ]$%h]^Iq^r$%hrs# rsw$%hwx$.px#O$%h#O#P$&x#P#o$%h#o#p$-n#p#q$%h#q#r$'l#r~$%hMV$%y_Q1s&^7[&TS&WW&ap&d!b&f#tOY$%hYZIqZ]$%h]^Iq^r$%hrs# rsw$%hwx$$[x#O$%h#O#P$&x#P#o$%h#o#p$-n#p#q$%h#q#r$'l#r~$%hMV$'PXQ1s&^7[OY$%hYZIqZ]$%h]^Iq^#o$%h#o#p$'l#p#q$%h#q#r$'l#r~$%h6y$'{]Q1s&TS&WW&ap&d!b&f#tOY$'lYZKXZ]$'l]^KX^r$'lrs#1`sw$'lwx$(tx#O$'l#O#P$-Y#P#o$'l#o#p$-n#p~$'l6y$)P]Q1s&WW&ap&f#tOY$'lYZKXZ]$'l]^KX^r$'lrs#1`sw$'lwx$)xx#O$'l#O#P$-Y#P#o$'l#o#p$-n#p~$'l6y$*T]Q1s&WW&ap&f#tOY$'lYZKXZ]$'l]^KX^r$'lrs#1`sw$'lwx$*|x#O$'l#O#P$-Y#P#o$'l#o#p$-n#p~$'l5c$+XZQ1s&WW&ap&f#tOY$*|YZMmZ]$*|]^Mm^r$*|rs#6ds#O$*|#O#P$+z#P#o$*|#o#p$,`#p~$*|5c$,PTQ1sOY$*|YZMmZ]$*|]^Mm^~$*|5c$,gZQ1s&WWOY#9bYZ8tZ]#9b]^8t^r#9brs#:Us#O#9b#O#P#;h#P#o#9b#o#p$*|#p~#9b6y$-_TQ1sOY$'lYZKXZ]$'l]^KX^~$'l6y$-w]Q1s&TS&WWOY#=dYZ:{Z]#=d]^:{^r#=drs#>`sw#=dwx#@Sx#O#=d#O#P#Av#P#o#=d#o#p$'l#p~#=dMV$.}_Q1s&^7[&WW&ap&f#tOY$%hYZIqZ]$%h]^Iq^r$%hrs# rsw$%hwx$/|x#O$%h#O#P$&x#P#o$%h#o#p$-n#p#q$%h#q#r$'l#r~$%hKo$0Z]Q1s&^7[&WW&ap&f#tOY$/|YZ!!uZ]$/|]^!!u^r$/|rs#Djs#O$/|#O#P$1S#P#o$/|#o#p$,`#p#q$/|#q#r$*|#r~$/|Ko$1ZXQ1s&^7[OY$/|YZ!!uZ]$/|]^!!u^#o$/|#o#p$*|#p#q$/|#q#r$*|#r~$/|Mg$1}XQ1s&^7[OY!IYYZ$}Z]!IY]^$}^#o!IY#o#p$2j#p#q!IY#q#r$2j#r~!IY7Z$2{]Q1s&TS&WW&Z`&ap&d!b&f#tOY$2jYZ!$gZ]$2j]^!$g^r$2jrs#IYsw$2jwx$(tx#O$2j#O#P$3t#P#o$2j#o#p$4Y#p~$2j7Z$3yTQ1sOY$2jYZ!$gZ]$2j]^!$g^~$2j7Z$4c]Q1s&TS&WWOY#=dYZ:{Z]#=d]^:{^r#=drs#>`sw#=dwx#@Sx#O#=d#O#P#Av#P#o#=d#o#p$2j#p~#=dGz$5o]%jQ&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gz$6{Z!s,W&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gz$8R]%dQ&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{$9Z_&_`&^7[&WW&R,X&ap&f#tOY$:YYZIqZ]$:Y]^Iq^r$:Yrs$;jsw$:Ywx%%zx#O$:Y#O#P%!^#P#o$:Y#o#p%$x#p#q$:Y#q#r%!r#r~$:YGk$:k_&^7[&TS&WW&R,X&ap&d!b&f#tOY$:YYZIqZ]$:Y]^Iq^r$:Yrs$;jsw$:Ywx% ^x#O$:Y#O#P%!^#P#o$:Y#o#p%$x#p#q$:Y#q#r%!r#r~$:YFy$;u_&^7[&TS&R,X&d!bOY$<tYZ(}Z]$<t]^(}^r$<trs$Kvsw$<twx$>Sx#O$<t#O#P$?Q#P#o$<t#o#p$Gb#p#q$<t#q#r$?f#r~$<tFy$=T_&^7[&TS&WW&R,X&d!b&f#tOY$<tYZ(}Z]$<t]^(}^r$<trs$;jsw$<twx$>Sx#O$<t#O#P$?Q#P#o$<t#o#p$Gb#p#q$<t#q#r$?f#r~$<tFy$>_Z&^7[&WW&R,X&f#tOr(}rs)}sw(}wx={x#O(}#O#P2]#P#o(}#o#p:X#p#q(}#q#r2q#r~(}Fy$?VT&^7[O#o$<t#o#p$?f#p#q$<t#q#r$?f#r~$<t0m$?s]&TS&WW&R,X&d!b&f#tOY$?fYZ2qZ]$?f]^2q^r$?frs$@lsw$?fwx$Ffx#O$?f#O#P$G[#P#o$?f#o#p$Gb#p~$?f0m$@u]&TS&R,X&d!bOY$?fYZ2qZ]$?f]^2q^r$?frs$Answ$?fwx$Ffx#O$?f#O#P$G[#P#o$?f#o#p$Gb#p~$?f0m$Aw]&TS&R,X&d!bOY$?fYZ2qZ]$?f]^2q^r$?frs$Bpsw$?fwx$Ffx#O$?f#O#P$G[#P#o$?f#o#p$Gb#p~$?f-o$ByZ&TS&R,X&d!bOY$BpYZ.qZ]$Bp]^.q^w$Bpwx$Clx#O$Bp#O#P$DW#P#o$Bp#o#p$D^#p~$Bp-o$CqV&R,XOw.qwx/wx#O.q#O#P0^#P#o.q#o#p0d#p~.q-o$DZPO~$Bp-o$DeZ&TS&R,XOY$EWYZ1OZ]$EW]^1O^w$EWwx$Ezx#O$EW#O#P$F`#P#o$EW#o#p$Bp#p~$EW,]$E_X&TS&R,XOY$EWYZ1OZ]$EW]^1O^w$EWwx$Ezx#O$EW#O#P$F`#P~$EW,]$FPT&R,XOw1Owx1vx#O1O#O#P2V#P~1O,]$FcPO~$EW0m$FoX&WW&R,X&f#tOr2qrs3isw2qwx5sx#O2q#O#P:R#P#o2q#o#p:X#p~2q0m$G_PO~$?f0m$Gk]&TS&WW&R,XOY$HdYZ:{Z]$Hd]^:{^r$Hdrs$I`sw$Hdwx$KSx#O$Hd#O#P$Kp#P#o$Hd#o#p$?f#p~$Hd,e$HmZ&TS&WW&R,XOY$HdYZ:{Z]$Hd]^:{^r$Hdrs$I`sw$Hdwx$KSx#O$Hd#O#P$Kp#P~$Hd,e$IgZ&TS&R,XOY$HdYZ:{Z]$Hd]^:{^r$Hdrs$JYsw$Hdwx$KSx#O$Hd#O#P$Kp#P~$Hd,e$JaZ&TS&R,XOY$HdYZ:{Z]$Hd]^:{^r$Hdrs$EWsw$Hdwx$KSx#O$Hd#O#P$Kp#P~$Hd,e$KZV&WW&R,XOr:{rs;isw:{wx=Zx#O:{#O#P=u#P~:{,e$KsPO~$HdFy$LR_&^7[&TS&R,X&d!bOY$<tYZ(}Z]$<t]^(}^r$<trs$MQsw$<twx$>Sx#O$<t#O#P$?Q#P#o$<t#o#p$Gb#p#q$<t#q#r$?f#r~$<tC{$M]]&^7[&TS&R,X&d!bOY$MQYZ+uZ]$MQ]^+u^w$MQwx$NUx#O$MQ#O#P$Nx#P#o$MQ#o#p$D^#p#q$MQ#q#r$Bp#r~$MQC{$N]X&^7[&R,XOw+uwx-]x#O+u#O#P.]#P#o+u#o#p0d#p#q+u#q#r.q#r~+uC{$N}T&^7[O#o$MQ#o#p$Bp#p#q$MQ#q#r$Bp#r~$MQGk% kZ&^7[&WW&R,X&ap&f#tOrIqrs)}swIqwx! wx#OIq#O#PJs#P#oIq#o#p! T#p#qIq#q#rKX#r~IqGk%!cT&^7[O#o$:Y#o#p%!r#p#q$:Y#q#r%!r#r~$:Y1_%#R]&TS&WW&R,X&ap&d!b&f#tOY%!rYZKXZ]%!r]^KX^r%!rrs$@lsw%!rwx%#zx#O%!r#O#P%$r#P#o%!r#o#p%$x#p~%!r1_%$VX&WW&R,X&ap&f#tOrKXrs3iswKXwxLwx#OKX#O#PN}#P#oKX#o#p! T#p~KX1_%$uPO~%!r1_%%R]&TS&WW&R,XOY$HdYZ:{Z]$Hd]^:{^r$Hdrs$I`sw$Hdwx$KSx#O$Hd#O#P$Kp#P#o$Hd#o#p%!r#p~$HdGk%&XZ&^7[&WW&R,X&ap&f#tOrIqrs)}swIqwx%&zx#OIq#O#PJs#P#oIq#o#p! T#p#qIq#q#rKX#r~IqGk%'ZX&U!f&^7[&WW&S,X&ap&f#tOr!!urs?ms#O!!u#O#P!#m#P#o!!u#o#pNc#p#q!!u#q#rMm#r~!!uG{%(ZZf,X&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}<u%)aZeR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{%*g_T,X&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsxz$}z{%+f{!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{%+y]_R&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{%-V]%g,X&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}<u%.cZxR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Mg%/i^%h,X&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`!a%0e!a#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}B^%0xZ&q&j&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{%2O_!dQ&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!O$}!O!P%2}!P!Q$}!Q![%5_![#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{%3`]&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!O$}!O!P%4X!P#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{%4lZ!m,X&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%5rg!f,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q![%5_![!g$}!g!h%7Z!h!l$}!l!m%;k!m#O$}#O#P!$R#P#R$}#R#S%5_#S#X$}#X#Y%7Z#Y#^$}#^#_%;k#_#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%7la&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx{$}{|%8q|}$}}!O%8q!O!Q$}!Q![%9{![#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%9S]&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q![%9{![#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%:`c!f,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q![%9{![!l$}!l!m%;k!m#O$}#O#P!$R#P#R$}#R#S%9{#S#^$}#^#_%;k#_#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%<OZ!f,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{%=U_%iR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!P$}!P!Q%>T!Q!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gz%>h]%kQ&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%?tu!f,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!O$}!O!P%BX!P!Q$}!Q![%Cc![!d$}!d!e%Ee!e!g$}!g!h%7Z!h!l$}!l!m%;k!m!q$}!q!r%H_!r!z$}!z!{%KR!{#O$}#O#P!$R#P#R$}#R#S%Cc#S#U$}#U#V%Ee#V#X$}#X#Y%7Z#Y#^$}#^#_%;k#_#c$}#c#d%H_#d#l$}#l#m%KR#m#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%Bj]&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q![%5_![#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%Cvi!f,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!O$}!O!P%BX!P!Q$}!Q![%Cc![!g$}!g!h%7Z!h!l$}!l!m%;k!m#O$}#O#P!$R#P#R$}#R#S%Cc#S#X$}#X#Y%7Z#Y#^$}#^#_%;k#_#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%Ev`&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q!R%Fx!R!S%Fx!S#O$}#O#P!$R#P#R$}#R#S%Fx#S#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%G]`!f,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q!R%Fx!R!S%Fx!S#O$}#O#P!$R#P#R$}#R#S%Fx#S#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%Hp_&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q!Y%Io!Y#O$}#O#P!$R#P#R$}#R#S%Io#S#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%JS_!f,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q!Y%Io!Y#O$}#O#P!$R#P#R$}#R#S%Io#S#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%Kdc&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q![%Lo![!c$}!c!i%Lo!i#O$}#O#P!$R#P#R$}#R#S%Lo#S#T$}#T#Z%Lo#Z#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%MSc!f,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q![%Lo![!c$}!c!i%Lo!i#O$}#O#P!$R#P#R$}#R#S%Lo#S#T$}#T#Z%Lo#Z#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Mg%Nr]y1s&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`& k!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}<u&!OZ%sR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{&#UZ#^,X&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{&$[_kR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!^$}!^!_&%Z!_!`!*Q!`!a!*Q!a#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gz&%n]%eQ&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{&&z]%r,X&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`!*Q!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{&(W^kR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`!*Q!`!a&)S!a#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gz&)g]%fQ&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{&*u]]Q#tP&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Mg&,Tc&^7[&TS&WW&Q&j&Z`&ap&d!b&f#t%m,XOr$}rs&Rsw$}wxHsx!Q$}!Q![&+n![!c$}!c!}&+n!}#O$}#O#P!$R#P#R$}#R#S&+n#S#T$}#T#o&+n#o#p!%i#p#q$}#q#r!$g#r$g$}$g~&+nMg&-ug&^7[&TS&WW&Q&j&Z`&ap&d!b&f#t%m,XOr$}rs&/^sw$}wx&2dx!Q$}!Q![&+n![!c$}!c!t&+n!t!u&5j!u!}&+n!}#O$}#O#P!$R#P#R$}#R#S&+n#S#T$}#T#f&+n#f#g&5j#g#o&+n#o#p!%i#p#q$}#q#r!$g#r$g$}$g~&+nGZ&/k_&^7[&TS&R,X&Z`&d!bOY!-lYZ'PZ]!-l]^'P^r!-lrs&0jsw!-lwx!/|x#O!-l#O#P!Cp#P#o!-l#o#p!F[#p#q!-l#q#r!DU#r~!-lGZ&0wZ&^7[&TS&R,X&Z`&d!bOr'Prs&1jsw'Pwx(Rx#O'P#O#PAe#P#o'P#o#pEu#p#q'P#q#rAy#r~'PD]&1wX&^7[&TS&V,X&Z`&d!bOwGgwx,kx#OGg#O#PH_#P#oGg#o#pET#p#qGg#q#rD_#r~GgGk&2q_&^7[&WW&R,X&ap&f#tOY$:YYZIqZ]$:Y]^Iq^r$:Yrs$;jsw$:Ywx&3px#O$:Y#O#P%!^#P#o$:Y#o#p%$x#p#q$:Y#q#r%!r#r~$:YGk&3}Z&^7[&WW&R,X&ap&f#tOrIqrs)}swIqwx&4px#OIq#O#PJs#P#oIq#o#p! T#p#qIq#q#rKX#r~IqFT&4}X&^7[&WW&S,X&ap&f#tOr!!urs?ms#O!!u#O#P!#m#P#o!!u#o#pNc#p#q!!u#q#rMm#r~!!uMg&6Pc&^7[&TS&WW&Q&j&Z`&ap&d!b&f#t%m,XOr$}rs&/^sw$}wx&2dx!Q$}!Q![&+n![!c$}!c!}&+n!}#O$}#O#P!$R#P#R$}#R#S&+n#S#T$}#T#o&+n#o#p!%i#p#q$}#q#r!$g#r$g$}$g~&+nMg&7qg&^7[&TS&WW&Q&j&Z`&ap&d!b&f#t%m,XOr$}rs&9Ysw$}wx&<Qx!Q$}!Q![&+n![!c$}!c!t&+n!t!u&>x!u!}&+n!}#O$}#O#P!$R#P#R$}#R#S&+n#S#T$}#T#f&+n#f#g&>x#g#o&+n#o#p!%i#p#q$}#q#r!$g#r$g$}$g~&+nGZ&9gZ&^7[&TS&Z`&d!b&`,XOr'Prs&:Ysw'Pwx(Rx#O'P#O#PAe#P#o'P#o#pEu#p#q'P#q#rAy#r~'PGZ&:eZ&^7[&TS&Z`&d!bOr'Prs&;Wsw'Pwx(Rx#O'P#O#PAe#P#o'P#o#pEu#p#q'P#q#rAy#r~'PD]&;eX&^7[&TS&e,X&Z`&d!bOwGgwx,kx#OGg#O#PH_#P#oGg#o#pET#p#qGg#q#rD_#r~GgGk&<_Z&^7[&WW&ap&f#t&Y,XOrIqrs)}swIqwx&=Qx#OIq#O#PJs#P#oIq#o#p! T#p#qIq#q#rKX#r~IqGk&=]Z&^7[&WW&ap&f#tOrIqrs)}swIqwx&>Ox#OIq#O#PJs#P#oIq#o#p! T#p#qIq#q#rKX#r~IqFT&>]X&^7[&WW&c,X&ap&f#tOr!!urs?ms#O!!u#O#P!#m#P#o!!u#o#pNc#p#q!!u#q#rMm#r~!!uMg&?_c&^7[&TS&WW&Q&j&Z`&ap&d!b&f#t%m,XOr$}rs&9Ysw$}wx&<Qx!Q$}!Q![&+n![!c$}!c!}&+n!}#O$}#O#P!$R#P#R$}#R#S&+n#S#T$}#T#o&+n#o#p!%i#p#q$}#q#r!$g#r$g$}$g~&+nMg&APk&^7[&TS&WW&Q&j&Z`&ap&d!b&f#t%m,XOr$}rs&/^sw$}wx&2dx!Q$}!Q![&+n![!c$}!c!h&+n!h!i&>x!i!t&+n!t!u&5j!u!}&+n!}#O$}#O#P!$R#P#R$}#R#S&+n#S#T$}#T#U&+n#U#V&5j#V#Y&+n#Y#Z&>x#Z#o&+n#o#p!%i#p#q$}#q#r!$g#r$g$}$g~&+nG{&CXZ!V,X&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}<u&D_Z!UR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gz&Ee]%cQ&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy&FgX&TS&WW!ZGmOr:{rs;isw:{wx<ox#O:{#O#P=u#P#o:{#o#p!$g#p~:{G{&Gg]%bR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}<u&HqX!Y7_&TS&WW&Z`&ap&d!b&f#tOr!$grsBssw!$gwxLRx#O!$g#O#P!%c#P#o!$g#o#p!%i#p~!$gGy&IqZ%l,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}",tokenizers:[legacyPrint,indentation,0,1,2,3,4,5,6,7,8,9,10,newlines],topRules:{Script:[0,3]},specialized:[{term:213,get:D=>spec_identifier[D]||-1}],tokenPrec:7282});function indentBody(D,Q){let q=D.lineIndent(Q.from),X=D.lineAt(D.pos,-1),B=X.from+X.text.length;return!/\S/.test(X.text)&&D.node.to<B+100&&!/\S/.test(D.state.sliceDoc(B,D.node.to))&&D.lineIndent(D.pos,-1)<=q||/^\s*(else:|elif |except |finally:)/.test(D.textAfter)&&D.lineIndent(D.pos,-1)>q?null:q+D.unit}const pythonLanguage=LRLanguage.define({parser:parser$1.configure({props:[indentNodeProp.add({Body:D=>{var Q;return(Q=indentBody(D,D.node))!==null&&Q!==void 0?Q:D.continue()},IfStatement:D=>/^\s*(else:|elif )/.test(D.textAfter)?D.baseIndent:D.continue(),TryStatement:D=>/^\s*(except |finally:)/.test(D.textAfter)?D.baseIndent:D.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":delimitedIndent({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":delimitedIndent({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":delimitedIndent({closing:"]"}),"String FormatString":()=>null,Script:D=>{if(D.pos+/\s*/.exec(D.textAfter)[0].length>=D.node.to){let Q=null;for(let q=D.node,X=q.to;q=q.lastChild,!(!q||q.to!=X);)q.type.name=="Body"&&(Q=q);if(Q){let q=indentBody(D,Q);if(q!=null)return q}}return D.continue()}}),foldNodeProp.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":foldInside,Body:(D,Q)=>({from:D.from+1,to:D.to-(D.to==Q.doc.length?0:1)})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/}});function python(){return new LanguageSupport(pythonLanguage)}const style=i$6`

.Wrapper {
  display: flex;
  flex-direction: column;
  align-items: top;
  justify-content: space-between;
  border-style: solid;
  border-width: 1px;
  border-radius: 5px;
  border-color: #ddd;
  background-color: #fafafa;
  margin-left: 50px;
  margin-right: 50px;
  padding: 10px;
  padding-left: 50px;
  padding-right: 50px;
}

.exerciseChoice {
  display: flex;
  flex-direction: row;
  justify-content: space-evenly;
  align-items: center;
}

.dropdown {
  width: 180px;
}

.red_back{
  background-color: red;
}

.editorFeature {
  display: flex;
  flex-direction: row;
  justify-content: space-evenly;
  align-items: center;
  padding-bottom: 10px;
}

.cm-editor {
  border-radius: 5px;
}
.cm-gutters {
  border-radius: 5px;
}


`,indentationMark=Decoration.mark({class:"cm-indentation-marker",tagName:"span"}),activeIndentationMark=Decoration.mark({class:"cm-indentation-marker active",tagName:"span"});class IndentationWidget extends WidgetType{constructor(Q,q,X){super(),this.numIndent=Q,this.indentSize=q,this.activeIndent=X}eq(Q){return this.numIndent===Q.numIndent&&this.indentSize===Q.indentSize&&this.activeIndent===Q.activeIndent}toDOM(Q){const q=getIndentUnit(Q.state),X=document.createElement("span");X.style.top="0",X.style.left="4px",X.style.position="absolute",X.style.pointerEvents="none";for(let B=0;B<this.numIndent;B++){const j=document.createElement("span");j.className="cm-indentation-marker",j.classList.toggle("active",B===this.activeIndent),j.innerHTML=" ".repeat(q),X.appendChild(j)}return X}}function getNumIndentMarkersForNonEmptyLine(D,Q,q){let X=0,B=0,j=null;for(let U=0;U<D.length;U++){if(D[U]!==" "&&D[U]!=="	")return B%Q===0&&U!==0&&X++,X;(j==="	"||B%Q===0)&&(X++,q&&q(U)),D[U]===" "?B++:B=0,j=D[U]}return X}function getNumIndentMarkersForEmptyLine(D,Q){const q=Math.min(D,Q),X=Math.max(D,Q);return q===0&&X>0?1:q===X&&q>0?q-1:q}function findNextNonEmptyLineAndIndentLevel(D,Q,q){const X=D.lines;let B=Q;for(;B<=X;){const{text:j}=D.line(B);if(j.trim().length===0){B++;continue}const U=getNumIndentMarkersForNonEmptyLine(j,q);return[B,U]}return[X+1,0]}function addIndentationMarkers(D){const Q=getIndentUnit(D.state),q=new Map,X=[];for(const{from:j,to:U}of D.visibleRanges){let Y=j,G=0,F=0,K=0;for(;Y<=U;){const J=D.state.doc.lineAt(Y),{text:ee}=J;if(ee.trim().length===0){if(K<J.number){const[ne,re]=findNextNonEmptyLineAndIndentLevel(D.state.doc,J.number+1,Q);K=ne,F=re}const te=getNumIndentMarkersForEmptyLine(G,F);q.set(J.number,te),X.push({from:Y,to:Y,lineNumber:J.number,create:ne=>Decoration.widget({widget:new IndentationWidget(te,Q,ne)})})}else{const te=[];G=getNumIndentMarkersForNonEmptyLine(ee,Q,ne=>te.push(ne)),q.set(J.number,te.length),X.push(...te.map((ne,re)=>({from:J.from+ne,to:J.from+ne+1,lineNumber:J.number,create:se=>se===re?activeIndentationMark:indentationMark})))}Y=J.to+1}}const B=getLinesWithActiveIndentMarker(D.state,q);return RangeSet.of(Array.from(X).map(({lineNumber:j,from:U,to:Y,create:G})=>{const F=j>=B.start&&j<=B.end?B.activeIndent-1:void 0;return{from:U,to:Y,value:G(F)}}),!0)}function getLinesWithActiveIndentMarker(D,Q){const q=D.doc.lineAt(D.selection.main.head);let X=Q.get(q.number),B=q.number;const j=Q.get(B+1);j&&X!=null&&j>X&&(X=j,B++);const U=Q.get(B-1);if(U&&X!=null&&U>X&&(X=U,B--),!X)return{start:-1,end:-1,activeIndent:NaN};let Y,G;for(Y=B;Y>=0;Y--){const F=Q.get(Y-1);if(!F||F<X)break}for(G=B;;G++){const F=Q.get(G+1);if(!F||F<X)break}return{start:Y,end:G,activeIndent:X}}function indentationMarkerViewPlugin(){return ViewPlugin.define(D=>({decorations:addIndentationMarkers(D),update(Q){(Q.docChanged||Q.viewportChanged||Q.selectionSet)&&(this.decorations=addIndentationMarkers(Q.view))}}),{decorations:D=>D.decorations})}const indentationMarkerBaseTheme=EditorView.baseTheme({".cm-line":{position:"relative"},".cm-indentation-marker":{display:"inline-block"},"&light .cm-indentation-marker":{background:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") left repeat-y'},"&light .cm-indentation-marker.active":{background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACAQMAAACjTyRkAAAABlBMVEX///+goKD0a5EfAAAADElEQVR4nGNgYGgAAACEAIHJde6SAAAAAElFTkSuQmCC) left repeat-y"},"&dark .cm-indentation-marker":{background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) left repeat-y"},"&dark .cm-indentation-marker.active":{background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACAQMAAACjTyRkAAAABlBMVEUAAACFhYWZv3sFAAAAAnRSTlMA/1uRIrUAAAAMSURBVHicY2BgaAAAAIQAgcl17pIAAAAASUVORK5CYII=) left repeat-y"}});function indentationMarkers(){return[indentationMarkerViewPlugin(),indentationMarkerBaseTheme]}const ivory="#abb2bf",stone="#7d8799",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),mySetup=(()=>[oneDarkTheme,indentationMarkers(),lineNumbers(),highlightActiveLineGutter(),highlightSpecialChars(),history(),foldGutter(),drawSelection(),dropCursor(),EditorState.allowMultipleSelections.of(!0),indentOnInput(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),bracketMatching(),closeBrackets(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),highlightSelectionMatches(),keymap.of([...closeBracketsKeymap,...defaultKeymap,...searchKeymap,...historyKeymap,...foldKeymap,...completionKeymap,...lintKeymap])])();var t$3=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,e$3=Symbol(),n$2=new Map,s$3=class{constructor(D,Q){if(this._$cssResult$=!0,Q!==e$3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=D}get styleSheet(){let D=n$2.get(this.cssText);return t$3&&D===void 0&&(n$2.set(this.cssText,D=new CSSStyleSheet),D.replaceSync(this.cssText)),D}toString(){return this.cssText}},o$3=D=>new s$3(typeof D=="string"?D:D+"",e$3),r$2=(D,...Q)=>{const q=D.length===1?D[0]:Q.reduce((X,B,j)=>X+(U=>{if(U._$cssResult$===!0)return U.cssText;if(typeof U=="number")return U;throw Error("Value passed to 'css' function must be a 'css' function result: "+U+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(B)+D[j+1],D[0]);return new s$3(q,e$3)},i$2=(D,Q)=>{t$3?D.adoptedStyleSheets=Q.map(q=>q instanceof CSSStyleSheet?q:q.styleSheet):Q.forEach(q=>{const X=document.createElement("style"),B=window.litNonce;B!==void 0&&X.setAttribute("nonce",B),X.textContent=q.cssText,D.appendChild(X)})},S$1=t$3?D=>D:D=>D instanceof CSSStyleSheet?(Q=>{let q="";for(const X of Q.cssRules)q+=X.cssText;return o$3(q)})(D):D,s2$1,e2$1=window.trustedTypes,r2$1=e2$1?e2$1.emptyScript:"",h$1=window.reactiveElementPolyfillSupport,o2$2={toAttribute(D,Q){switch(Q){case Boolean:D=D?r2$1:null;break;case Object:case Array:D=D==null?D:JSON.stringify(D)}return D},fromAttribute(D,Q){let q=D;switch(Q){case Boolean:q=D!==null;break;case Number:q=D===null?null:Number(D);break;case Object:case Array:try{q=JSON.parse(D)}catch{q=null}}return q}},n2$2=(D,Q)=>Q!==D&&(Q==Q||D==D),l$4={attribute:!0,type:String,converter:o2$2,reflect:!1,hasChanged:n2$2},a$2=class extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(D){var Q;(Q=this.l)!==null&&Q!==void 0||(this.l=[]),this.l.push(D)}static get observedAttributes(){this.finalize();const D=[];return this.elementProperties.forEach((Q,q)=>{const X=this._$Eh(q,Q);X!==void 0&&(this._$Eu.set(X,q),D.push(X))}),D}static createProperty(D,Q=l$4){if(Q.state&&(Q.attribute=!1),this.finalize(),this.elementProperties.set(D,Q),!Q.noAccessor&&!this.prototype.hasOwnProperty(D)){const q=typeof D=="symbol"?Symbol():"__"+D,X=this.getPropertyDescriptor(D,q,Q);X!==void 0&&Object.defineProperty(this.prototype,D,X)}}static getPropertyDescriptor(D,Q,q){return{get(){return this[Q]},set(X){const B=this[D];this[Q]=X,this.requestUpdate(D,B,q)},configurable:!0,enumerable:!0}}static getPropertyOptions(D){return this.elementProperties.get(D)||l$4}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const D=Object.getPrototypeOf(this);if(D.finalize(),this.elementProperties=new Map(D.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const Q=this.properties,q=[...Object.getOwnPropertyNames(Q),...Object.getOwnPropertySymbols(Q)];for(const X of q)this.createProperty(X,Q[X])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(D){const Q=[];if(Array.isArray(D)){const q=new Set(D.flat(1/0).reverse());for(const X of q)Q.unshift(S$1(X))}else D!==void 0&&Q.push(S$1(D));return Q}static _$Eh(D,Q){const q=Q.attribute;return q===!1?void 0:typeof q=="string"?q:typeof D=="string"?D.toLowerCase():void 0}o(){var D;this._$Ep=new Promise(Q=>this.enableUpdating=Q),this._$AL=new Map,this._$Em(),this.requestUpdate(),(D=this.constructor.l)===null||D===void 0||D.forEach(Q=>Q(this))}addController(D){var Q,q;((Q=this._$Eg)!==null&&Q!==void 0?Q:this._$Eg=[]).push(D),this.renderRoot!==void 0&&this.isConnected&&((q=D.hostConnected)===null||q===void 0||q.call(D))}removeController(D){var Q;(Q=this._$Eg)===null||Q===void 0||Q.splice(this._$Eg.indexOf(D)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach((D,Q)=>{this.hasOwnProperty(Q)&&(this._$Et.set(Q,this[Q]),delete this[Q])})}createRenderRoot(){var D;const Q=(D=this.shadowRoot)!==null&&D!==void 0?D:this.attachShadow(this.constructor.shadowRootOptions);return i$2(Q,this.constructor.elementStyles),Q}connectedCallback(){var D;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(D=this._$Eg)===null||D===void 0||D.forEach(Q=>{var q;return(q=Q.hostConnected)===null||q===void 0?void 0:q.call(Q)})}enableUpdating(D){}disconnectedCallback(){var D;(D=this._$Eg)===null||D===void 0||D.forEach(Q=>{var q;return(q=Q.hostDisconnected)===null||q===void 0?void 0:q.call(Q)})}attributeChangedCallback(D,Q,q){this._$AK(D,q)}_$ES(D,Q,q=l$4){var X,B;const j=this.constructor._$Eh(D,q);if(j!==void 0&&q.reflect===!0){const U=((B=(X=q.converter)===null||X===void 0?void 0:X.toAttribute)!==null&&B!==void 0?B:o2$2.toAttribute)(Q,q.type);this._$Ei=D,U==null?this.removeAttribute(j):this.setAttribute(j,U),this._$Ei=null}}_$AK(D,Q){var q,X,B;const j=this.constructor,U=j._$Eu.get(D);if(U!==void 0&&this._$Ei!==U){const Y=j.getPropertyOptions(U),G=Y.converter,F=(B=(X=(q=G)===null||q===void 0?void 0:q.fromAttribute)!==null&&X!==void 0?X:typeof G=="function"?G:null)!==null&&B!==void 0?B:o2$2.fromAttribute;this._$Ei=U,this[U]=F(Q,Y.type),this._$Ei=null}}requestUpdate(D,Q,q){let X=!0;D!==void 0&&(((q=q||this.constructor.getPropertyOptions(D)).hasChanged||n2$2)(this[D],Q)?(this._$AL.has(D)||this._$AL.set(D,Q),q.reflect===!0&&this._$Ei!==D&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(D,q))):X=!1),!this.isUpdatePending&&X&&(this._$Ep=this._$E_())}async _$E_(){this.isUpdatePending=!0;try{await this._$Ep}catch(Q){Promise.reject(Q)}const D=this.scheduleUpdate();return D!=null&&await D,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var D;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach((X,B)=>this[B]=X),this._$Et=void 0);let Q=!1;const q=this._$AL;try{Q=this.shouldUpdate(q),Q?(this.willUpdate(q),(D=this._$Eg)===null||D===void 0||D.forEach(X=>{var B;return(B=X.hostUpdate)===null||B===void 0?void 0:B.call(X)}),this.update(q)):this._$EU()}catch(X){throw Q=!1,this._$EU(),X}Q&&this._$AE(q)}willUpdate(D){}_$AE(D){var Q;(Q=this._$Eg)===null||Q===void 0||Q.forEach(q=>{var X;return(X=q.hostUpdated)===null||X===void 0?void 0:X.call(q)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(D)),this.updated(D)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(D){return!0}update(D){this._$EC!==void 0&&(this._$EC.forEach((Q,q)=>this._$ES(q,this[q],Q)),this._$EC=void 0),this._$EU()}updated(D){}firstUpdated(D){}};a$2.finalized=!0,a$2.elementProperties=new Map,a$2.elementStyles=[],a$2.shadowRootOptions={mode:"open"},h$1==null||h$1({ReactiveElement:a$2}),((s2$1=globalThis.reactiveElementVersions)!==null&&s2$1!==void 0?s2$1:globalThis.reactiveElementVersions=[]).push("1.3.2");var t2,i2$2=globalThis.trustedTypes,s3=i2$2?i2$2.createPolicy("lit-html",{createHTML:D=>D}):void 0,e3$1=`lit$${(Math.random()+"").slice(9)}$`,o3$1="?"+e3$1,n3$1=`<${o3$1}>`,l2$1=document,h2$1=(D="")=>l2$1.createComment(D),r3=D=>D===null||typeof D!="object"&&typeof D!="function",d$1=Array.isArray,u$1=D=>{var Q;return d$1(D)||typeof((Q=D)===null||Q===void 0?void 0:Q[Symbol.iterator])=="function"},c$1=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,a2$1=/>/g,f$2=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,_=/'/g,m$1=/"/g,g$1=/^(?:script|style|textarea|title)$/i,p$1=D=>(Q,...q)=>({_$litType$:D,strings:Q,values:q}),$=p$1(1),b$1=Symbol.for("lit-noChange"),w=Symbol.for("lit-nothing"),T$1=new WeakMap,x$1=(D,Q,q)=>{var X,B;const j=(X=q==null?void 0:q.renderBefore)!==null&&X!==void 0?X:Q;let U=j._$litPart$;if(U===void 0){const Y=(B=q==null?void 0:q.renderBefore)!==null&&B!==void 0?B:null;j._$litPart$=U=new N$1(Q.insertBefore(h2$1(),Y),Y,void 0,q!=null?q:{})}return U._$AI(D),U},A=l2$1.createTreeWalker(l2$1,129,null,!1),C$1=(D,Q)=>{const q=D.length-1,X=[];let B,j=Q===2?"<svg>":"",U=c$1;for(let G=0;G<q;G++){const F=D[G];let K,J,ee=-1,te=0;for(;te<F.length&&(U.lastIndex=te,J=U.exec(F),J!==null);)te=U.lastIndex,U===c$1?J[1]==="!--"?U=v:J[1]!==void 0?U=a2$1:J[2]!==void 0?(g$1.test(J[2])&&(B=RegExp("</"+J[2],"g")),U=f$2):J[3]!==void 0&&(U=f$2):U===f$2?J[0]===">"?(U=B!=null?B:c$1,ee=-1):J[1]===void 0?ee=-2:(ee=U.lastIndex-J[2].length,K=J[1],U=J[3]===void 0?f$2:J[3]==='"'?m$1:_):U===m$1||U===_?U=f$2:U===v||U===a2$1?U=c$1:(U=f$2,B=void 0);const ne=U===f$2&&D[G+1].startsWith("/>")?" ":"";j+=U===c$1?F+n3$1:ee>=0?(X.push(K),F.slice(0,ee)+"$lit$"+F.slice(ee)+e3$1+ne):F+e3$1+(ee===-2?(X.push(void 0),G):ne)}const Y=j+(D[q]||"<?>")+(Q===2?"</svg>":"");if(!Array.isArray(D)||!D.hasOwnProperty("raw"))throw Error("invalid template strings array");return[s3!==void 0?s3.createHTML(Y):Y,X]},E=class{constructor({strings:D,_$litType$:Q},q){let X;this.parts=[];let B=0,j=0;const U=D.length-1,Y=this.parts,[G,F]=C$1(D,Q);if(this.el=E.createElement(G,q),A.currentNode=this.el.content,Q===2){const K=this.el.content,J=K.firstChild;J.remove(),K.append(...J.childNodes)}for(;(X=A.nextNode())!==null&&Y.length<U;){if(X.nodeType===1){if(X.hasAttributes()){const K=[];for(const J of X.getAttributeNames())if(J.endsWith("$lit$")||J.startsWith(e3$1)){const ee=F[j++];if(K.push(J),ee!==void 0){const te=X.getAttribute(ee.toLowerCase()+"$lit$").split(e3$1),ne=/([.?@])?(.*)/.exec(ee);Y.push({type:1,index:B,name:ne[2],strings:te,ctor:ne[1]==="."?M:ne[1]==="?"?H$1:ne[1]==="@"?I:S2})}else Y.push({type:6,index:B})}for(const J of K)X.removeAttribute(J)}if(g$1.test(X.tagName)){const K=X.textContent.split(e3$1),J=K.length-1;if(J>0){X.textContent=i2$2?i2$2.emptyScript:"";for(let ee=0;ee<J;ee++)X.append(K[ee],h2$1()),A.nextNode(),Y.push({type:2,index:++B});X.append(K[J],h2$1())}}}else if(X.nodeType===8)if(X.data===o3$1)Y.push({type:2,index:B});else{let K=-1;for(;(K=X.data.indexOf(e3$1,K+1))!==-1;)Y.push({type:7,index:B}),K+=e3$1.length-1}B++}}static createElement(D,Q){const q=l2$1.createElement("template");return q.innerHTML=D,q}};function P(D,Q,q=D,X){var B,j,U,Y;if(Q===b$1)return Q;let G=X!==void 0?(B=q._$Cl)===null||B===void 0?void 0:B[X]:q._$Cu;const F=r3(Q)?void 0:Q._$litDirective$;return(G==null?void 0:G.constructor)!==F&&((j=G==null?void 0:G._$AO)===null||j===void 0||j.call(G,!1),F===void 0?G=void 0:(G=new F(D),G._$AT(D,q,X)),X!==void 0?((U=(Y=q)._$Cl)!==null&&U!==void 0?U:Y._$Cl=[])[X]=G:q._$Cu=G),G!==void 0&&(Q=P(D,G._$AS(D,Q.values),G,X)),Q}var V=class{constructor(D,Q){this.v=[],this._$AN=void 0,this._$AD=D,this._$AM=Q}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(D){var Q;const{el:{content:q},parts:X}=this._$AD,B=((Q=D==null?void 0:D.creationScope)!==null&&Q!==void 0?Q:l2$1).importNode(q,!0);A.currentNode=B;let j=A.nextNode(),U=0,Y=0,G=X[0];for(;G!==void 0;){if(U===G.index){let F;G.type===2?F=new N$1(j,j.nextSibling,this,D):G.type===1?F=new G.ctor(j,G.name,G.strings,this,D):G.type===6&&(F=new L$1(j,this,D)),this.v.push(F),G=X[++Y]}U!==(G==null?void 0:G.index)&&(j=A.nextNode(),U++)}return B}m(D){let Q=0;for(const q of this.v)q!==void 0&&(q.strings!==void 0?(q._$AI(D,q,Q),Q+=q.strings.length-2):q._$AI(D[Q])),Q++}},N$1=class{constructor(D,Q,q,X){var B;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=D,this._$AB=Q,this._$AM=q,this.options=X,this._$Cg=(B=X==null?void 0:X.isConnected)===null||B===void 0||B}get _$AU(){var D,Q;return(Q=(D=this._$AM)===null||D===void 0?void 0:D._$AU)!==null&&Q!==void 0?Q:this._$Cg}get parentNode(){let D=this._$AA.parentNode;const Q=this._$AM;return Q!==void 0&&D.nodeType===11&&(D=Q.parentNode),D}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(D,Q=this){D=P(this,D,Q),r3(D)?D===w||D==null||D===""?(this._$AH!==w&&this._$AR(),this._$AH=w):D!==this._$AH&&D!==b$1&&this.$(D):D._$litType$!==void 0?this.T(D):D.nodeType!==void 0?this.k(D):u$1(D)?this.S(D):this.$(D)}M(D,Q=this._$AB){return this._$AA.parentNode.insertBefore(D,Q)}k(D){this._$AH!==D&&(this._$AR(),this._$AH=this.M(D))}$(D){this._$AH!==w&&r3(this._$AH)?this._$AA.nextSibling.data=D:this.k(l2$1.createTextNode(D)),this._$AH=D}T(D){var Q;const{values:q,_$litType$:X}=D,B=typeof X=="number"?this._$AC(D):(X.el===void 0&&(X.el=E.createElement(X.h,this.options)),X);if(((Q=this._$AH)===null||Q===void 0?void 0:Q._$AD)===B)this._$AH.m(q);else{const j=new V(B,this),U=j.p(this.options);j.m(q),this.k(U),this._$AH=j}}_$AC(D){let Q=T$1.get(D.strings);return Q===void 0&&T$1.set(D.strings,Q=new E(D)),Q}S(D){d$1(this._$AH)||(this._$AH=[],this._$AR());const Q=this._$AH;let q,X=0;for(const B of D)X===Q.length?Q.push(q=new N$1(this.M(h2$1()),this.M(h2$1()),this,this.options)):q=Q[X],q._$AI(B),X++;X<Q.length&&(this._$AR(q&&q._$AB.nextSibling,X),Q.length=X)}_$AR(D=this._$AA.nextSibling,Q){var q;for((q=this._$AP)===null||q===void 0||q.call(this,!1,!0,Q);D&&D!==this._$AB;){const X=D.nextSibling;D.remove(),D=X}}setConnected(D){var Q;this._$AM===void 0&&(this._$Cg=D,(Q=this._$AP)===null||Q===void 0||Q.call(this,D))}},S2=class{constructor(D,Q,q,X,B){this.type=1,this._$AH=w,this._$AN=void 0,this.element=D,this.name=Q,this._$AM=X,this.options=B,q.length>2||q[0]!==""||q[1]!==""?(this._$AH=Array(q.length-1).fill(new String),this.strings=q):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(D,Q=this,q,X){const B=this.strings;let j=!1;if(B===void 0)D=P(this,D,Q,0),j=!r3(D)||D!==this._$AH&&D!==b$1,j&&(this._$AH=D);else{const U=D;let Y,G;for(D=B[0],Y=0;Y<B.length-1;Y++)G=P(this,U[q+Y],Q,Y),G===b$1&&(G=this._$AH[Y]),j||(j=!r3(G)||G!==this._$AH[Y]),G===w?D=w:D!==w&&(D+=(G!=null?G:"")+B[Y+1]),this._$AH[Y]=G}j&&!X&&this.C(D)}C(D){D===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,D!=null?D:"")}},M=class extends S2{constructor(){super(...arguments),this.type=3}C(D){this.element[this.name]=D===w?void 0:D}},k$1=i2$2?i2$2.emptyScript:"",H$1=class extends S2{constructor(){super(...arguments),this.type=4}C(D){D&&D!==w?this.element.setAttribute(this.name,k$1):this.element.removeAttribute(this.name)}},I=class extends S2{constructor(D,Q,q,X,B){super(D,Q,q,X,B),this.type=5}_$AI(D,Q=this){var q;if((D=(q=P(this,D,Q,0))!==null&&q!==void 0?q:w)===b$1)return;const X=this._$AH,B=D===w&&X!==w||D.capture!==X.capture||D.once!==X.once||D.passive!==X.passive,j=D!==w&&(X===w||B);B&&this.element.removeEventListener(this.name,this,X),j&&this.element.addEventListener(this.name,this,D),this._$AH=D}handleEvent(D){var Q,q;typeof this._$AH=="function"?this._$AH.call((q=(Q=this.options)===null||Q===void 0?void 0:Q.host)!==null&&q!==void 0?q:this.element,D):this._$AH.handleEvent(D)}},L$1=class{constructor(D,Q,q){this.element=D,this.type=6,this._$AN=void 0,this._$AM=Q,this.options=q}get _$AU(){return this._$AM._$AU}_$AI(D){P(this,D)}},z$1=window.litHtmlPolyfillSupport;z$1==null||z$1(E,N$1),((t2=globalThis.litHtmlVersions)!==null&&t2!==void 0?t2:globalThis.litHtmlVersions=[]).push("2.2.4");var l3,o4,s4=class extends a$2{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var D,Q;const q=super.createRenderRoot();return(D=(Q=this.renderOptions).renderBefore)!==null&&D!==void 0||(Q.renderBefore=q.firstChild),q}update(D){const Q=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(D),this._$Dt=x$1(Q,this.renderRoot,this.renderOptions)}connectedCallback(){var D;super.connectedCallback(),(D=this._$Dt)===null||D===void 0||D.setConnected(!0)}disconnectedCallback(){var D;super.disconnectedCallback(),(D=this._$Dt)===null||D===void 0||D.setConnected(!1)}render(){return b$1}};s4.finalized=!0,s4._$litElement$=!0,(l3=globalThis.litElementHydrateSupport)===null||l3===void 0||l3.call(globalThis,{LitElement:s4});var n4=globalThis.litElementPolyfillSupport;n4==null||n4({LitElement:s4});((o4=globalThis.litElementVersions)!==null&&o4!==void 0?o4:globalThis.litElementVersions=[]).push("3.2.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var form_control_styles_default=r$2`
  .form-control .form-control__label {
    display: none;
  }

  .form-control .form-control__help-text {
    display: none;
  }

  /* Label */
  .form-control--has-label .form-control__label {
    display: inline-block;
    color: var(--sl-input-label-color);
    margin-bottom: var(--sl-spacing-3x-small);
  }

  .form-control--has-label.form-control--small .form-control__label {
    font-size: var(--sl-input-label-font-size-small);
  }

  .form-control--has-label.form-control--medium .form-control__label {
    font-size: var(--sl-input-label-font-size-medium);
  }

  .form-control--has-label.form-control--large .form-control_label {
    font-size: var(--sl-input-label-font-size-large);
  }

  :host([required]) .form-control--has-label .form-control__label::after {
    content: var(--sl-input-required-content);
    margin-inline-start: var(--sl-input-required-content-offset);
  }

  /* Help text */
  .form-control--has-help-text .form-control__help-text {
    display: block;
    color: var(--sl-input-help-text-color);
  }

  .form-control--has-help-text .form-control__help-text ::slotted(*) {
    margin-top: var(--sl-spacing-3x-small);
  }

  .form-control--has-help-text.form-control--small .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-small);
  }

  .form-control--has-help-text.form-control--medium .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-medium);
  }

  .form-control--has-help-text.form-control--large .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-large);
  }
`,component_styles_default=r$2`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,input_styles_default=r$2`
  ${component_styles_default}
  ${form_control_styles_default}

  :host {
    display: block;
  }

  .input {
    flex: 1 1 auto;
    display: inline-flex;
    align-items: stretch;
    justify-content: start;
    position: relative;
    width: 100%;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    letter-spacing: var(--sl-input-letter-spacing);
    vertical-align: middle;
    overflow: hidden;
    cursor: text;
    transition: var(--sl-transition-fast) color, var(--sl-transition-fast) border, var(--sl-transition-fast) box-shadow,
      var(--sl-transition-fast) background-color;
  }

  /* Standard inputs */
  .input--standard {
    background-color: var(--sl-input-background-color);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
  }

  .input--standard:hover:not(.input--disabled) {
    background-color: var(--sl-input-background-color-hover);
    border-color: var(--sl-input-border-color-hover);
  }

  .input--standard.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-background-color-focus);
    border-color: var(--sl-input-border-color-focus);
    box-shadow: 0 0 0 var(--sl-focus-ring-width) var(--sl-input-focus-ring-color);
  }

  .input--standard.input--focused:not(.input--disabled) .input__control {
    color: var(--sl-input-color-focus);
  }

  .input--standard.input--disabled {
    background-color: var(--sl-input-background-color-disabled);
    border-color: var(--sl-input-border-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input--standard.input--disabled .input__control {
    color: var(--sl-input-color-disabled);
  }

  .input--standard.input--disabled .input__control::placeholder {
    color: var(--sl-input-placeholder-color-disabled);
  }

  /* Filled inputs */
  .input--filled {
    border: none;
    background-color: var(--sl-input-filled-background-color);
    color: var(--sl-input-color);
  }

  .input--filled:hover:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-hover);
  }

  .input--filled.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-focus);
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .input--filled.input--disabled {
    background-color: var(--sl-input-filled-background-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input__control {
    flex: 1 1 auto;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    min-width: 0;
    height: 100%;
    color: var(--sl-input-color);
    border: none;
    background: none;
    box-shadow: none;
    padding: 0;
    margin: 0;
    cursor: inherit;
    -webkit-appearance: none;
  }

  .input__control::-webkit-search-decoration,
  .input__control::-webkit-search-cancel-button,
  .input__control::-webkit-search-results-button,
  .input__control::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  .input__control:-webkit-autofill,
  .input__control:-webkit-autofill:hover,
  .input__control:-webkit-autofill:focus,
  .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-background-color-hover) inset !important;
    -webkit-text-fill-color: var(--sl-color-primary-500);
    caret-color: var(--sl-input-color);
  }

  .input--filled .input__control:-webkit-autofill,
  .input--filled .input__control:-webkit-autofill:hover,
  .input--filled .input__control:-webkit-autofill:focus,
  .input--filled .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-filled-background-color) inset !important;
  }

  .input__control::placeholder {
    color: var(--sl-input-placeholder-color);
    user-select: none;
  }

  .input:hover:not(.input--disabled) .input__control {
    color: var(--sl-input-color-hover);
  }

  .input__control:focus {
    outline: none;
  }

  .input__prefix,
  .input__suffix {
    display: inline-flex;
    flex: 0 0 auto;
    align-items: center;
    cursor: default;
  }

  .input__prefix ::slotted(sl-icon),
  .input__suffix ::slotted(sl-icon) {
    color: var(--sl-input-icon-color);
  }

  /*
   * Size modifiers
   */

  .input--small {
    border-radius: var(--sl-input-border-radius-small);
    font-size: var(--sl-input-font-size-small);
    height: var(--sl-input-height-small);
  }

  .input--small .input__control {
    height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-small);
  }

  .input--small .input__clear,
  .input--small .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-small) * 2);
  }

  .input--small .input__prefix ::slotted(*) {
    padding-inline-start: var(--sl-input-spacing-small);
  }

  .input--small .input__suffix ::slotted(*) {
    padding-inline-end: var(--sl-input-spacing-small);
  }

  .input--medium {
    border-radius: var(--sl-input-border-radius-medium);
    font-size: var(--sl-input-font-size-medium);
    height: var(--sl-input-height-medium);
  }

  .input--medium .input__control {
    height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-medium);
  }

  .input--medium .input__clear,
  .input--medium .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-medium) * 2);
  }

  .input--medium .input__prefix ::slotted(*) {
    padding-inline-start: var(--sl-input-spacing-medium);
  }

  .input--medium .input__suffix ::slotted(*) {
    padding-inline-end: var(--sl-input-spacing-medium);
  }

  .input--large {
    border-radius: var(--sl-input-border-radius-large);
    font-size: var(--sl-input-font-size-large);
    height: var(--sl-input-height-large);
  }

  .input--large .input__control {
    height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-large);
  }

  .input--large .input__clear,
  .input--large .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-large) * 2);
  }

  .input--large .input__prefix ::slotted(*) {
    padding-inline-start: var(--sl-input-spacing-large);
  }

  .input--large .input__suffix ::slotted(*) {
    padding-inline-end: var(--sl-input-spacing-large);
  }

  /*
   * Pill modifier
   */

  .input--pill.input--small {
    border-radius: var(--sl-input-height-small);
  }

  .input--pill.input--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .input--pill.input--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Clearable + Password Toggle
   */

  .input__clear,
  .input__password-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: inherit;
    color: var(--sl-input-icon-color);
    border: none;
    background: none;
    padding: 0;
    transition: var(--sl-transition-fast) color;
    cursor: pointer;
  }

  .input__clear:hover,
  .input__password-toggle:hover {
    color: var(--sl-input-icon-color-hover);
  }

  .input__clear:focus,
  .input__password-toggle:focus {
    outline: none;
  }

  .input--empty .input__clear {
    visibility: hidden;
  }

  /* Don't show the browser's password toggle in Edge */
  ::-ms-reveal {
    display: none;
  }

  /* Hide Firefox's clear button on date and time inputs */
  .input--is-firefox input[type='date'],
  .input--is-firefox input[type='time'] {
    clip-path: inset(0 2em 0 0);
  }

  /* Hide the built-in number spinner */
  .input--no-spin-buttons input[type='number']::-webkit-outer-spin-button,
  .input--no-spin-buttons input[type='number']::-webkit-inner-spin-button {
    -webkit-appearance: none;
    display: none;
  }

  .input--no-spin-buttons input[type='number'] {
    -moz-appearance: textfield;
  }
`,t$2={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e$2=D=>(...Q)=>({_$litDirective$:D,values:Q}),i$1=class{constructor(D){}get _$AU(){return this._$AM._$AU}_$AT(D,Q,q){this._$Ct=D,this._$AM=Q,this._$Ci=q}_$AS(D,Q){return this.update(D,Q)}update(D,Q){return this.render(...Q)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var r$1=D=>D.strings===void 0,f$1={},s$2=(D,Q=f$1)=>D._$AH=Q,l$3=e$2(class extends i$1{constructor(D){if(super(D),D.type!==t$2.PROPERTY&&D.type!==t$2.ATTRIBUTE&&D.type!==t$2.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!r$1(D))throw Error("`live` bindings can only contain a single expression")}render(D){return D}update(D,[Q]){if(Q===b$1||Q===w)return Q;const q=D.element,X=D.name;if(D.type===t$2.PROPERTY){if(Q===q[X])return b$1}else if(D.type===t$2.BOOLEAN_ATTRIBUTE){if(!!Q===q.hasAttribute(X))return b$1}else if(D.type===t$2.ATTRIBUTE&&q.getAttribute(X)===Q+"")return b$1;return s$2(D),Q}});/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var defaultValue=(D="value")=>(Q,q)=>{const X=Q.constructor,B=X.prototype.attributeChangedCallback;X.prototype.attributeChangedCallback=function(j,U,Y){var G;const F=X.getPropertyOptions(D),K=typeof F.attribute=="string"?F.attribute:D;if(j===K){const J=F.converter||o2$2,te=(typeof J=="function"?J:(G=J==null?void 0:J.fromAttribute)!=null?G:o2$2.fromAttribute)(Y,F.type);this[D]!==te&&(this[q]=te)}B.call(this,j,U,Y)}},__defProp$1=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(D,Q,q)=>Q in D?__defProp$1(D,Q,{enumerable:!0,configurable:!0,writable:!0,value:q}):D[Q]=q,__spreadValues=(D,Q)=>{for(var q in Q||(Q={}))__hasOwnProp.call(Q,q)&&__defNormalProp(D,q,Q[q]);if(__getOwnPropSymbols)for(var q of __getOwnPropSymbols(Q))__propIsEnum.call(Q,q)&&__defNormalProp(D,q,Q[q]);return D},__spreadProps=(D,Q)=>__defProps(D,__getOwnPropDescs(Q)),__objRest=(D,Q)=>{var q={};for(var X in D)__hasOwnProp.call(D,X)&&Q.indexOf(X)<0&&(q[X]=D[X]);if(D!=null&&__getOwnPropSymbols)for(var X of __getOwnPropSymbols(D))Q.indexOf(X)<0&&__propIsEnum.call(D,X)&&(q[X]=D[X]);return q},__decorateClass$1=(D,Q,q,X)=>{for(var B=X>1?void 0:X?__getOwnPropDesc$1(Q,q):Q,j=D.length-1,U;j>=0;j--)(U=D[j])&&(B=(X?U(Q,q,B):U(B))||B);return X&&B&&__defProp$1(Q,q,B),B},FormDataEventPolyfill=class extends Event{constructor(D){super("formdata"),this.formData=D}},FormDataPolyfill=class extends FormData{constructor(D){var Q=(...q)=>{super(...q)};D?(Q(D),this.form=D,D.dispatchEvent(new FormDataEventPolyfill(this))):Q()}append(D,Q){if(!this.form)return super.append(D,Q);let q=this.form.elements[D];if(q||(q=document.createElement("input"),q.type="hidden",q.name=D,this.form.appendChild(q)),this.has(D)){const X=this.getAll(D),B=X.indexOf(q.value);B!==-1&&X.splice(B,1),X.push(Q),this.set(D,X)}else super.append(D,Q);q.value=Q}};function supportsFormDataEvent(){const D=document.createElement("form");let Q=!1;return document.body.append(D),D.addEventListener("submit",q=>{new FormData(q.target),q.preventDefault()}),D.addEventListener("formdata",()=>Q=!0),D.dispatchEvent(new Event("submit",{cancelable:!0})),D.remove(),Q}function polyfillFormData(){!window.FormData||supportsFormDataEvent()||(window.FormData=FormDataPolyfill,window.addEventListener("submit",D=>{D.defaultPrevented||new FormData(D.target)}))}document.readyState==="complete"?polyfillFormData():window.addEventListener("DOMContentLoaded",()=>polyfillFormData());var reportValidityOverloads=new WeakMap,FormSubmitController=class{constructor(D,Q){(this.host=D).addController(this),this.options=__spreadValues({form:q=>q.closest("form"),name:q=>q.name,value:q=>q.value,defaultValue:q=>q.defaultValue,disabled:q=>q.disabled,reportValidity:q=>typeof q.reportValidity=="function"?q.reportValidity():!0,setValue:(q,X)=>{q.value=X}},Q),this.handleFormData=this.handleFormData.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleFormReset=this.handleFormReset.bind(this),this.reportFormValidity=this.reportFormValidity.bind(this)}hostConnected(){this.form=this.options.form(this.host),this.form&&(this.form.addEventListener("formdata",this.handleFormData),this.form.addEventListener("submit",this.handleFormSubmit),this.form.addEventListener("reset",this.handleFormReset),reportValidityOverloads.has(this.form)||(reportValidityOverloads.set(this.form,this.form.reportValidity),this.form.reportValidity=()=>this.reportFormValidity()))}hostDisconnected(){this.form&&(this.form.removeEventListener("formdata",this.handleFormData),this.form.removeEventListener("submit",this.handleFormSubmit),this.form.removeEventListener("reset",this.handleFormReset),reportValidityOverloads.has(this.form)&&(this.form.reportValidity=reportValidityOverloads.get(this.form),reportValidityOverloads.delete(this.form)),this.form=void 0)}handleFormData(D){const Q=this.options.disabled(this.host),q=this.options.name(this.host),X=this.options.value(this.host);!Q&&typeof q=="string"&&typeof X<"u"&&(Array.isArray(X)?X.forEach(B=>{D.formData.append(q,B.toString())}):D.formData.append(q,X.toString()))}handleFormSubmit(D){const Q=this.options.disabled(this.host),q=this.options.reportValidity;this.form&&!this.form.noValidate&&!Q&&!q(this.host)&&(D.preventDefault(),D.stopImmediatePropagation())}handleFormReset(){this.options.setValue(this.host,this.options.defaultValue(this.host))}reportFormValidity(){if(this.form&&!this.form.noValidate){const D=this.form.querySelectorAll("*");for(const Q of D)if(typeof Q.reportValidity=="function"&&!Q.reportValidity())return!1}return!0}doAction(D,Q){if(this.form){const q=document.createElement("button");q.type=D,q.style.position="absolute",q.style.width="0",q.style.height="0",q.style.clipPath="inset(50%)",q.style.overflow="hidden",q.style.whiteSpace="nowrap",Q&&["formaction","formmethod","formnovalidate","formtarget"].forEach(X=>{Q.hasAttribute(X)&&q.setAttribute(X,Q.getAttribute(X))}),this.form.append(q),q.click(),q.remove()}}reset(D){this.doAction("reset",D)}submit(D){this.doAction("submit",D)}},connectedElements=new Set,documentElementObserver=new MutationObserver(update),translations=new Map,documentDirection=document.documentElement.dir||"ltr",documentLanguage=document.documentElement.lang||navigator.language,fallback;documentElementObserver.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function registerTranslation(...D){D.map(Q=>{const q=Q.$code.toLowerCase();translations.has(q)?translations.set(q,Object.assign(Object.assign({},translations.get(q)),Q)):translations.set(q,Q),fallback||(fallback=Q)}),update()}function update(){documentDirection=document.documentElement.dir||"ltr",documentLanguage=document.documentElement.lang||navigator.language,[...connectedElements.keys()].map(D=>{typeof D.requestUpdate=="function"&&D.requestUpdate()})}var LocalizeController=class{constructor(D){this.host=D,this.host.addController(this)}hostConnected(){connectedElements.add(this.host)}hostDisconnected(){connectedElements.delete(this.host)}dir(){return`${this.host.dir||documentDirection}`.toLowerCase()}lang(){return`${this.host.lang||documentLanguage}`.toLowerCase()}term(D,...Q){const q=this.lang().toLowerCase().slice(0,2),X=this.lang().length>2?this.lang().toLowerCase():"",B=translations.get(X),j=translations.get(q);let U;if(B&&B[D])U=B[D];else if(j&&j[D])U=j[D];else if(fallback&&fallback[D])U=fallback[D];else return console.error(`No translation found for: ${String(D)}`),D;return typeof U=="function"?U(...Q):U}date(D,Q){return D=new Date(D),new Intl.DateTimeFormat(this.lang(),Q).format(D)}number(D,Q){return D=Number(D),isNaN(D)?"":new Intl.NumberFormat(this.lang(),Q).format(D)}relativeTime(D,Q,q){return new Intl.RelativeTimeFormat(this.lang(),q).format(D,Q)}},LocalizeController2=class extends LocalizeController{},translation={$code:"en",$name:"English",$dir:"ltr",clearEntry:"Clear entry",close:"Close",copy:"Copy",currentValue:"Current value",hidePassword:"Hide password",loading:"Loading",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",toggleColorFormat:"Toggle color format"};registerTranslation(translation);var HasSlotController=class{constructor(D,...Q){this.slotNames=[],(this.host=D).addController(this),this.slotNames=Q,this.handleSlotChange=this.handleSlotChange.bind(this)}hasDefaultSlot(){return[...this.host.childNodes].some(D=>{if(D.nodeType===D.TEXT_NODE&&D.textContent.trim()!=="")return!0;if(D.nodeType===D.ELEMENT_NODE){const Q=D;if(Q.tagName.toLowerCase()==="sl-visually-hidden")return!1;if(!Q.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(D){return this.host.querySelector(`:scope > [slot="${D}"]`)!==null}test(D){return D==="[default]"?this.hasDefaultSlot():this.hasNamedSlot(D)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}handleSlotChange(D){const Q=D.target;(this.slotNames.includes("[default]")&&!Q.name||Q.name&&this.slotNames.includes(Q.name))&&this.host.requestUpdate()}};function getTextContent(D){if(!D)return"";const Q=D.assignedNodes({flatten:!0});let q="";return[...Q].forEach(X=>{X.nodeType===Node.TEXT_NODE&&(q+=X.textContent)}),q}var o$2=e$2(class extends i$1{constructor(D){var Q;if(super(D),D.type!==t$2.ATTRIBUTE||D.name!=="class"||((Q=D.strings)===null||Q===void 0?void 0:Q.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(D){return" "+Object.keys(D).filter(Q=>D[Q]).join(" ")+" "}update(D,[Q]){var q,X;if(this.et===void 0){this.et=new Set,D.strings!==void 0&&(this.st=new Set(D.strings.join(" ").split(/\s/).filter(j=>j!=="")));for(const j in Q)Q[j]&&!(!((q=this.st)===null||q===void 0)&&q.has(j))&&this.et.add(j);return this.render(Q)}const B=D.element.classList;this.et.forEach(j=>{j in Q||(B.remove(j),this.et.delete(j))});for(const j in Q){const U=!!Q[j];U===this.et.has(j)||((X=this.st)===null||X===void 0?void 0:X.has(j))||(U?(B.add(j),this.et.add(j)):(B.remove(j),this.et.delete(j)))}return b$1}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function watch(D,Q){const q=__spreadValues({waitUntilFirstUpdate:!1},Q);return(X,B)=>{const{update:j}=X;if(D in X){const U=D;X.update=function(Y){if(Y.has(U)){const G=Y.get(U),F=this[U];G!==F&&(!q.waitUntilFirstUpdate||this.hasUpdated)&&this[B](G,F)}j.call(this,Y)}}}}var l$2=D=>D!=null?D:w;/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var n$1=D=>Q=>typeof Q=="function"?((q,X)=>(window.customElements.define(q,X),X))(D,Q):((q,X)=>{const{kind:B,elements:j}=X;return{kind:B,elements:j,finisher(U){window.customElements.define(q,U)}}})(D,Q),i=(D,Q)=>Q.kind==="method"&&Q.descriptor&&!("value"in Q.descriptor)?__spreadProps(__spreadValues({},Q),{finisher(q){q.createProperty(Q.key,D)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:Q.key,initializer(){typeof Q.initializer=="function"&&(this[Q.key]=Q.initializer.call(this))},finisher(q){q.createProperty(Q.key,D)}};function e$1(D){return(Q,q)=>q!==void 0?((X,B,j)=>{B.constructor.createProperty(j,X)})(D,Q,q):i(D,Q)}function t$1(D){return e$1(__spreadProps(__spreadValues({},D),{state:!0}))}var o$1=({finisher:D,descriptor:Q})=>(q,X)=>{var B;if(X===void 0){const j=(B=q.originalKey)!==null&&B!==void 0?B:q.key,U=Q!=null?{kind:"method",placement:"prototype",key:j,descriptor:Q(q.key)}:__spreadProps(__spreadValues({},q),{key:j});return D!=null&&(U.finisher=function(Y){D(Y,j)}),U}{const j=q.constructor;Q!==void 0&&Object.defineProperty(q,X,Q(X)),D==null||D(j,X)}};function i2$1(D,Q){return o$1({descriptor:q=>{const X={get(){var B,j;return(j=(B=this.renderRoot)===null||B===void 0?void 0:B.querySelector(D))!==null&&j!==void 0?j:null},enumerable:!0,configurable:!0};if(Q){const B=typeof q=="symbol"?Symbol():"__"+q;X.get=function(){var j,U;return this[B]===void 0&&(this[B]=(U=(j=this.renderRoot)===null||j===void 0?void 0:j.querySelector(D))!==null&&U!==void 0?U:null),this[B]}}return X}})}var n2$1;((n2$1=window.HTMLSlotElement)===null||n2$1===void 0?void 0:n2$1.prototype.assignedElements)!=null;var ShoelaceElement=class extends s4{emit(D,Q){const q=new CustomEvent(D,__spreadValues({bubbles:!0,cancelable:!1,composed:!0,detail:{}},Q));return this.dispatchEvent(q),q}};__decorateClass$1([e$1()],ShoelaceElement.prototype,"dir",2);__decorateClass$1([e$1()],ShoelaceElement.prototype,"lang",2);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var _a,isChromium=(_a=navigator.userAgentData)==null?void 0:_a.brands.some(D=>D.brand.includes("Chromium")),isFirefox=isChromium?!1:navigator.userAgent.includes("Firefox"),SlInput=class extends ShoelaceElement{constructor(){super(...arguments),this.formSubmitController=new FormSubmitController(this),this.hasSlotController=new HasSlotController(this,"help-text","label"),this.localize=new LocalizeController2(this),this.hasFocus=!1,this.type="text",this.size="medium",this.value="",this.defaultValue="",this.filled=!1,this.pill=!1,this.label="",this.helpText="",this.clearable=!1,this.passwordToggle=!1,this.passwordVisible=!1,this.noSpinButtons=!1,this.disabled=!1,this.readonly=!1,this.required=!1,this.invalid=!1}get valueAsDate(){var D,Q;return(Q=(D=this.input)==null?void 0:D.valueAsDate)!=null?Q:null}set valueAsDate(D){const Q=document.createElement("input");Q.type="date",Q.valueAsDate=D,this.value=Q.value}get valueAsNumber(){var D,Q;return(Q=(D=this.input)==null?void 0:D.valueAsNumber)!=null?Q:parseFloat(this.value)}set valueAsNumber(D){const Q=document.createElement("input");Q.type="number",Q.valueAsNumber=D,this.value=Q.value}firstUpdated(){this.invalid=!this.input.checkValidity()}focus(D){this.input.focus(D)}blur(){this.input.blur()}select(){this.input.select()}setSelectionRange(D,Q,q="none"){this.input.setSelectionRange(D,Q,q)}setRangeText(D,Q,q,X="preserve"){this.input.setRangeText(D,Q,q,X),this.value!==this.input.value&&(this.value=this.input.value,this.emit("sl-input"),this.emit("sl-change"))}reportValidity(){return this.input.reportValidity()}setCustomValidity(D){this.input.setCustomValidity(D),this.invalid=!this.input.checkValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleChange(){this.value=this.input.value,this.emit("sl-change")}handleClearClick(D){this.value="",this.emit("sl-clear"),this.emit("sl-input"),this.emit("sl-change"),this.input.focus(),D.stopPropagation()}handleDisabledChange(){this.input.disabled=this.disabled,this.invalid=!this.input.checkValidity()}handleStepChange(){this.input.step=String(this.step),this.invalid=!this.input.checkValidity()}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleInput(){this.value=this.input.value,this.emit("sl-input")}handleInvalid(){this.invalid=!0}handleKeyDown(D){const Q=D.metaKey||D.ctrlKey||D.shiftKey||D.altKey;D.key==="Enter"&&!Q&&setTimeout(()=>{D.defaultPrevented||this.formSubmitController.submit()})}handlePasswordToggle(){this.passwordVisible=!this.passwordVisible}handleValueChange(){this.invalid=!this.input.checkValidity()}render(){const D=this.hasSlotController.test("label"),Q=this.hasSlotController.test("help-text"),q=this.label?!0:!!D,X=this.helpText?!0:!!Q,B=this.clearable&&!this.disabled&&!this.readonly&&(typeof this.value=="number"||this.value.length>0);return $`
      <div
        part="form-control"
        class=${o$2({"form-control":!0,"form-control--small":this.size==="small","form-control--medium":this.size==="medium","form-control--large":this.size==="large","form-control--has-label":q,"form-control--has-help-text":X})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${q?"false":"true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${o$2({input:!0,"input--small":this.size==="small","input--medium":this.size==="medium","input--large":this.size==="large","input--pill":this.pill,"input--standard":!this.filled,"input--filled":this.filled,"input--disabled":this.disabled,"input--focused":this.hasFocus,"input--empty":!this.value,"input--invalid":this.invalid,"input--no-spin-buttons":this.noSpinButtons,"input--is-firefox":isFirefox})}
          >
            <span part="prefix" class="input__prefix">
              <slot name="prefix"></slot>
            </span>

            <input
              part="input"
              id="input"
              class="input__control"
              type=${this.type==="password"&&this.passwordVisible?"text":this.type}
              name=${l$2(this.name)}
              ?disabled=${this.disabled}
              ?readonly=${this.readonly}
              ?required=${this.required}
              placeholder=${l$2(this.placeholder)}
              minlength=${l$2(this.minlength)}
              maxlength=${l$2(this.maxlength)}
              min=${l$2(this.min)}
              max=${l$2(this.max)}
              step=${l$2(this.step)}
              .value=${l$3(this.value)}
              autocapitalize=${l$2(this.type==="password"?"off":this.autocapitalize)}
              autocomplete=${l$2(this.type==="password"?"off":this.autocomplete)}
              autocorrect=${l$2(this.type==="password"?"off":this.autocorrect)}
              ?autofocus=${this.autofocus}
              spellcheck=${l$2(this.spellcheck)}
              pattern=${l$2(this.pattern)}
              enterkeyhint=${l$2(this.enterkeyhint)}
              inputmode=${l$2(this.inputmode)}
              aria-describedby="help-text"
              aria-invalid=${this.invalid?"true":"false"}
              @change=${this.handleChange}
              @input=${this.handleInput}
              @invalid=${this.handleInvalid}
              @keydown=${this.handleKeyDown}
              @focus=${this.handleFocus}
              @blur=${this.handleBlur}
            />

            ${B?$`
                  <button
                    part="clear-button"
                    class="input__clear"
                    type="button"
                    aria-label=${this.localize.term("clearEntry")}
                    @click=${this.handleClearClick}
                    tabindex="-1"
                  >
                    <slot name="clear-icon">
                      <sl-icon name="x-circle-fill" library="system"></sl-icon>
                    </slot>
                  </button>
                `:""}
            ${this.passwordToggle&&!this.disabled?$`
                  <button
                    part="password-toggle-button"
                    class="input__password-toggle"
                    type="button"
                    aria-label=${this.localize.term(this.passwordVisible?"hidePassword":"showPassword")}
                    @click=${this.handlePasswordToggle}
                    tabindex="-1"
                  >
                    ${this.passwordVisible?$`
                          <slot name="show-password-icon">
                            <sl-icon name="eye-slash" library="system"></sl-icon>
                          </slot>
                        `:$`
                          <slot name="hide-password-icon">
                            <sl-icon name="eye" library="system"></sl-icon>
                          </slot>
                        `}
                  </button>
                `:""}

            <span part="suffix" class="input__suffix">
              <slot name="suffix"></slot>
            </span>
          </div>
        </div>

        <div
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${X?"false":"true"}
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};SlInput.styles=input_styles_default;__decorateClass$1([i2$1(".input__control")],SlInput.prototype,"input",2);__decorateClass$1([t$1()],SlInput.prototype,"hasFocus",2);__decorateClass$1([e$1({reflect:!0})],SlInput.prototype,"type",2);__decorateClass$1([e$1({reflect:!0})],SlInput.prototype,"size",2);__decorateClass$1([e$1()],SlInput.prototype,"name",2);__decorateClass$1([e$1()],SlInput.prototype,"value",2);__decorateClass$1([defaultValue()],SlInput.prototype,"defaultValue",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlInput.prototype,"filled",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlInput.prototype,"pill",2);__decorateClass$1([e$1()],SlInput.prototype,"label",2);__decorateClass$1([e$1({attribute:"help-text"})],SlInput.prototype,"helpText",2);__decorateClass$1([e$1({type:Boolean})],SlInput.prototype,"clearable",2);__decorateClass$1([e$1({attribute:"password-toggle",type:Boolean})],SlInput.prototype,"passwordToggle",2);__decorateClass$1([e$1({attribute:"password-visible",type:Boolean})],SlInput.prototype,"passwordVisible",2);__decorateClass$1([e$1({attribute:"no-spin-buttons",type:Boolean})],SlInput.prototype,"noSpinButtons",2);__decorateClass$1([e$1()],SlInput.prototype,"placeholder",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlInput.prototype,"disabled",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlInput.prototype,"readonly",2);__decorateClass$1([e$1({type:Number})],SlInput.prototype,"minlength",2);__decorateClass$1([e$1({type:Number})],SlInput.prototype,"maxlength",2);__decorateClass$1([e$1()],SlInput.prototype,"min",2);__decorateClass$1([e$1()],SlInput.prototype,"max",2);__decorateClass$1([e$1()],SlInput.prototype,"step",2);__decorateClass$1([e$1()],SlInput.prototype,"pattern",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlInput.prototype,"required",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlInput.prototype,"invalid",2);__decorateClass$1([e$1()],SlInput.prototype,"autocapitalize",2);__decorateClass$1([e$1()],SlInput.prototype,"autocorrect",2);__decorateClass$1([e$1()],SlInput.prototype,"autocomplete",2);__decorateClass$1([e$1({type:Boolean})],SlInput.prototype,"autofocus",2);__decorateClass$1([e$1()],SlInput.prototype,"enterkeyhint",2);__decorateClass$1([e$1({type:Boolean})],SlInput.prototype,"spellcheck",2);__decorateClass$1([e$1()],SlInput.prototype,"inputmode",2);__decorateClass$1([watch("disabled",{waitUntilFirstUpdate:!0})],SlInput.prototype,"handleDisabledChange",1);__decorateClass$1([watch("step",{waitUntilFirstUpdate:!0})],SlInput.prototype,"handleStepChange",1);__decorateClass$1([watch("value",{waitUntilFirstUpdate:!0})],SlInput.prototype,"handleValueChange",1);SlInput=__decorateClass$1([n$1("sl-input")],SlInput);var basePath="";function setBasePath(D){basePath=D}function getBasePath(){if(!basePath){const D=[...document.getElementsByTagName("script")],Q=D.find(q=>q.hasAttribute("data-shoelace"));if(Q)setBasePath(Q.getAttribute("data-shoelace"));else{const q=D.find(B=>/shoelace(\.min)?\.js($|\?)/.test(B.src));let X="";q&&(X=q.getAttribute("src")),setBasePath(X.split("/").slice(0,-1).join("/"))}}return basePath.replace(/\/$/,"")}var library={name:"default",resolver:D=>`${getBasePath()}/assets/icons/${D}.svg`},library_default_default=library,icons={"check-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-lg" viewBox="0 0 16 16">
      <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"></path>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,x:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
      <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `},systemLibrary={name:"system",resolver:D=>D in icons?`data:image/svg+xml,${encodeURIComponent(icons[D])}`:""},library_system_default=systemLibrary,registry=[library_default_default,library_system_default],watchedIcons=[];function watchIcon(D){watchedIcons.push(D)}function unwatchIcon(D){watchedIcons=watchedIcons.filter(Q=>Q!==D)}function getIconLibrary(D){return registry.find(Q=>Q.name===D)}var includeFiles=new Map;function requestInclude(D,Q="cors"){if(includeFiles.has(D))return includeFiles.get(D);const q=fetch(D,{mode:Q}).then(async X=>({ok:X.ok,status:X.status,html:await X.text()}));return includeFiles.set(D,q),q}var iconFiles=new Map;async function requestIcon(D){if(iconFiles.has(D))return iconFiles.get(D);const Q=await requestInclude(D),q={ok:Q.ok,status:Q.status,svg:null};if(Q.ok){const X=document.createElement("div");X.innerHTML=Q.html;const B=X.firstElementChild;q.svg=(B==null?void 0:B.tagName.toLowerCase())==="svg"?B.outerHTML:""}return iconFiles.set(D,q),q}var icon_styles_default=r$2`
  ${component_styles_default}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    contain: strict;
    box-sizing: content-box !important;
  }

  .icon,
  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`,e3=class extends i$1{constructor(D){if(super(D),this.it=w,D.type!==t$2.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(D){if(D===w||D==null)return this.ft=void 0,this.it=D;if(D===b$1)return D;if(typeof D!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(D===this.it)return this.ft;this.it=D;const Q=[D];return Q.raw=Q,this.ft={_$litType$:this.constructor.resultType,strings:Q,values:[]}}};e3.directiveName="unsafeHTML",e3.resultType=1;var t3=class extends e3{};t3.directiveName="unsafeSVG",t3.resultType=2;var o2$1=e$2(t3),parser,SlIcon=class extends ShoelaceElement{constructor(){super(...arguments),this.svg="",this.label="",this.library="default"}connectedCallback(){super.connectedCallback(),watchIcon(this)}firstUpdated(){this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),unwatchIcon(this)}getUrl(){const D=getIconLibrary(this.library);return this.name&&D?D.resolver(this.name):this.src}redraw(){this.setIcon()}async setIcon(){var D;const Q=getIconLibrary(this.library),q=this.getUrl();if(parser||(parser=new DOMParser),q)try{const X=await requestIcon(q);if(q!==this.getUrl())return;if(X.ok){const j=parser.parseFromString(X.svg,"text/html").body.querySelector("svg");j!==null?((D=Q==null?void 0:Q.mutator)==null||D.call(Q,j),this.svg=j.outerHTML,this.emit("sl-load")):(this.svg="",this.emit("sl-error"))}else this.svg="",this.emit("sl-error")}catch{this.emit("sl-error")}else this.svg.length>0&&(this.svg="")}handleChange(){this.setIcon()}render(){const D=typeof this.label=="string"&&this.label.length>0;return $` <div
      part="base"
      class="icon"
      role=${l$2(D?"img":void 0)}
      aria-label=${l$2(D?this.label:void 0)}
      aria-hidden=${l$2(D?void 0:"true")}
    >
      ${o2$1(this.svg)}
    </div>`}};SlIcon.styles=icon_styles_default;__decorateClass$1([t$1()],SlIcon.prototype,"svg",2);__decorateClass$1([e$1({reflect:!0})],SlIcon.prototype,"name",2);__decorateClass$1([e$1()],SlIcon.prototype,"src",2);__decorateClass$1([e$1()],SlIcon.prototype,"label",2);__decorateClass$1([e$1({reflect:!0})],SlIcon.prototype,"library",2);__decorateClass$1([watch("name"),watch("src"),watch("library")],SlIcon.prototype,"setIcon",1);SlIcon=__decorateClass$1([n$1("sl-icon")],SlIcon);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var checkbox_styles_default=r$2`
  ${component_styles_default}

  :host {
    display: inline-block;
  }

  .checkbox {
    display: inline-flex;
    align-items: top;
    font-family: var(--sl-input-font-family);
    font-size: var(--sl-input-font-size-medium);
    font-weight: var(--sl-input-font-weight);
    color: var(--sl-input-color);
    vertical-align: middle;
    cursor: pointer;
  }

  .checkbox__control {
    flex: 0 0 auto;
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--sl-toggle-size);
    height: var(--sl-toggle-size);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
    border-radius: 2px;
    background-color: var(--sl-input-background-color);
    color: var(--sl-color-neutral-0);
    transition: var(--sl-transition-fast) border-color, var(--sl-transition-fast) background-color,
      var(--sl-transition-fast) color, var(--sl-transition-fast) box-shadow;
  }

  .checkbox__input {
    position: absolute;
    opacity: 0;
    padding: 0;
    margin: 0;
    pointer-events: none;
  }

  .checkbox__control .checkbox__icon {
    display: inline-flex;
    width: var(--sl-toggle-size);
    height: var(--sl-toggle-size);
  }

  .checkbox__control .checkbox__icon svg {
    width: 100%;
    height: 100%;
  }

  /* Hover */
  .checkbox:not(.checkbox--checked):not(.checkbox--disabled) .checkbox__control:hover {
    border-color: var(--sl-input-border-color-hover);
    background-color: var(--sl-input-background-color-hover);
  }

  /* Focus */
  .checkbox:not(.checkbox--checked):not(.checkbox--disabled) .checkbox__input:focus-visible ~ .checkbox__control {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  /* Checked/indeterminate */
  .checkbox--checked .checkbox__control,
  .checkbox--indeterminate .checkbox__control {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
  }

  /* Checked/indeterminate + hover */
  .checkbox.checkbox--checked:not(.checkbox--disabled) .checkbox__control:hover,
  .checkbox.checkbox--indeterminate:not(.checkbox--disabled) .checkbox__control:hover {
    border-color: var(--sl-color-primary-500);
    background-color: var(--sl-color-primary-500);
  }

  /* Checked/indeterminate + focus */
  .checkbox.checkbox--checked:not(.checkbox--disabled) .checkbox__input:focus-visible ~ .checkbox__control,
  .checkbox.checkbox--indeterminate:not(.checkbox--disabled) .checkbox__input:focus-visible ~ .checkbox__control {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  /* Disabled */
  .checkbox--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .checkbox__label {
    color: var(--sl-input-label-color);
    line-height: var(--sl-toggle-size);
    margin-inline-start: 0.5em;
    user-select: none;
  }

  :host([required]) .checkbox__label::after {
    content: var(--sl-input-required-content);
    margin-inline-start: var(--sl-input-required-content-offset);
  }
`,SlCheckbox=class extends ShoelaceElement{constructor(){super(...arguments),this.formSubmitController=new FormSubmitController(this,{value:D=>D.checked?D.value||"on":void 0,defaultValue:D=>D.defaultChecked,setValue:(D,Q)=>D.checked=Q}),this.hasFocus=!1,this.disabled=!1,this.required=!1,this.checked=!1,this.indeterminate=!1,this.invalid=!1,this.defaultChecked=!1}firstUpdated(){this.invalid=!this.input.checkValidity()}click(){this.input.click()}focus(D){this.input.focus(D)}blur(){this.input.blur()}reportValidity(){return this.input.reportValidity()}setCustomValidity(D){this.input.setCustomValidity(D),this.invalid=!this.input.checkValidity()}handleClick(){this.checked=!this.checked,this.indeterminate=!1,this.emit("sl-change")}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleDisabledChange(){this.input.disabled=this.disabled,this.invalid=!this.input.checkValidity()}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleStateChange(){this.invalid=!this.input.checkValidity()}render(){return $`
      <label
        part="base"
        class=${o$2({checkbox:!0,"checkbox--checked":this.checked,"checkbox--disabled":this.disabled,"checkbox--focused":this.hasFocus,"checkbox--indeterminate":this.indeterminate})}
      >
        <input
          class="checkbox__input"
          type="checkbox"
          name=${l$2(this.name)}
          value=${l$2(this.value)}
          .indeterminate=${l$3(this.indeterminate)}
          .checked=${l$3(this.checked)}
          .disabled=${this.disabled}
          .required=${this.required}
          aria-checked=${this.checked?"true":"false"}
          @click=${this.handleClick}
          @blur=${this.handleBlur}
          @focus=${this.handleFocus}
        />

        <span part="control" class="checkbox__control">
          ${this.checked?$`
                <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
                  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
                    <g stroke="currentColor" stroke-width="2">
                      <g transform="translate(3.428571, 3.428571)">
                        <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
                        <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
                      </g>
                    </g>
                  </g>
                </svg>
              `:""}
          ${!this.checked&&this.indeterminate?$`
                <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
                  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
                    <g stroke="currentColor" stroke-width="2">
                      <g transform="translate(2.285714, 6.857143)">
                        <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
                      </g>
                    </g>
                  </g>
                </svg>
              `:""}
        </span>

        <span part="label" class="checkbox__label">
          <slot></slot>
        </span>
      </label>
    `}};SlCheckbox.styles=checkbox_styles_default;__decorateClass$1([i2$1('input[type="checkbox"]')],SlCheckbox.prototype,"input",2);__decorateClass$1([t$1()],SlCheckbox.prototype,"hasFocus",2);__decorateClass$1([e$1()],SlCheckbox.prototype,"name",2);__decorateClass$1([e$1()],SlCheckbox.prototype,"value",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlCheckbox.prototype,"disabled",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlCheckbox.prototype,"required",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlCheckbox.prototype,"checked",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlCheckbox.prototype,"indeterminate",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlCheckbox.prototype,"invalid",2);__decorateClass$1([defaultValue("checked")],SlCheckbox.prototype,"defaultChecked",2);__decorateClass$1([watch("disabled",{waitUntilFirstUpdate:!0})],SlCheckbox.prototype,"handleDisabledChange",1);__decorateClass$1([watch("checked",{waitUntilFirstUpdate:!0}),watch("indeterminate",{waitUntilFirstUpdate:!0})],SlCheckbox.prototype,"handleStateChange",1);SlCheckbox=__decorateClass$1([n$1("sl-checkbox")],SlCheckbox);var dropdown_styles_default=r$2`
  ${component_styles_default}

  :host {
    display: inline-block;
  }

  .dropdown::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .dropdown[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .dropdown[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .dropdown[data-current-placement^='left']::part(popup) {
    transform-origin: right;
  }

  .dropdown[data-current-placement^='right']::part(popup) {
    transform-origin: left;
  }

  .dropdown__trigger {
    display: block;
  }

  .dropdown__panel {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    color: var(--color);
    box-shadow: var(--sl-shadow-large);
    pointer-events: none;
  }

  .dropdown--open .dropdown__panel {
    pointer-events: all;
  }

  /* When users slot a menu, make sure it conforms to the popup's auto-size */
  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`;function isTabbable(D){const Q=D.tagName.toLowerCase();return D.getAttribute("tabindex")==="-1"||D.hasAttribute("disabled")||D.hasAttribute("aria-disabled")&&D.getAttribute("aria-disabled")!=="false"||Q==="input"&&D.getAttribute("type")==="radio"&&!D.hasAttribute("checked")||D.offsetParent===null||window.getComputedStyle(D).visibility==="hidden"?!1:(Q==="audio"||Q==="video")&&D.hasAttribute("controls")||D.hasAttribute("tabindex")||D.hasAttribute("contenteditable")&&D.getAttribute("contenteditable")!=="false"?!0:["button","input","select","textarea","a","audio","video","summary"].includes(Q)}function getTabbableBoundary(D){var Q,q;const X=[];function B(Y){Y instanceof HTMLElement&&(X.push(Y),Y.shadowRoot!==null&&Y.shadowRoot.mode==="open"&&B(Y.shadowRoot)),[...Y.children].forEach(G=>B(G))}B(D);const j=(Q=X.find(Y=>isTabbable(Y)))!=null?Q:null,U=(q=X.reverse().find(Y=>isTabbable(Y)))!=null?q:null;return{start:j,end:U}}function getOffset(D,Q){return{top:Math.round(D.getBoundingClientRect().top-Q.getBoundingClientRect().top),left:Math.round(D.getBoundingClientRect().left-Q.getBoundingClientRect().left)}}function scrollIntoView(D,Q,q="vertical",X="smooth"){const B=getOffset(D,Q),j=B.top+Q.scrollTop,U=B.left+Q.scrollLeft,Y=Q.scrollLeft,G=Q.scrollLeft+Q.offsetWidth,F=Q.scrollTop,K=Q.scrollTop+Q.offsetHeight;(q==="horizontal"||q==="both")&&(U<Y?Q.scrollTo({left:U,behavior:X}):U+D.clientWidth>G&&Q.scrollTo({left:U-Q.offsetWidth+D.clientWidth,behavior:X})),(q==="vertical"||q==="both")&&(j<F?Q.scrollTo({top:j,behavior:X}):j+D.clientHeight>K&&Q.scrollTo({top:j-Q.offsetHeight+D.clientHeight,behavior:X}))}function waitForEvent(D,Q){return new Promise(q=>{function X(B){B.target===D&&(D.removeEventListener(Q,X),q())}D.addEventListener(Q,X)})}function animateTo(D,Q,q){return new Promise(X=>{if((q==null?void 0:q.duration)===1/0)throw new Error("Promise-based animations must be finite.");const B=D.animate(Q,__spreadProps(__spreadValues({},q),{duration:prefersReducedMotion()?0:q.duration}));B.addEventListener("cancel",X,{once:!0}),B.addEventListener("finish",X,{once:!0})})}function prefersReducedMotion(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function stopAnimations(D){return Promise.all(D.getAnimations().map(Q=>new Promise(q=>{const X=requestAnimationFrame(q);Q.addEventListener("cancel",()=>X,{once:!0}),Q.addEventListener("finish",()=>X,{once:!0}),Q.cancel()})))}var defaultAnimationRegistry=new Map,customAnimationRegistry=new WeakMap;function ensureAnimation(D){return D!=null?D:{keyframes:[],options:{duration:0}}}function getLogicalAnimation(D,Q){return Q.toLowerCase()==="rtl"?{keyframes:D.rtlKeyframes||D.keyframes,options:D.options}:D}function setDefaultAnimation(D,Q){defaultAnimationRegistry.set(D,ensureAnimation(Q))}function getAnimation(D,Q,q){const X=customAnimationRegistry.get(D);if(X!=null&&X[Q])return getLogicalAnimation(X[Q],q.dir);const B=defaultAnimationRegistry.get(Q);return B?getLogicalAnimation(B,q.dir):{keyframes:[],options:{duration:0}}}var SlDropdown=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.open=!1,this.placement="bottom-start",this.disabled=!1,this.stayOpenOnSelect=!1,this.distance=0,this.skidding=0,this.hoist=!1}connectedCallback(){super.connectedCallback(),this.handleMenuItemActivate=this.handleMenuItemActivate.bind(this),this.handlePanelSelect=this.handlePanelSelect.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleDocumentMouseDown=this.handleDocumentMouseDown.bind(this),this.containingElement||(this.containingElement=this)}firstUpdated(){this.panel.hidden=!this.open,this.open&&(this.addOpenListeners(),this.popup.active=!0)}disconnectedCallback(){super.disconnectedCallback(),this.removeOpenListeners(),this.hide()}focusOnTrigger(){const Q=this.trigger.querySelector("slot").assignedElements({flatten:!0})[0];typeof(Q==null?void 0:Q.focus)=="function"&&Q.focus()}getMenu(){return this.panel.querySelector("slot").assignedElements({flatten:!0}).find(Q=>Q.tagName.toLowerCase()==="sl-menu")}handleDocumentKeyDown(D){var Q;if(D.key==="Escape"){this.hide(),this.focusOnTrigger();return}if(D.key==="Tab"){if(this.open&&((Q=document.activeElement)==null?void 0:Q.tagName.toLowerCase())==="sl-menu-item"){D.preventDefault(),this.hide(),this.focusOnTrigger();return}setTimeout(()=>{var q,X,B;const j=((q=this.containingElement)==null?void 0:q.getRootNode())instanceof ShadowRoot?(B=(X=document.activeElement)==null?void 0:X.shadowRoot)==null?void 0:B.activeElement:document.activeElement;(!this.containingElement||(j==null?void 0:j.closest(this.containingElement.tagName.toLowerCase()))!==this.containingElement)&&this.hide()})}}handleDocumentMouseDown(D){const Q=D.composedPath();this.containingElement&&!Q.includes(this.containingElement)&&this.hide()}handleMenuItemActivate(D){const Q=D.target;scrollIntoView(Q,this.panel)}handlePanelSelect(D){const Q=D.target;!this.stayOpenOnSelect&&Q.tagName.toLowerCase()==="sl-menu"&&(this.hide(),this.focusOnTrigger())}handleTriggerClick(){this.open?this.hide():this.show()}handleTriggerKeyDown(D){if(D.key==="Escape"){this.focusOnTrigger(),this.hide();return}if([" ","Enter"].includes(D.key)){D.preventDefault(),this.handleTriggerClick();return}const Q=this.getMenu();if(Q){const q=Q.defaultSlot.assignedElements({flatten:!0}),X=q[0],B=q[q.length-1];["ArrowDown","ArrowUp","Home","End"].includes(D.key)&&(D.preventDefault(),this.open||this.show(),q.length>0&&requestAnimationFrame(()=>{(D.key==="ArrowDown"||D.key==="Home")&&(Q.setCurrentItem(X),X.focus()),(D.key==="ArrowUp"||D.key==="End")&&(Q.setCurrentItem(B),B.focus())}));const j=["Tab","Shift","Meta","Ctrl","Alt"];this.open&&!j.includes(D.key)&&Q.typeToSelect(D)}}handleTriggerKeyUp(D){D.key===" "&&D.preventDefault()}handleTriggerSlotChange(){this.updateAccessibleTrigger()}updateAccessibleTrigger(){const q=this.trigger.querySelector("slot").assignedElements({flatten:!0}).find(B=>getTabbableBoundary(B).start);let X;if(q){switch(q.tagName.toLowerCase()){case"sl-button":case"sl-icon-button":X=q.button;break;default:X=q}X.setAttribute("aria-haspopup","true"),X.setAttribute("aria-expanded",this.open?"true":"false")}}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(!!this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}reposition(){this.popup.reposition()}addOpenListeners(){this.panel.addEventListener("sl-activate",this.handleMenuItemActivate),this.panel.addEventListener("sl-select",this.handlePanelSelect),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown)}removeOpenListeners(){this.panel.removeEventListener("sl-activate",this.handleMenuItemActivate),this.panel.removeEventListener("sl-select",this.handlePanelSelect),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown)}async handleOpenChange(){if(this.disabled){this.open=!1;return}if(this.updateAccessibleTrigger(),this.open){this.emit("sl-show"),this.addOpenListeners(),await stopAnimations(this),this.panel.hidden=!1,this.popup.active=!0;const{keyframes:D,options:Q}=getAnimation(this,"dropdown.show",{dir:this.localize.dir()});await animateTo(this.popup.popup,D,Q),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),await stopAnimations(this);const{keyframes:D,options:Q}=getAnimation(this,"dropdown.hide",{dir:this.localize.dir()});await animateTo(this.popup.popup,D,Q),this.panel.hidden=!0,this.popup.active=!1,this.emit("sl-after-hide")}}render(){return $`
      <sl-popup
        part="base"
        id="dropdown"
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        auto-size="vertical"
        auto-size-padding="10"
        class=${o$2({dropdown:!0,"dropdown--open":this.open})}
      >
        <span
          slot="anchor"
          part="trigger"
          class="dropdown__trigger"
          @click=${this.handleTriggerClick}
          @keydown=${this.handleTriggerKeyDown}
          @keyup=${this.handleTriggerKeyUp}
        >
          <slot name="trigger" @slotchange=${this.handleTriggerSlotChange}></slot>
        </span>

        <div
          part="panel"
          class="dropdown__panel"
          aria-hidden=${this.open?"false":"true"}
          aria-labelledby="dropdown"
        >
          <slot></slot>
        </div>
      </sl-popup>
    `}};SlDropdown.styles=dropdown_styles_default;__decorateClass$1([i2$1(".dropdown")],SlDropdown.prototype,"popup",2);__decorateClass$1([i2$1(".dropdown__trigger")],SlDropdown.prototype,"trigger",2);__decorateClass$1([i2$1(".dropdown__panel")],SlDropdown.prototype,"panel",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlDropdown.prototype,"open",2);__decorateClass$1([e$1({reflect:!0})],SlDropdown.prototype,"placement",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlDropdown.prototype,"disabled",2);__decorateClass$1([e$1({attribute:"stay-open-on-select",type:Boolean,reflect:!0})],SlDropdown.prototype,"stayOpenOnSelect",2);__decorateClass$1([e$1({attribute:!1})],SlDropdown.prototype,"containingElement",2);__decorateClass$1([e$1({type:Number})],SlDropdown.prototype,"distance",2);__decorateClass$1([e$1({type:Number})],SlDropdown.prototype,"skidding",2);__decorateClass$1([e$1({type:Boolean})],SlDropdown.prototype,"hoist",2);__decorateClass$1([watch("open",{waitUntilFirstUpdate:!0})],SlDropdown.prototype,"handleOpenChange",1);SlDropdown=__decorateClass$1([n$1("sl-dropdown")],SlDropdown);setDefaultAnimation("dropdown.show",{keyframes:[{opacity:0,transform:"scale(0.9)"},{opacity:1,transform:"scale(1)"}],options:{duration:100,easing:"ease"}});setDefaultAnimation("dropdown.hide",{keyframes:[{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.9)"}],options:{duration:100,easing:"ease"}});var popup_styles_default=r$2`
  ${component_styles_default}

  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    transform: rotate(45deg);
    background: var(--arrow-color);
    z-index: -1;
  }
`;function t(D){return D.split("-")[0]}function e2(D){return D.split("-")[1]}function n2(D){return["top","bottom"].includes(t(D))?"x":"y"}function r(D){return D==="y"?"height":"width"}function i2(D,Q,q){let{reference:X,floating:B}=D;const j=X.x+X.width/2-B.width/2,U=X.y+X.height/2-B.height/2,Y=n2(Q),G=r(Y),F=X[G]/2-B[G]/2,K=Y==="x";let J;switch(t(Q)){case"top":J={x:j,y:X.y-B.height};break;case"bottom":J={x:j,y:X.y+X.height};break;case"right":J={x:X.x+X.width,y:U};break;case"left":J={x:X.x-B.width,y:U};break;default:J={x:X.x,y:X.y}}switch(e2(Q)){case"start":J[Y]-=F*(q&&K?-1:1);break;case"end":J[Y]+=F*(q&&K?-1:1)}return J}var o2=async(D,Q,q)=>{const{placement:X="bottom",strategy:B="absolute",middleware:j=[],platform:U}=q,Y=await(U.isRTL==null?void 0:U.isRTL(Q));let G=await U.getElementRects({reference:D,floating:Q,strategy:B}),{x:F,y:K}=i2(G,X,Y),J=X,ee={},te=0;for(let ne=0;ne<j.length;ne++){const{name:re,fn:se}=j[ne],{x:oe,y:ce,data:le,reset:ae}=await se({x:F,y:K,initialPlacement:X,placement:J,strategy:B,middlewareData:ee,rects:G,platform:U,elements:{reference:D,floating:Q}});F=oe!=null?oe:F,K=ce!=null?ce:K,ee=__spreadProps(__spreadValues({},ee),{[re]:__spreadValues(__spreadValues({},ee[re]),le)}),ae&&te<=50&&(te++,typeof ae=="object"&&(ae.placement&&(J=ae.placement),ae.rects&&(G=ae.rects===!0?await U.getElementRects({reference:D,floating:Q,strategy:B}):ae.rects),{x:F,y:K}=i2(G,J,Y)),ne=-1)}return{x:F,y:K,placement:J,strategy:B,middlewareData:ee}};function a$1(D){return typeof D!="number"?function(Q){return __spreadValues({top:0,right:0,bottom:0,left:0},Q)}(D):{top:D,right:D,bottom:D,left:D}}function l$1(D){return __spreadProps(__spreadValues({},D),{top:D.y,left:D.x,right:D.x+D.width,bottom:D.y+D.height})}async function s$1(D,Q){var q;Q===void 0&&(Q={});const{x:X,y:B,platform:j,rects:U,elements:Y,strategy:G}=D,{boundary:F="clippingAncestors",rootBoundary:K="viewport",elementContext:J="floating",altBoundary:ee=!1,padding:te=0}=Q,ne=a$1(te),re=Y[ee?J==="floating"?"reference":"floating":J],se=l$1(await j.getClippingRect({element:(q=await(j.isElement==null?void 0:j.isElement(re)))==null||q?re:re.contextElement||await(j.getDocumentElement==null?void 0:j.getDocumentElement(Y.floating)),boundary:F,rootBoundary:K,strategy:G})),oe=l$1(j.convertOffsetParentRelativeRectToViewportRelativeRect?await j.convertOffsetParentRelativeRectToViewportRelativeRect({rect:J==="floating"?__spreadProps(__spreadValues({},U.floating),{x:X,y:B}):U.reference,offsetParent:await(j.getOffsetParent==null?void 0:j.getOffsetParent(Y.floating)),strategy:G}):U[J]);return{top:se.top-oe.top+ne.top,bottom:oe.bottom-se.bottom+ne.bottom,left:se.left-oe.left+ne.left,right:oe.right-se.right+ne.right}}var c=Math.min,f=Math.max;function u(D,Q,q){return f(D,c(Q,q))}var m=D=>({name:"arrow",options:D,async fn(Q){const{element:q,padding:X=0}=D!=null?D:{},{x:B,y:j,placement:U,rects:Y,platform:G}=Q;if(q==null)return{};const F=a$1(X),K={x:B,y:j},J=n2(U),ee=e2(U),te=r(J),ne=await G.getDimensions(q),re=J==="y"?"top":"left",se=J==="y"?"bottom":"right",oe=Y.reference[te]+Y.reference[J]-K[J]-Y.floating[te],ce=K[J]-Y.reference[J],le=await(G.getOffsetParent==null?void 0:G.getOffsetParent(q));let ae=le?J==="y"?le.clientHeight||0:le.clientWidth||0:0;ae===0&&(ae=Y.floating[te]);const he=oe/2-ce/2,de=F[re],ue=ae-ne[te]-F[se],Oe=ae/2-ne[te]/2+he,pe=u(de,Oe,ue),fe=(ee==="start"?F[re]:F[se])>0&&Oe!==pe&&Y.reference[te]<=Y.floating[te];return{[J]:K[J]-(fe?Oe<de?de-Oe:ue-Oe:0),data:{[J]:pe,centerOffset:Oe-pe}}}}),g={left:"right",right:"left",bottom:"top",top:"bottom"};function d(D){return D.replace(/left|right|bottom|top/g,Q=>g[Q])}function p(D,Q,q){q===void 0&&(q=!1);const X=e2(D),B=n2(D),j=r(B);let U=B==="x"?X===(q?"end":"start")?"right":"left":X==="start"?"bottom":"top";return Q.reference[j]>Q.floating[j]&&(U=d(U)),{main:U,cross:d(U)}}var h={start:"end",end:"start"};function y(D){return D.replace(/start|end/g,Q=>h[Q])}var x=["top","right","bottom","left"];x.reduce((D,Q)=>D.concat(Q,Q+"-start",Q+"-end"),[]);var b=function(D){return D===void 0&&(D={}),{name:"flip",options:D,async fn(Q){var q;const{placement:X,middlewareData:B,rects:j,initialPlacement:U,platform:Y,elements:G}=Q,F=D,{mainAxis:K=!0,crossAxis:J=!0,fallbackPlacements:ee,fallbackStrategy:te="bestFit",flipAlignment:ne=!0}=F,re=__objRest(F,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"]),se=t(X),oe=ee||(se===U||!ne?[d(U)]:function(pe){const fe=d(pe);return[y(pe),fe,y(fe)]}(U)),ce=[U,...oe],le=await s$1(Q,re),ae=[];let he=((q=B.flip)==null?void 0:q.overflows)||[];if(K&&ae.push(le[se]),J){const{main:pe,cross:fe}=p(X,j,await(Y.isRTL==null?void 0:Y.isRTL(G.floating)));ae.push(le[pe],le[fe])}if(he=[...he,{placement:X,overflows:ae}],!ae.every(pe=>pe<=0)){var de,ue;const pe=((de=(ue=B.flip)==null?void 0:ue.index)!=null?de:0)+1,fe=ce[pe];if(fe)return{data:{index:pe,overflows:he},reset:{placement:fe}};let ge="bottom";switch(te){case"bestFit":{var Oe;const me=(Oe=he.map($e=>[$e,$e.overflows.filter(be=>be>0).reduce((be,ye)=>be+ye,0)]).sort(($e,be)=>$e[1]-be[1])[0])==null?void 0:Oe[0].placement;me&&(ge=me);break}case"initialPlacement":ge=U}if(X!==ge)return{reset:{placement:ge}}}return{}}}},T=function(D){return D===void 0&&(D=0),{name:"offset",options:D,async fn(Q){const{x:q,y:X}=Q,B=await async function(j,U){const{placement:Y,platform:G,elements:F}=j,K=await(G.isRTL==null?void 0:G.isRTL(F.floating)),J=t(Y),ee=e2(Y),te=n2(Y)==="x",ne=["left","top"].includes(J)?-1:1,re=K&&te?-1:1,se=typeof U=="function"?U(j):U;let{mainAxis:oe,crossAxis:ce,alignmentAxis:le}=typeof se=="number"?{mainAxis:se,crossAxis:0,alignmentAxis:null}:__spreadValues({mainAxis:0,crossAxis:0,alignmentAxis:null},se);return ee&&typeof le=="number"&&(ce=ee==="end"?-1*le:le),te?{x:ce*re,y:oe*ne}:{x:oe*ne,y:ce*re}}(Q,D);return{x:q+B.x,y:X+B.y,data:B}}}};function O(D){return D==="x"?"y":"x"}var L=function(D){return D===void 0&&(D={}),{name:"shift",options:D,async fn(Q){const{x:q,y:X,placement:B}=Q,j=D,{mainAxis:U=!0,crossAxis:Y=!1,limiter:G={fn:oe=>{let{x:ce,y:le}=oe;return{x:ce,y:le}}}}=j,F=__objRest(j,["mainAxis","crossAxis","limiter"]),K={x:q,y:X},J=await s$1(Q,F),ee=n2(t(B)),te=O(ee);let ne=K[ee],re=K[te];if(U){const oe=ee==="y"?"bottom":"right";ne=u(ne+J[ee==="y"?"top":"left"],ne,ne-J[oe])}if(Y){const oe=te==="y"?"bottom":"right";re=u(re+J[te==="y"?"top":"left"],re,re-J[oe])}const se=G.fn(__spreadProps(__spreadValues({},Q),{[ee]:ne,[te]:re}));return __spreadProps(__spreadValues({},se),{data:{x:se.x-q,y:se.y-X}})}}},k=function(D){return D===void 0&&(D={}),{name:"size",options:D,async fn(Q){const{placement:q,rects:X,platform:B,elements:j}=Q,U=D,{apply:Y=()=>{}}=U,G=__objRest(U,["apply"]),F=await s$1(Q,G),K=t(q),J=e2(q);let ee,te;K==="top"||K==="bottom"?(ee=K,te=J===(await(B.isRTL==null?void 0:B.isRTL(j.floating))?"start":"end")?"left":"right"):(te=K,ee=J==="end"?"top":"bottom");const ne=f(F.left,0),re=f(F.right,0),se=f(F.top,0),oe=f(F.bottom,0),ce={availableHeight:X.floating.height-(["left","right"].includes(q)?2*(se!==0||oe!==0?se+oe:f(F.top,F.bottom)):F[ee]),availableWidth:X.floating.width-(["top","bottom"].includes(q)?2*(ne!==0||re!==0?ne+re:f(F.left,F.right)):F[te])};await Y(__spreadValues(__spreadValues({},Q),ce));const le=await B.getDimensions(j.floating);return X.floating.width!==le.width||X.floating.height!==le.height?{reset:{rects:!0}}:{}}}};function n3(D){return D&&D.document&&D.location&&D.alert&&D.setInterval}function o3(D){if(D==null)return window;if(!n3(D)){const Q=D.ownerDocument;return Q&&Q.defaultView||window}return D}function i3(D){return o3(D).getComputedStyle(D)}function r2(D){return n3(D)?"":D?(D.nodeName||"").toLowerCase():""}function l2(){const D=navigator.userAgentData;return D!=null&&D.brands?D.brands.map(Q=>Q.brand+"/"+Q.version).join(" "):navigator.userAgent}function c2(D){return D instanceof o3(D).HTMLElement}function f2(D){return D instanceof o3(D).Element}function s2(D){return typeof ShadowRoot>"u"?!1:D instanceof o3(D).ShadowRoot||D instanceof ShadowRoot}function u2(D){const{overflow:Q,overflowX:q,overflowY:X}=i3(D);return/auto|scroll|overlay|hidden/.test(Q+X+q)}function d2(D){return["table","td","th"].includes(r2(D))}function h2(D){const Q=/firefox/i.test(l2()),q=i3(D);return q.transform!=="none"||q.perspective!=="none"||q.contain==="paint"||["transform","perspective"].includes(q.willChange)||Q&&q.willChange==="filter"||Q&&!!q.filter&&q.filter!=="none"}function a2(){return!/^((?!chrome|android).)*safari/i.test(l2())}var g2=Math.min,p2=Math.max,m2=Math.round;function w2(D,Q,q){var X,B,j,U;Q===void 0&&(Q=!1),q===void 0&&(q=!1);const Y=D.getBoundingClientRect();let G=1,F=1;Q&&c2(D)&&(G=D.offsetWidth>0&&m2(Y.width)/D.offsetWidth||1,F=D.offsetHeight>0&&m2(Y.height)/D.offsetHeight||1);const K=f2(D)?o3(D):window,J=!a2()&&q,ee=(Y.left+(J&&(X=(B=K.visualViewport)==null?void 0:B.offsetLeft)!=null?X:0))/G,te=(Y.top+(J&&(j=(U=K.visualViewport)==null?void 0:U.offsetTop)!=null?j:0))/F,ne=Y.width/G,re=Y.height/F;return{width:ne,height:re,top:te,right:ee+ne,bottom:te+re,left:ee,x:ee,y:te}}function v2(D){return(Q=D,(Q instanceof o3(Q).Node?D.ownerDocument:D.document)||window.document).documentElement;var Q}function y2(D){return f2(D)?{scrollLeft:D.scrollLeft,scrollTop:D.scrollTop}:{scrollLeft:D.pageXOffset,scrollTop:D.pageYOffset}}function x2(D){return w2(v2(D)).left+y2(D).scrollLeft}function b2(D,Q,q){const X=c2(Q),B=v2(Q),j=w2(D,X&&function(G){const F=w2(G);return m2(F.width)!==G.offsetWidth||m2(F.height)!==G.offsetHeight}(Q),q==="fixed");let U={scrollLeft:0,scrollTop:0};const Y={x:0,y:0};if(X||!X&&q!=="fixed")if((r2(Q)!=="body"||u2(B))&&(U=y2(Q)),c2(Q)){const G=w2(Q,!0);Y.x=G.x+Q.clientLeft,Y.y=G.y+Q.clientTop}else B&&(Y.x=x2(B));return{x:j.left+U.scrollLeft-Y.x,y:j.top+U.scrollTop-Y.y,width:j.width,height:j.height}}function L2(D){return r2(D)==="html"?D:D.assignedSlot||D.parentNode||(s2(D)?D.host:null)||v2(D)}function R(D){return c2(D)&&getComputedStyle(D).position!=="fixed"?D.offsetParent:null}function T2(D){const Q=o3(D);let q=R(D);for(;q&&d2(q)&&getComputedStyle(q).position==="static";)q=R(q);return q&&(r2(q)==="html"||r2(q)==="body"&&getComputedStyle(q).position==="static"&&!h2(q))?Q:q||function(X){let B=L2(X);for(s2(B)&&(B=B.host);c2(B)&&!["html","body"].includes(r2(B));){if(h2(B))return B;B=B.parentNode}return null}(D)||Q}function W(D){if(c2(D))return{width:D.offsetWidth,height:D.offsetHeight};const Q=w2(D);return{width:Q.width,height:Q.height}}function E2(D){const Q=L2(D);return["html","body","#document"].includes(r2(Q))?D.ownerDocument.body:c2(Q)&&u2(Q)?Q:E2(Q)}function H(D,Q){var q;Q===void 0&&(Q=[]);const X=E2(D),B=X===((q=D.ownerDocument)==null?void 0:q.body),j=o3(X),U=B?[j].concat(j.visualViewport||[],u2(X)?X:[]):X,Y=Q.concat(U);return B?Y:Y.concat(H(U))}function C(D,Q,q){return Q==="viewport"?l$1(function(X,B){const j=o3(X),U=v2(X),Y=j.visualViewport;let G=U.clientWidth,F=U.clientHeight,K=0,J=0;if(Y){G=Y.width,F=Y.height;const ee=a2();(ee||!ee&&B==="fixed")&&(K=Y.offsetLeft,J=Y.offsetTop)}return{width:G,height:F,x:K,y:J}}(D,q)):f2(Q)?function(X,B){const j=w2(X,!1,B==="fixed"),U=j.top+X.clientTop,Y=j.left+X.clientLeft;return{top:U,left:Y,x:Y,y:U,right:Y+X.clientWidth,bottom:U+X.clientHeight,width:X.clientWidth,height:X.clientHeight}}(Q,q):l$1(function(X){var B;const j=v2(X),U=y2(X),Y=(B=X.ownerDocument)==null?void 0:B.body,G=p2(j.scrollWidth,j.clientWidth,Y?Y.scrollWidth:0,Y?Y.clientWidth:0),F=p2(j.scrollHeight,j.clientHeight,Y?Y.scrollHeight:0,Y?Y.clientHeight:0);let K=-U.scrollLeft+x2(X);const J=-U.scrollTop;return i3(Y||j).direction==="rtl"&&(K+=p2(j.clientWidth,Y?Y.clientWidth:0)-G),{width:G,height:F,x:K,y:J}}(v2(D)))}function S(D){const Q=H(D),q=["absolute","fixed"].includes(i3(D).position)&&c2(D)?T2(D):D;return f2(q)?Q.filter(X=>f2(X)&&function(B,j){const U=j.getRootNode==null?void 0:j.getRootNode();if(B.contains(j))return!0;if(U&&s2(U)){let Y=j;do{if(Y&&B===Y)return!0;Y=Y.parentNode||Y.host}while(Y)}return!1}(X,q)&&r2(X)!=="body"):[]}var D2={getClippingRect:function(D){let{element:Q,boundary:q,rootBoundary:X,strategy:B}=D;const j=[...q==="clippingAncestors"?S(Q):[].concat(q),X],U=j[0],Y=j.reduce((G,F)=>{const K=C(Q,F,B);return G.top=p2(K.top,G.top),G.right=g2(K.right,G.right),G.bottom=g2(K.bottom,G.bottom),G.left=p2(K.left,G.left),G},C(Q,U,B));return{width:Y.right-Y.left,height:Y.bottom-Y.top,x:Y.left,y:Y.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(D){let{rect:Q,offsetParent:q,strategy:X}=D;const B=c2(q),j=v2(q);if(q===j)return Q;let U={scrollLeft:0,scrollTop:0};const Y={x:0,y:0};if((B||!B&&X!=="fixed")&&((r2(q)!=="body"||u2(j))&&(U=y2(q)),c2(q))){const G=w2(q,!0);Y.x=G.x+q.clientLeft,Y.y=G.y+q.clientTop}return __spreadProps(__spreadValues({},Q),{x:Q.x-U.scrollLeft+Y.x,y:Q.y-U.scrollTop+Y.y})},isElement:f2,getDimensions:W,getOffsetParent:T2,getDocumentElement:v2,getElementRects:D=>{let{reference:Q,floating:q,strategy:X}=D;return{reference:b2(Q,T2(q),X),floating:__spreadProps(__spreadValues({},W(q)),{x:0,y:0})}},getClientRects:D=>Array.from(D.getClientRects()),isRTL:D=>i3(D).direction==="rtl"};function N(D,Q,q,X){X===void 0&&(X={});const{ancestorScroll:B=!0,ancestorResize:j=!0,elementResize:U=!0,animationFrame:Y=!1}=X,G=B&&!Y,F=j&&!Y,K=G||F?[...f2(D)?H(D):[],...H(Q)]:[];K.forEach(ne=>{G&&ne.addEventListener("scroll",q,{passive:!0}),F&&ne.addEventListener("resize",q)});let J,ee=null;if(U){let ne=!0;ee=new ResizeObserver(()=>{ne||q(),ne=!1}),f2(D)&&!Y&&ee.observe(D),ee.observe(Q)}let te=Y?w2(D):null;return Y&&function ne(){const re=w2(D);!te||re.x===te.x&&re.y===te.y&&re.width===te.width&&re.height===te.height||q(),te=re,J=requestAnimationFrame(ne)}(),q(),()=>{var ne;K.forEach(re=>{G&&re.removeEventListener("scroll",q),F&&re.removeEventListener("resize",q)}),(ne=ee)==null||ne.disconnect(),ee=null,Y&&cancelAnimationFrame(J)}}var z=(D,Q,q)=>o2(D,Q,__spreadValues({platform:D2},q)),SlPopup=class extends ShoelaceElement{constructor(){super(...arguments),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="initial",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){this.stop()}async handleAnchorChange(){if(await this.stop(),this.anchor&&typeof this.anchor=="string"){const D=this.getRootNode();this.anchorEl=D.getElementById(this.anchor)}else this.anchor instanceof HTMLElement?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');if(this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),!this.anchorEl)throw new Error("Invalid anchor element: no anchor could be found using the anchor slot or the anchor attribute.");this.start()}start(){!this.anchorEl||(this.cleanup=N(this.anchorEl,this.popup,()=>{this.reposition()}))}async stop(){return new Promise(D=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>D())):D()})}async updated(D){super.updated(D),D.has("active")&&(this.active?this.start():this.stop()),D.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}reposition(){if(!this.active||!this.anchorEl)return;const D=[T({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?D.push(k({apply:({rects:Q})=>{const q=this.sync==="width"||this.sync==="both",X=this.sync==="height"||this.sync==="both";this.popup.style.width=q?`${Q.reference.width}px`:"",this.popup.style.height=X?`${Q.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&D.push(b({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:this.flipFallbackStrategy==="best-fit"?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&D.push(L({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?D.push(k({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:Q,availableHeight:q})=>{this.autoSize==="vertical"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-height",`${q}px`):this.style.removeProperty("--auto-size-available-height"),this.autoSize==="horizontal"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-width",`${Q}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&D.push(m({element:this.arrowEl,padding:this.arrowPadding})),z(this.anchorEl,this.popup,{placement:this.placement,middleware:D,strategy:this.strategy}).then(({x:Q,y:q,middlewareData:X,placement:B})=>{const j=getComputedStyle(this).direction==="rtl",U={top:"bottom",right:"left",bottom:"top",left:"right"}[B.split("-")[0]];if(this.setAttribute("data-current-placement",B),Object.assign(this.popup.style,{left:`${Q}px`,top:`${q}px`}),this.arrow){const Y=X.arrow.x,G=X.arrow.y;let F="",K="",J="",ee="";if(this.arrowPlacement==="start"){const te=typeof Y=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";F=typeof G=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",K=j?te:"",ee=j?"":te}else if(this.arrowPlacement==="end"){const te=typeof Y=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";K=j?"":te,ee=j?te:"",J=typeof G=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else this.arrowPlacement==="center"?(ee=typeof Y=="number"?"calc(50% - var(--arrow-size-diagonal))":"",F=typeof G=="number"?"calc(50% - var(--arrow-size-diagonal))":""):(ee=typeof Y=="number"?`${Y}px`:"",F=typeof G=="number"?`${G}px`:"");Object.assign(this.arrowEl.style,{top:F,right:K,bottom:J,left:ee,[U]:"calc(var(--arrow-size-diagonal) * -1)"})}}),this.emit("sl-reposition")}render(){return $`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <div
        part="popup"
        class=${o$2({popup:!0,"popup--active":this.active,"popup--fixed":this.strategy==="fixed","popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?$`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};SlPopup.styles=popup_styles_default;__decorateClass$1([i2$1(".popup")],SlPopup.prototype,"popup",2);__decorateClass$1([i2$1(".popup__arrow")],SlPopup.prototype,"arrowEl",2);__decorateClass$1([e$1()],SlPopup.prototype,"anchor",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlPopup.prototype,"active",2);__decorateClass$1([e$1({reflect:!0})],SlPopup.prototype,"placement",2);__decorateClass$1([e$1({reflect:!0})],SlPopup.prototype,"strategy",2);__decorateClass$1([e$1({type:Number})],SlPopup.prototype,"distance",2);__decorateClass$1([e$1({type:Number})],SlPopup.prototype,"skidding",2);__decorateClass$1([e$1({type:Boolean})],SlPopup.prototype,"arrow",2);__decorateClass$1([e$1({attribute:"arrow-placement"})],SlPopup.prototype,"arrowPlacement",2);__decorateClass$1([e$1({attribute:"arrow-padding",type:Number})],SlPopup.prototype,"arrowPadding",2);__decorateClass$1([e$1({type:Boolean})],SlPopup.prototype,"flip",2);__decorateClass$1([e$1({attribute:"flip-fallback-placements",converter:{fromAttribute:D=>D.split(" ").map(Q=>Q.trim()).filter(Q=>Q!==""),toAttribute:D=>D.join(" ")}})],SlPopup.prototype,"flipFallbackPlacements",2);__decorateClass$1([e$1({attribute:"flip-fallback-strategy"})],SlPopup.prototype,"flipFallbackStrategy",2);__decorateClass$1([e$1({type:Object})],SlPopup.prototype,"flipBoundary",2);__decorateClass$1([e$1({attribute:"flip-padding",type:Number})],SlPopup.prototype,"flipPadding",2);__decorateClass$1([e$1({type:Boolean})],SlPopup.prototype,"shift",2);__decorateClass$1([e$1({type:Object})],SlPopup.prototype,"shiftBoundary",2);__decorateClass$1([e$1({attribute:"shift-padding",type:Number})],SlPopup.prototype,"shiftPadding",2);__decorateClass$1([e$1({attribute:"auto-size"})],SlPopup.prototype,"autoSize",2);__decorateClass$1([e$1()],SlPopup.prototype,"sync",2);__decorateClass$1([e$1({type:Object})],SlPopup.prototype,"autoSizeBoundary",2);__decorateClass$1([e$1({attribute:"auto-size-padding",type:Number})],SlPopup.prototype,"autoSizePadding",2);SlPopup=__decorateClass$1([n$1("sl-popup")],SlPopup);var menu_styles_default=r$2`
  ${component_styles_default}

  :host {
    display: block;
    position: relative;
    background: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    padding: var(--sl-spacing-x-small) 0;
    overflow: auto;
    overscroll-behavior: none;
  }

  ::slotted(sl-divider) {
    --spacing: var(--sl-spacing-x-small);
  }
`,SlMenu=class extends ShoelaceElement{constructor(){super(...arguments),this.typeToSelectString=""}connectedCallback(){super.connectedCallback(),this.setAttribute("role","menu")}getAllItems(D={includeDisabled:!0}){return[...this.defaultSlot.assignedElements({flatten:!0})].filter(Q=>!(Q.getAttribute("role")!=="menuitem"||!D.includeDisabled&&Q.disabled))}getCurrentItem(){return this.getAllItems({includeDisabled:!1}).find(D=>D.getAttribute("tabindex")==="0")}setCurrentItem(D){const Q=this.getAllItems({includeDisabled:!1}),q=D.disabled?Q[0]:D;Q.forEach(X=>{X.setAttribute("tabindex",X===q?"0":"-1")})}typeToSelect(D){var Q;const q=this.getAllItems({includeDisabled:!1});clearTimeout(this.typeToSelectTimeout),this.typeToSelectTimeout=window.setTimeout(()=>this.typeToSelectString="",1e3),D.key==="Backspace"?D.metaKey||D.ctrlKey?this.typeToSelectString="":this.typeToSelectString=this.typeToSelectString.slice(0,-1):this.typeToSelectString+=D.key.toLowerCase();for(const X of q){const B=(Q=X.shadowRoot)==null?void 0:Q.querySelector("slot:not([name])");if(getTextContent(B).toLowerCase().trim().startsWith(this.typeToSelectString)){this.setCurrentItem(X),X.focus();break}}}handleClick(D){const q=D.target.closest("sl-menu-item");(q==null?void 0:q.disabled)===!1&&this.emit("sl-select",{detail:{item:q}})}handleKeyDown(D){if(D.key==="Enter"){const Q=this.getCurrentItem();D.preventDefault(),Q==null||Q.click()}if(D.key===" "&&D.preventDefault(),["ArrowDown","ArrowUp","Home","End"].includes(D.key)){const Q=this.getAllItems({includeDisabled:!1}),q=this.getCurrentItem();let X=q?Q.indexOf(q):0;if(Q.length>0){D.preventDefault(),D.key==="ArrowDown"?X++:D.key==="ArrowUp"?X--:D.key==="Home"?X=0:D.key==="End"&&(X=Q.length-1),X<0&&(X=Q.length-1),X>Q.length-1&&(X=0),this.setCurrentItem(Q[X]),Q[X].focus();return}}this.typeToSelect(D)}handleMouseDown(D){const Q=D.target;Q.getAttribute("role")==="menuitem"&&this.setCurrentItem(Q)}handleSlotChange(){const D=this.getAllItems({includeDisabled:!1});D.length>0&&this.setCurrentItem(D[0])}render(){return $`
      <slot
        @slotchange=${this.handleSlotChange}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleMouseDown}
      ></slot>
    `}};SlMenu.styles=menu_styles_default;__decorateClass$1([i2$1("slot")],SlMenu.prototype,"defaultSlot",2);SlMenu=__decorateClass$1([n$1("sl-menu")],SlMenu);var menu_item_styles_default=r$2`
  ${component_styles_default}

  :host {
    display: block;
  }

  .menu-item {
    position: relative;
    display: flex;
    align-items: stretch;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-700);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-2x-small);
    transition: var(--sl-transition-fast) fill;
    user-select: none;
    white-space: nowrap;
    cursor: pointer;
  }

  .menu-item.menu-item--disabled {
    outline: none;
    opacity: 0.5;
    cursor: not-allowed;
  }

  .menu-item .menu-item__label {
    flex: 1 1 auto;
  }

  .menu-item .menu-item__prefix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__prefix ::slotted(*) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .menu-item .menu-item__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__suffix ::slotted(*) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  :host(:focus) {
    outline: none;
  }

  :host(:hover:not([aria-disabled='true'])) .menu-item,
  :host(:focus-visible:not(.sl-focus-invisible):not([aria-disabled='true'])) .menu-item {
    outline: none;
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .menu-item .menu-item__check,
  .menu-item .menu-item__chevron {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.5em;
    visibility: hidden;
  }

  .menu-item--checked .menu-item__check,
  .menu-item--has-submenu .menu-item__chevron {
    visibility: visible;
  }
`,SlMenuItem=class extends ShoelaceElement{constructor(){super(...arguments),this.checked=!1,this.value="",this.disabled=!1}firstUpdated(){this.setAttribute("role","menuitem")}getTextLabel(){return getTextContent(this.defaultSlot)}handleCheckedChange(){this.setAttribute("aria-checked",this.checked?"true":"false")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleDefaultSlotChange(){const D=this.getTextLabel();if(typeof this.cachedTextLabel>"u"){this.cachedTextLabel=D;return}D!==this.cachedTextLabel&&(this.cachedTextLabel=D,this.emit("sl-label-change"))}render(){return $`
      <div
        part="base"
        class=${o$2({"menu-item":!0,"menu-item--checked":this.checked,"menu-item--disabled":this.disabled,"menu-item--has-submenu":!1})}
      >
        <span part="checked-icon" class="menu-item__check">
          <sl-icon name="check-lg" library="system" aria-hidden="true"></sl-icon>
        </span>

        <span part="prefix" class="menu-item__prefix">
          <slot name="prefix"></slot>
        </span>

        <span part="label" class="menu-item__label">
          <slot @slotchange=${this.handleDefaultSlotChange}></slot>
        </span>

        <span part="suffix" class="menu-item__suffix">
          <slot name="suffix"></slot>
        </span>

        <span class="menu-item__chevron">
          <sl-icon name="chevron-right" library="system" aria-hidden="true"></sl-icon>
        </span>
      </div>
    `}};SlMenuItem.styles=menu_item_styles_default;__decorateClass$1([i2$1("slot:not([name])")],SlMenuItem.prototype,"defaultSlot",2);__decorateClass$1([i2$1(".menu-item")],SlMenuItem.prototype,"menuItem",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlMenuItem.prototype,"checked",2);__decorateClass$1([e$1()],SlMenuItem.prototype,"value",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlMenuItem.prototype,"disabled",2);__decorateClass$1([watch("checked")],SlMenuItem.prototype,"handleCheckedChange",1);__decorateClass$1([watch("disabled")],SlMenuItem.prototype,"handleDisabledChange",1);SlMenuItem=__decorateClass$1([n$1("sl-menu-item")],SlMenuItem);var button_styles_default=r$2`
  ${component_styles_default}

  :host {
    display: inline-block;
    position: relative;
    width: auto;
    cursor: pointer;
  }

  .button {
    display: inline-flex;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    border-style: solid;
    border-width: var(--sl-input-border-width);
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-font-weight-semibold);
    text-decoration: none;
    user-select: none;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0;
    transition: var(--sl-transition-x-fast) background-color, var(--sl-transition-x-fast) color,
      var(--sl-transition-x-fast) border, var(--sl-transition-x-fast) box-shadow;
    cursor: inherit;
  }

  .button::-moz-focus-inner {
    border: 0;
  }

  .button:focus {
    outline: none;
  }

  .button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When disabled, prevent mouse events from bubbling up */
  .button--disabled * {
    pointer-events: none;
  }

  .button__prefix,
  .button__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  .button__label ::slotted(sl-icon) {
    vertical-align: -2px;
  }

  /*
   * Standard buttons
   */

  /* Default */
  .button--standard.button--default {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--standard.button--default:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-300);
    color: var(--sl-color-primary-700);
  }

  .button--standard.button--default:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-100);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
  }

  /* Primary */
  .button--standard.button--primary {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--standard.button--success {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:hover:not(.button--disabled) {
    background-color: var(--sl-color-success-500);
    border-color: var(--sl-color-success-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:active:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--standard.button--neutral {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:hover:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:active:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--standard.button--warning {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }
  .button--standard.button--warning:hover:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--warning:active:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--standard.button--danger {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:hover:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:active:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Outline buttons
   */

  .button--outline {
    background: none;
    border: solid 1px;
  }

  /* Default */
  .button--outline.button--default {
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--outline.button--default:hover:not(.button--disabled),
  .button--outline.button--default.button--checked:not(.button--disabled) {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--default:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Primary */
  .button--outline.button--primary {
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-primary-600);
  }

  .button--outline.button--primary:hover:not(.button--disabled),
  .button--outline.button--primary.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--primary:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--outline.button--success {
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-success-600);
  }

  .button--outline.button--success:hover:not(.button--disabled),
  .button--outline.button--success.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--success:active:not(.button--disabled) {
    border-color: var(--sl-color-success-700);
    background-color: var(--sl-color-success-700);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--outline.button--neutral {
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-600);
  }

  .button--outline.button--neutral:hover:not(.button--disabled),
  .button--outline.button--neutral.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--neutral:active:not(.button--disabled) {
    border-color: var(--sl-color-neutral-700);
    background-color: var(--sl-color-neutral-700);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--outline.button--warning {
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-warning-600);
  }

  .button--outline.button--warning:hover:not(.button--disabled),
  .button--outline.button--warning.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--warning:active:not(.button--disabled) {
    border-color: var(--sl-color-warning-700);
    background-color: var(--sl-color-warning-700);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--outline.button--danger {
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-danger-600);
  }

  .button--outline.button--danger:hover:not(.button--disabled),
  .button--outline.button--danger.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--danger:active:not(.button--disabled) {
    border-color: var(--sl-color-danger-700);
    background-color: var(--sl-color-danger-700);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Text buttons
   */

  .button--text {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-600);
  }

  .button--text:hover:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:focus-visible:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:active:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-700);
  }

  /*
   * Size modifiers
   */

  .button--small {
    font-size: var(--sl-button-font-size-small);
    height: var(--sl-input-height-small);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
  }

  .button--medium {
    font-size: var(--sl-button-font-size-medium);
    height: var(--sl-input-height-medium);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
  }

  .button--large {
    font-size: var(--sl-button-font-size-large);
    height: var(--sl-input-height-large);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
  }

  /*
   * Pill modifier
   */

  .button--pill.button--small {
    border-radius: var(--sl-input-height-small);
  }

  .button--pill.button--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .button--pill.button--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Circle modifier
   */

  .button--circle {
    padding-left: 0;
    padding-right: 0;
  }

  .button--circle.button--small {
    width: var(--sl-input-height-small);
    border-radius: 50%;
  }

  .button--circle.button--medium {
    width: var(--sl-input-height-medium);
    border-radius: 50%;
  }

  .button--circle.button--large {
    width: var(--sl-input-height-large);
    border-radius: 50%;
  }

  .button--circle .button__prefix,
  .button--circle .button__suffix,
  .button--circle .button__caret {
    display: none;
  }

  /*
   * Caret modifier
   */

  .button--caret .button__suffix {
    display: none;
  }

  .button--caret .button__caret {
    display: flex;
    align-items: center;
  }

  .button--caret .button__caret svg {
    width: 1em;
    height: 1em;
  }

  /*
   * Loading modifier
   */

  .button--loading {
    position: relative;
    cursor: wait;
  }

  .button--loading .button__prefix,
  .button--loading .button__label,
  .button--loading .button__suffix,
  .button--loading .button__caret {
    visibility: hidden;
  }

  .button--loading sl-spinner {
    --indicator-color: currentColor;
    position: absolute;
    font-size: 1em;
    height: 1em;
    width: 1em;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
  }

  /*
   * Badges
   */

  .button ::slotted(sl-badge) {
    position: absolute;
    top: 0;
    right: 0;
    transform: translateY(-50%) translateX(50%);
    pointer-events: none;
  }

  .button--rtl ::slotted(sl-badge) {
    right: auto;
    left: 0;
    transform: translateY(-50%) translateX(-50%);
  }

  /*
   * Button spacing
   */

  .button--has-label.button--small .button__label {
    padding: 0 var(--sl-spacing-small);
  }

  .button--has-label.button--medium .button__label {
    padding: 0 var(--sl-spacing-medium);
  }

  .button--has-label.button--large .button__label {
    padding: 0 var(--sl-spacing-large);
  }

  .button--has-prefix.button--small {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--small .button__label {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--medium {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--medium .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-suffix.button--small,
  .button--caret.button--small {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--small .button__label,
  .button--caret.button--small .button__label {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--medium,
  .button--caret.button--medium {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--medium .button__label,
  .button--caret.button--medium .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large,
  .button--caret.button--large {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large .button__label,
  .button--caret.button--large .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  /*
   * Button groups support a variety of button types (e.g. buttons with tooltips, buttons as dropdown triggers, etc.).
   * This means buttons aren't always direct descendants of the button group, thus we can't target them with the
   * ::slotted selector. To work around this, the button group component does some magic to add these special classes to
   * buttons and we style them here instead.
   */

  :host(.sl-button-group__button--first:not(.sl-button-group__button--last)) .button {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
  }

  :host(.sl-button-group__button--inner) .button {
    border-radius: 0;
  }

  :host(.sl-button-group__button--last:not(.sl-button-group__button--first)) .button {
    border-start-start-radius: 0;
    border-end-start-radius: 0;
  }

  /* All except the first */
  :host(.sl-button-group__button:not(.sl-button-group__button--first)) {
    margin-inline-start: calc(-1 * var(--sl-input-border-width));
  }

  /* Add a visual separator between solid buttons */
  :host(.sl-button-group__button:not(.sl-button-group__button--focus, .sl-button-group__button--first, .sl-button-group__button--radio, [variant='default']):not(:hover, :active, :focus))
    .button:after {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    border-left: solid 1px rgb(128 128 128 / 33%);
    mix-blend-mode: multiply;
  }

  /* Bump hovered, focused, and checked buttons up so their focus ring isn't clipped */
  :host(.sl-button-group__button--hover) {
    z-index: 1;
  }

  :host(.sl-button-group__button--focus),
  :host(.sl-button-group__button[checked]) {
    z-index: 2;
  }
`,o=Symbol.for(""),e=D=>{var Q,q;if(((Q=D)===null||Q===void 0?void 0:Q.r)===o)return(q=D)===null||q===void 0?void 0:q._$litStatic$},l=(D,...Q)=>({_$litStatic$:Q.reduce((q,X,B)=>q+(j=>{if(j._$litStatic$!==void 0)return j._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${j}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(X)+D[B+1],D[0]),r:o}),a=new Map,s=D=>(Q,...q)=>{const X=q.length;let B,j;const U=[],Y=[];let G,F=0,K=!1;for(;F<X;){for(G=Q[F];F<X&&(j=q[F],(B=e(j))!==void 0);)G+=B+Q[++F],K=!0;Y.push(j),U.push(G),F++}if(F===X&&U.push(Q[X]),K){const J=U.join("$$lit$$");(Q=a.get(J))===void 0&&(U.raw=U,a.set(J,Q=U)),q=Y}return D(Q,...q)},n=s($);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var SlButton=class extends ShoelaceElement{constructor(){super(...arguments),this.formSubmitController=new FormSubmitController(this,{form:D=>{if(D.hasAttribute("form")){const Q=D.getRootNode(),q=D.getAttribute("form");return Q.getElementById(q)}return D.closest("form")}}),this.hasSlotController=new HasSlotController(this,"[default]","prefix","suffix"),this.localize=new LocalizeController2(this),this.hasFocus=!1,this.variant="default",this.size="medium",this.caret=!1,this.disabled=!1,this.loading=!1,this.outline=!1,this.pill=!1,this.circle=!1,this.type="button"}click(){this.button.click()}focus(D){this.button.focus(D)}blur(){this.button.blur()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(D){if(this.disabled||this.loading){D.preventDefault(),D.stopPropagation();return}this.type==="submit"&&this.formSubmitController.submit(this),this.type==="reset"&&this.formSubmitController.reset(this)}render(){const D=!!this.href,Q=D?l`a`:l`button`;return n`
      <${Q}
        part="base"
        class=${o$2({button:!0,"button--default":this.variant==="default","button--primary":this.variant==="primary","button--success":this.variant==="success","button--neutral":this.variant==="neutral","button--warning":this.variant==="warning","button--danger":this.variant==="danger","button--text":this.variant==="text","button--small":this.size==="small","button--medium":this.size==="medium","button--large":this.size==="large","button--caret":this.caret,"button--circle":this.circle,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--loading":this.loading,"button--standard":!this.outline,"button--outline":this.outline,"button--pill":this.pill,"button--rtl":this.localize.dir()==="rtl","button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
        ?disabled=${l$2(D?void 0:this.disabled)}
        type=${l$2(D?void 0:this.type)}
        name=${l$2(D?void 0:this.name)}
        value=${l$2(D?void 0:this.value)}
        href=${l$2(D?this.href:void 0)}
        target=${l$2(D?this.target:void 0)}
        download=${l$2(D?this.download:void 0)}
        rel=${l$2(D&&this.target?"noreferrer noopener":void 0)}
        role=${l$2(D?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <span part="prefix" class="button__prefix">
          <slot name="prefix"></slot>
        </span>
        <span part="label" class="button__label">
          <slot></slot>
        </span>
        <span part="suffix" class="button__suffix">
          <slot name="suffix"></slot>
        </span>
        ${this.caret?n`
                <span part="caret" class="button__caret">
                  <svg
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <polyline points="6 9 12 15 18 9"></polyline>
                  </svg>
                </span>
              `:""}
        ${this.loading?n`<sl-spinner></sl-spinner>`:""}
      </${Q}>
    `}};SlButton.styles=button_styles_default;__decorateClass$1([i2$1(".button")],SlButton.prototype,"button",2);__decorateClass$1([t$1()],SlButton.prototype,"hasFocus",2);__decorateClass$1([e$1({reflect:!0})],SlButton.prototype,"variant",2);__decorateClass$1([e$1({reflect:!0})],SlButton.prototype,"size",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlButton.prototype,"caret",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlButton.prototype,"disabled",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlButton.prototype,"loading",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlButton.prototype,"outline",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlButton.prototype,"pill",2);__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlButton.prototype,"circle",2);__decorateClass$1([e$1()],SlButton.prototype,"type",2);__decorateClass$1([e$1()],SlButton.prototype,"name",2);__decorateClass$1([e$1()],SlButton.prototype,"value",2);__decorateClass$1([e$1()],SlButton.prototype,"href",2);__decorateClass$1([e$1()],SlButton.prototype,"target",2);__decorateClass$1([e$1()],SlButton.prototype,"download",2);__decorateClass$1([e$1()],SlButton.prototype,"form",2);__decorateClass$1([e$1({attribute:"formaction"})],SlButton.prototype,"formAction",2);__decorateClass$1([e$1({attribute:"formmethod"})],SlButton.prototype,"formMethod",2);__decorateClass$1([e$1({attribute:"formnovalidate",type:Boolean})],SlButton.prototype,"formNoValidate",2);__decorateClass$1([e$1({attribute:"formtarget"})],SlButton.prototype,"formTarget",2);SlButton=__decorateClass$1([n$1("sl-button")],SlButton);var spinner_styles_default=r$2`
  ${component_styles_default}

  :host {
    --track-width: 2px;
    --track-color: rgb(128 128 128 / 25%);
    --indicator-color: var(--sl-color-primary-600);
    --speed: 2s;

    display: inline-flex;
    width: 1em;
    height: 1em;
  }

  .spinner {
    flex: 1 1 auto;
    height: 100%;
    width: 100%;
  }

  .spinner__track,
  .spinner__indicator {
    fill: none;
    stroke-width: var(--track-width);
    r: calc(0.5em - var(--track-width) / 2);
    cx: 0.5em;
    cy: 0.5em;
    transform-origin: 50% 50%;
  }

  .spinner__track {
    stroke: var(--track-color);
    transform-origin: 0% 0%;
    mix-blend-mode: multiply;
  }

  .spinner__indicator {
    stroke: var(--indicator-color);
    stroke-linecap: round;
    stroke-dasharray: 150% 75%;
    animation: spin var(--speed) linear infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
      stroke-dasharray: 0.01em, 2.75em;
    }

    50% {
      transform: rotate(450deg);
      stroke-dasharray: 1.375em, 1.375em;
    }

    100% {
      transform: rotate(1080deg);
      stroke-dasharray: 0.01em, 2.75em;
    }
  }
`,SlSpinner=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this)}render(){return $`
      <svg part="base" class="spinner" role="progressbar" aria-valuetext=${this.localize.term("loading")}>
        <circle class="spinner__track"></circle>
        <circle class="spinner__indicator"></circle>
      </svg>
    `}};SlSpinner.styles=spinner_styles_default;SlSpinner=__decorateClass$1([n$1("sl-spinner")],SlSpinner);var divider_styles_default=r$2`
  ${component_styles_default}

  :host {
    --color: var(--sl-panel-border-color);
    --width: var(--sl-panel-border-width);
    --spacing: var(--sl-spacing-medium);
  }

  :host(:not([vertical])) {
    display: block;
    border-top: solid var(--width) var(--color);
    margin: var(--spacing) 0;
  }

  :host([vertical]) {
    display: inline-block;
    height: 100%;
    border-left: solid var(--width) var(--color);
    margin: 0 var(--spacing);
  }
`,SlDivider=class extends ShoelaceElement{constructor(){super(...arguments),this.vertical=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","separator")}handleVerticalChange(){this.setAttribute("aria-orientation",this.vertical?"vertical":"horizontal")}};SlDivider.styles=divider_styles_default;__decorateClass$1([e$1({type:Boolean,reflect:!0})],SlDivider.prototype,"vertical",2);__decorateClass$1([watch("vertical")],SlDivider.prototype,"handleVerticalChange",1);SlDivider=__decorateClass$1([n$1("sl-divider")],SlDivider);var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(D,Q,q,X)=>{for(var B=X>1?void 0:X?__getOwnPropDesc(Q,q):Q,j=D.length-1,U;j>=0;j--)(U=D[j])&&(B=(X?U(Q,q,B):U(B))||B);return X&&B&&__defProp(Q,q,B),B};let CodeCell=class extends LitElementWw{constructor(){super(...arguments),this.editable=!0,this.exercises=[{description:"Test",exerciseType:"Test",editorStates:{doc:"Test",extensions:[mySetup,javascript(),autocompletion()]}}],this.exerciseTypes=["Kein Aufgabentyp","Fill The Blanks","Code Skeleton","Buggy Code","Code From Scratch","Code Baseline","Find The Bug","Compiling Errors","Code Interpretation","Keyword Use"],this.exerciseLanguage="Javascript",this.exerciseType="Kein Aufgabentyp",this.codeMirror=new EditorView,this.autocompletionEnabled=!0,this.showDisableButton=!0,this.codeRunner=this.executeJavascript,this.language=new Compartment,this.autocompletion=new Compartment,this.readOnlyRanges=new Compartment}static get scopedElements(){return{"sl-input":SlInput,"sl-checkbox":SlCheckbox,"sl-dropdown":SlDropdown,"sl-menu":SlMenu,"sl-menu-item":SlMenuItem,"sl-button":SlButton,"sl-divider":SlDivider}}render(){return y$1`
    <div class="Wrapper">
      ${this.editable?y$1`${this.exerciseCreationTemplate()}`:y$1``} 
      <div id="code"></div>
      ${this.codeRunner("")?y$1`
      <div id="runCode">
        <sl-button @click=${()=>this.runCode()}>></sl-button>
        <sl-button @click=${()=>this.clearCode()}>Clear</sl-button>
      </div>`:y$1``}
    </div>`}firstUpdated(){var D;this.codeMirror=this.createCodeMirror((D=this.shadowRoot)==null?void 0:D.getElementById("code")),this.codeMirror.focus()}exerciseCreationTemplate(){return y$1`
    <div class="createExercise">
      <div class="exerciseChoice">
        ${this.exerciseTypeTemplate()}
        ${this.exerciseLanguageTemplate()}
      </div>
      ${this.editorFeatureTemplate()}
      </div>`}exerciseTypeTemplate(){return y$1`
        <sl-dropdown label="exerciseType">
          <sl-button slot="trigger" caret class="dropdown">${this.exerciseType}</sl-button>
          <sl-menu>
            ${this.exerciseTypes.map(D=>y$1`
              <sl-menu-item @click=${()=>{this.switchExerciseCodeMirror(D)}}>
                ${D}
              </sl-menu-item>`)}   
          </sl-menu>
        </sl-dropdown>`}exerciseLanguageTemplate(){return y$1`
      <sl-dropdown label="Language">
        <sl-button slot="trigger" caret class="dropdown">${this.exerciseLanguage}</sl-button>
        <sl-menu>
          <sl-menu-item @click=${()=>this.changeCodeMirrorLanguage("Javascript")}>Javascript</sl-menu-item>
          <sl-menu-item @click=${()=>this.changeCodeMirrorLanguage("Python")} >Python</sl-menu-item>
        </sl-menu>
      </sl-dropdown>`}editorFeatureTemplate(){return y$1`
      <sl-divider></sl-divider>
      <div class="editorFeature">
        ${this.showDisableButton?y$1`<sl-button @click=${()=>{}} class="dropdown">Disable editing</sl-button>`:y$1``}
        <sl-checkbox checked @sl-change=${()=>{this.disableAutocomplete()}} class="dropdown">Autocompletion</sl-checkbox>
      </div>
    `}executeJavascript(code){try{return eval(code)===void 0?"undefined":eval(code)===null?"null":eval(code)}catch(D){return D}}async runCode(){const D=this.codeMirror.state.doc.toString();this.codeMirror.dispatch({changes:{from:this.codeMirror.state.doc.length,to:this.codeMirror.state.doc.length,insert:`
// Result: `+await this.codeRunner(D).toString()}})}clearCode(){this.codeMirror.dispatch({changes:{from:0,to:this.codeMirror.state.doc.length,insert:""}})}changeCodeMirrorLanguage(D){D==="Javascript"?(this.exerciseLanguage="Javascript",this.codeRunner=this.executeJavascript,this.codeMirror.dispatch({effects:this.language.reconfigure(javascript())})):(this.exerciseLanguage="Python",this.codeRunner=()=>null,this.codeMirror.dispatch({effects:this.language.reconfigure(python())})),this.codeMirror.focus()}disableAutocomplete(){this.autocompletionEnabled=!this.autocompletionEnabled,this.autocompletionEnabled?this.codeMirror.dispatch({effects:this.autocompletion.reconfigure(autocompletion())}):this.codeMirror.dispatch({effects:this.autocompletion.reconfigure([])}),this.codeMirror.focus()}switchExerciseCodeMirror(D){switch(this.exerciseType=D,this.codeMirror.dispatch({changes:{from:0,to:this.codeMirror.state.doc.length,insert:this.exerciseType!=="Kein Aufgabentyp"?this.exerciseType:""}}),this.codeMirror.focus(),D){case"Kein Aufgabentyp":this.showDisableButton=!0;break;case"Fill The Blanks":this.showDisableButton=!0;break;case"Code Skeleton":this.showDisableButton=!0;break;case"Buggy Code":this.showDisableButton=!0;break;case"Code From Scratch":this.showDisableButton=!0;break;case"Code Baseline":this.showDisableButton=!0;break;case"Find The Bug":this.showDisableButton=!0;break;case"Compiling Errors":this.showDisableButton=!1;break;case"Code Interpretation":this.showDisableButton=!1;break;case"Keyword Use":this.showDisableButton=!0;break}}createCodeMirror(D){return new EditorView({state:EditorState.create({doc:"",extensions:[mySetup,this.language.of(javascript()),this.autocompletion.of(autocompletion())]}),parent:D})}};CodeCell.styles=style;__decorateClass([e$4({type:Boolean,reflect:!0,attribute:!0})],CodeCell.prototype,"editable",2);__decorateClass([e$4({type:Array})],CodeCell.prototype,"exercises",2);__decorateClass([e$4({type:Array})],CodeCell.prototype,"exerciseTypes",2);__decorateClass([e$4({type:String})],CodeCell.prototype,"exerciseLanguage",2);__decorateClass([e$4({type:String})],CodeCell.prototype,"exerciseType",2);__decorateClass([e$4({type:EditorView})],CodeCell.prototype,"codeMirror",2);__decorateClass([e$4()],CodeCell.prototype,"autocompletionEnabled",2);__decorateClass([e$4()],CodeCell.prototype,"showDisableButton",2);__decorateClass([e$4()],CodeCell.prototype,"codeRunner",2);CodeCell=__decorateClass([e$5("ww-code-cell")],CodeCell);
